{"version":3,"file":"static/js/main.a565b59d.js","mappings":"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","sources":["../node_modules/react/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/react-dom/client.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/react-dom/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/LandingPage.js","components/LoginPage.js","components/BookListPage.js","components/ImageViewer.js","../node_modules/@babel/runtime/helpers/esm/toSetter.js","../node_modules/@babel/runtime/helpers/esm/checkPrivateRedeclaration.js","../node_modules/@babel/runtime/helpers/esm/classPrivateMethodInitSpec.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldInitSpec.js","../node_modules/@babel/runtime/helpers/esm/assertClassBrand.js","../node_modules/@babel/runtime/helpers/esm/classPrivateGetter.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet2.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet2.js","../node_modules/@babel/runtime/helpers/esm/asyncIterator.js","../pdf.js/src/shared/util.js","../pdf.js/src/display/display_utils.js","../pdf.js/src/display/editor/toolbar.js","../pdf.js/src/display/editor/tools.js","../pdf.js/src/display/editor/alt_text.js","../pdf.js/src/display/editor/comment.js","../pdf.js/src/display/touch_manager.js","../pdf.js/src/display/editor/editor.js","../pdf.js/src/shared/murmurhash3.js","../pdf.js/src/display/annotation_storage.js","../pdf.js/src/display/font_loader.js","../pdf.js/src/display/api_utils.js","../pdf.js/src/shared/message_handler.js","../pdf.js/src/display/canvas_factory.js","../pdf.js/src/display/cmap_reader_factory.js","../pdf.js/src/display/filter_factory.js","../pdf.js/src/display/standard_fontdata_factory.js","../pdf.js/src/display/wasm_factory.js","../pdf.js/src/display/node_utils.js","../pdf.js/src/display/canvas_dependency_tracker.js","../pdf.js/src/display/pattern_helper.js","../pdf.js/src/shared/image_utils.js","../pdf.js/src/display/canvas.js","../pdf.js/src/display/worker_options.js","../pdf.js/src/display/metadata.js","../pdf.js/src/display/optional_content_config.js","../pdf.js/src/display/transport_stream.js","../pdf.js/src/display/network_utils.js","../pdf.js/src/display/content_disposition.js","../pdf.js/src/display/fetch_stream.js","../pdf.js/src/display/network.js","../pdf.js/src/display/node_stream.js","../pdf.js/src/display/pdf_objects.js","../pdf.js/src/display/text_layer.js","../pdf.js/src/display/xfa_text.js","../pdf.js/src/display/api.js","../pdf.js/src/display/editor/color_picker.js","../pdf.js/src/shared/scripting_utils.js","../pdf.js/src/display/svg_factory.js","../pdf.js/src/display/xfa_layer.js","../pdf.js/src/display/annotation_layer.js","../pdf.js/src/display/editor/freetext.js","../pdf.js/src/display/editor/drawers/outline.js","../pdf.js/src/display/editor/drawers/freedraw.js","../pdf.js/src/display/editor/drawers/highlight.js","../pdf.js/src/display/editor/highlight.js","../pdf.js/src/display/editor/draw.js","../pdf.js/src/display/editor/drawers/inkdraw.js","../pdf.js/src/display/editor/ink.js","../pdf.js/src/display/editor/drawers/contour.js","../pdf.js/src/display/editor/drawers/signaturedraw.js","../pdf.js/src/display/editor/signature.js","../pdf.js/src/display/editor/stamp.js","../pdf.js/src/display/editor/annotation_editor_layer.js","../pdf.js/src/display/draw_layer.js","../pdf.js/src/pdf.js","components/StaticPDFViewer.js","components/AIChatbot.js","components/TeacherLoginPage.js","components/TeacherSubmissionPage.js","components/TeacherBookListPage.js","components/TeacherAnnotationViewer.js","components/StudentFeedbackViewer.js","components/MathProblemImage.js","components/AdminPage.js","App.js","reportWebVitals.js","index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"16e5ab7f\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"soma-online-demo:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/Soma-Online-Demo/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksoma_online_demo\"] = self[\"webpackChunksoma_online_demo\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","import React from 'react';\n\nconst LandingPage = ({ onSelectUserType }) => {\n  //   \n  const VideoCard = ({ src, style, isSmall = false }) => (\n    <div style={{\n      width: '1136px',\n      height: '400px',\n      margin: '0 auto 3rem',\n      position: 'relative',\n      borderRadius: '20px',\n      overflow: 'hidden',\n      boxShadow: '0 20px 40px rgba(0, 0, 0, 0.15)',\n      ...style\n    }}>\n      <video\n        src={src}\n        loop\n        muted\n        autoPlay\n        playsInline\n        style={{\n          width: isSmall ? '66.67%' : '100%',\n          height: isSmall ? '66.67%' : '100%',\n          objectFit: 'cover',\n          position: isSmall ? 'absolute' : 'relative',\n          top: isSmall ? 'auto' : 'auto',\n          bottom: isSmall ? '0' : 'auto',\n          left: isSmall ? '50%' : 'auto',\n          transform: isSmall ? 'translateX(-50%)' : 'none'\n        }}\n      />\n    </div>\n  );\n\n  const userTypes = [\n    {\n      id: 'admin',\n      title: ' & AI ',\n      subtitle: 'Admin ',\n      description: ' , AI ,  ',\n      icon: (\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 2L2 7L12 12L22 7L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M2 17L12 22L22 17\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M2 12L12 17L22 12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n        </svg>\n      ),\n      color: '#8B5CF6', // \n      badge: 'Demo',\n      isPrimary: false\n    },\n    {\n      id: 'teacher',\n      title: ' & ',\n      subtitle: ' ',\n      description: '  , AI ,  ',\n      icon: (\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M9 12L11 14L15 10\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n        </svg>\n      ),\n      color: '#10B981', // \n      badge: 'Demo',\n      isPrimary: false\n    },\n    {\n      id: 'student',\n      title: ' & ',\n      subtitle: ' ',\n      description: ' ,  ,  ',\n      icon: (\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M19 3L21 5L19 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          <path d=\"M5 3L3 5L5 7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n        </svg>\n      ),\n      color: '#F59E0B', // \n      badge: null,\n      isPrimary: true\n    }\n  ];\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #f1f5f9 100%)',\n      fontFamily: 'var(--font-body)'\n    }}>\n      {/*   */}\n      <nav style={{\n        padding: '1rem 2rem',\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderBottom: '1px solid rgba(226, 232, 240, 0.8)',\n        position: 'sticky',\n        top: 0,\n        zIndex: 100\n      }}>\n        <div style={{\n          maxWidth: '1200px',\n          margin: '0 auto',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem'\n          }}>\n            <div style={{\n              width: '32px',\n              height: '32px',\n              background: 'linear-gradient(135deg, #F59E0B 0%, #10B981 50%, #8B5CF6 100%)',\n              borderRadius: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}>\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"white\">\n                <path d=\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\"/>\n              </svg>\n            </div>\n            <span style={{\n              fontSize: '1.25rem',\n              fontWeight: 'bold',\n              color: '#1e293b'\n            }}> </span>\n          </div>\n          \n          <div style={{\n            display: 'flex',\n            gap: '2rem',\n            alignItems: 'center'\n          }}>\n            <a href=\"/\" style={{\n              color: '#64748b',\n              textDecoration: 'none',\n              fontSize: '0.9rem',\n              transition: 'color 0.2s'\n            }}></a>\n            <a href=\"/\" style={{\n              color: '#64748b',\n              textDecoration: 'none',\n              fontSize: '0.9rem',\n              transition: 'color 0.2s'\n            }}></a>\n            <a href=\"/\" style={{\n              color: '#64748b',\n              textDecoration: 'none',\n              fontSize: '0.9rem',\n              transition: 'color 0.2s'\n            }}></a>\n          </div>\n        </div>\n      </nav>\n\n      {/*   */}\n      <main style={{\n        maxWidth: '1200px',\n        margin: '0 auto',\n        padding: '4rem 2rem',\n        position: 'relative',\n        overflow: 'hidden'\n      }}>\n\n        {/*   */}\n        <div style={{\n          textAlign: 'center',\n          marginBottom: '4rem',\n          position: 'relative',\n          zIndex: 2\n        }}>\n          <h1 style={{\n            fontSize: '3.5rem',\n            fontWeight: 'bold',\n            color: '#1e293b',\n            marginBottom: '1rem',\n            lineHeight: 1.2,\n            fontFamily: 'var(--font-title)'\n          }}>\n              <br />\n            <span style={{\n              background: 'linear-gradient(135deg, #F59E0B 0%, #10B981 50%, #8B5CF6 100%)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              backgroundClip: 'text'\n            }}>   </span>\n          </h1>\n          \n          <p style={{\n            fontSize: '1.25rem',\n            color: '#64748b',\n            maxWidth: '600px',\n            margin: '0 auto 3rem',\n            lineHeight: 1.6,\n            fontFamily: 'var(--font-body)'\n          }}>\n            AI     <br />\n                \n          </p>\n        </div>\n\n        {/*     */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n          gap: '2rem',\n          marginBottom: '4rem',\n          position: 'relative',\n          zIndex: 2\n        }}>\n          {userTypes.map((userType) => (\n            <div\n              key={userType.id}\n              onClick={() => onSelectUserType(userType.id)}\n              style={{\n                background: userType.isPrimary \n                  ? `linear-gradient(135deg, ${userType.color}15 0%, ${userType.color}25 100%)`\n                  : 'white',\n                border: userType.isPrimary \n                  ? `2px solid ${userType.color}40`\n                  : '2px solid #e2e8f0',\n                borderRadius: '20px',\n                padding: '2.5rem 2rem',\n                textAlign: 'center',\n                cursor: 'pointer',\n                transition: 'all 0.3s ease',\n                position: 'relative',\n                overflow: 'hidden',\n                boxShadow: userType.isPrimary \n                  ? `0 20px 40px ${userType.color}20`\n                  : '0 10px 30px rgba(0, 0, 0, 0.1)',\n                transform: 'translateY(0)',\n                ':hover': {\n                  transform: 'translateY(-8px)',\n                  boxShadow: `0 25px 50px ${userType.color}30`\n                }\n              }}\n              onMouseEnter={(e) => {\n                e.target.style.transform = 'translateY(-8px)';\n                e.target.style.boxShadow = `0 25px 50px ${userType.color}30`;\n              }}\n              onMouseLeave={(e) => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = userType.isPrimary \n                  ? `0 20px 40px ${userType.color}20`\n                  : '0 10px 30px rgba(0, 0, 0, 0.1)';\n              }}\n            >\n              {/*  */}\n              {userType.badge && (\n                <div style={{\n                  position: 'absolute',\n                  top: '1rem',\n                  right: '1rem',\n                  background: '#64748b',\n                  color: 'white',\n                  padding: '0.25rem 0.75rem',\n                  borderRadius: '12px',\n                  fontSize: '0.75rem',\n                  fontWeight: '600'\n                }}>\n                  {userType.badge}\n                </div>\n              )}\n\n              {/*   */}\n              <div style={{\n                width: '80px',\n                height: '80px',\n                background: `linear-gradient(135deg, ${userType.color}20 0%, ${userType.color}40 100%)`,\n                borderRadius: '20px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 1.5rem',\n                color: userType.color,\n                position: 'relative'\n              }}>\n                {userType.icon}\n                \n              </div>\n\n              {/*  */}\n              <h3 style={{\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                color: '#1e293b',\n                marginBottom: '0.5rem',\n                fontFamily: 'var(--font-title)'\n              }}>\n                {userType.title}\n              </h3>\n\n              {/*  */}\n              <p style={{\n                fontSize: '1rem',\n                color: userType.color,\n                fontWeight: '600',\n                marginBottom: '1rem'\n              }}>\n                {userType.subtitle}\n              </p>\n\n              {/*  */}\n              <p style={{\n                fontSize: '0.9rem',\n                color: '#64748b',\n                lineHeight: 1.5,\n                fontFamily: 'var(--font-body)'\n              }}>\n                {userType.description}\n              </p>\n\n              {/*   */}\n              <div style={{\n                marginTop: '1.5rem',\n                padding: '0.75rem 1.5rem',\n                background: userType.isPrimary \n                  ? `linear-gradient(135deg, ${userType.color} 0%, ${userType.color}dd 100%)`\n                  : '#f8fafc',\n                color: userType.isPrimary ? 'white' : '#64748b',\n                borderRadius: '12px',\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                display: 'inline-block',\n                border: userType.isPrimary ? 'none' : '1px solid #e2e8f0'\n              }}>\n                {userType.isPrimary ? ' ' : ' '}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/*     -    */}\n        <VideoCard \n          src={`${process.env.PUBLIC_URL}/assets/characters/character.mp4`}\n        />\n\n        {/*   */}\n        <div style={{\n          background: 'white',\n          borderRadius: '20px',\n          padding: '2.5rem',\n          boxShadow: '0 10px 30px rgba(0, 0, 0, 0.1)',\n          marginBottom: '3rem',\n          position: 'relative',\n          zIndex: 2\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.75rem',\n            marginBottom: '2rem'\n          }}>\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\" stroke=\"#F59E0B\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M19 3L21 5L19 7\" stroke=\"#F59E0B\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M5 3L3 5L5 7\" stroke=\"#F59E0B\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n            <h3 style={{\n              fontSize: '1.5rem',\n              fontWeight: 'bold',\n              color: '#1e293b',\n              margin: 0\n            }}>\n               \n            </h3>\n          </div>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n            gap: '2rem'\n          }}>\n            <div style={{ textAlign: 'center', position: 'relative' }}>\n              <div style={{\n                width: '60px',\n                height: '60px',\n                background: 'linear-gradient(135deg, #F59E0B 0%, #F59E0Bdd 100%)',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 1rem',\n                color: 'white',\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                position: 'relative'\n              }}>\n                1\n              </div>\n              <h4 style={{\n                fontSize: '1.1rem',\n                fontWeight: '600',\n                color: '#1e293b',\n                marginBottom: '0.5rem'\n              }}>\n                 \n              </h4>\n              <p style={{\n                fontSize: '0.9rem',\n                color: '#64748b',\n                lineHeight: 1.5\n              }}>\n                Admin, ,  <br />  \n              </p>\n            </div>\n\n            <div style={{ textAlign: 'center', position: 'relative' }}>\n              <div style={{\n                width: '60px',\n                height: '60px',\n                background: 'linear-gradient(135deg, #10B981 0%, #10B981dd 100%)',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 1rem',\n                color: 'white',\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                position: 'relative'\n              }}>\n                2\n              </div>\n              <h4 style={{\n                fontSize: '1.1rem',\n                fontWeight: '600',\n                color: '#1e293b',\n                marginBottom: '0.5rem'\n              }}>\n                 \n              </h4>\n              <p style={{\n                fontSize: '0.9rem',\n                color: '#64748b',\n                lineHeight: 1.5\n              }}>\n                  <br />  \n              </p>\n            </div>\n\n            <div style={{ textAlign: 'center', position: 'relative' }}>\n              <div style={{\n                width: '60px',\n                height: '60px',\n                background: 'linear-gradient(135deg, #8B5CF6 0%, #8B5CF6dd 100%)',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                margin: '0 auto 1rem',\n                color: 'white',\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                position: 'relative'\n              }}>\n                3\n              </div>\n              <h4 style={{\n                fontSize: '1.1rem',\n                fontWeight: '600',\n                color: '#1e293b',\n                marginBottom: '0.5rem'\n              }}>\n                 \n              </h4>\n              <p style={{\n                fontSize: '0.9rem',\n                color: '#64748b',\n                lineHeight: 1.5\n              }}>\n                  <br />  \n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/*     -    */}\n        <VideoCard \n          src={`${process.env.PUBLIC_URL}/assets/characters/vdo_char_pc.mp4`}\n          isSmall={true}\n          style={{\n            background: '#ed9b2c'\n          }}\n        />\n\n      </main>\n\n\n      {/*   */}\n      <footer style={{\n        background: '#f8fafc',\n        padding: '2rem',\n        textAlign: 'center',\n        borderTop: '1px solid #e2e8f0',\n        marginTop: '4rem'\n      }}>\n        <p style={{\n          fontSize: '0.9rem',\n          color: '#94a3b8'\n        }}>\n           2024  .   .\n        </p>\n      </footer>\n\n      {/* CSS  */}\n      <style jsx>{`\n        @keyframes bounce {\n          0%, 20%, 50%, 80%, 100% {\n            transform: translateY(0);\n          }\n          40% {\n            transform: translateY(-10px);\n          }\n          60% {\n            transform: translateY(-5px);\n          }\n        }\n\n        @keyframes wiggle {\n          0%, 100% {\n            transform: rotate(0deg);\n          }\n          25% {\n            transform: rotate(5deg);\n          }\n          75% {\n            transform: rotate(-5deg);\n          }\n        }\n\n        @keyframes float {\n          0%, 100% {\n            transform: translateY(0px);\n          }\n          50% {\n            transform: translateY(-8px);\n          }\n        }\n\n        @keyframes pulse {\n          0%, 100% {\n            opacity: 1;\n          }\n          50% {\n            opacity: 0.7;\n          }\n        }\n\n        /*   */\n        .character-hover:hover {\n          animation: pulse 1s infinite;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","import React, { useState } from 'react';\n\nconst LoginPage = ({ onLogin }) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (username && password) {\n      onLogin();\n    }\n  };\n\n  return (\n    <div style={{\n      height: '100vh',\n      background: 'linear-gradient(135deg, #fefefe 0%, #f8fafc 50%, #f1f5f9 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontFamily: \"'SEBANG Gothic', sans-serif\"\n    }}>\n      <div style={{\n        background: 'linear-gradient(135deg, #ffffff 0%, #fefefe 100%)',\n        padding: '3rem',\n        borderRadius: '24px',\n        boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\n        border: '2px solid #f1f5f9',\n        width: '100%',\n        maxWidth: '400px',\n        textAlign: 'center'\n      }}>\n        {/* / */}\n        <div style={{\n          marginBottom: '2rem'\n        }}>\n          <div style={{\n            width: '80px',\n            height: '80px',\n            background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n            borderRadius: '20px',\n            margin: '0 auto 1rem',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 10px 15px -3px rgba(249, 115, 22, 0.3)'\n          }}>\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"white\">\n              <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n            </svg>\n          </div>\n          <h1 style={{\n            fontFamily: \"'SEBANG Gothic', sans-serif\",\n            fontWeight: '700',\n            fontSize: '2rem',\n            color: '#1e293b',\n            marginBottom: '0.5rem',\n            background: 'linear-gradient(135deg, #f97316, #ea580c)',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            backgroundClip: 'text'\n          }}>\n              \n          </h1>\n          <p style={{\n            fontFamily: \"'SEBANG Gothic', sans-serif\",\n            fontWeight: '400',\n            fontSize: '1rem',\n            color: '#64748b'\n          }}>\n                  \n          </p>\n        </div>\n\n        {/*   */}\n        <form onSubmit={handleSubmit}>\n          <div style={{ marginBottom: '1.5rem' }}>\n            <input\n              type=\"text\"\n              placeholder=\" \"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '1rem',\n                border: '2px solid #e2e8f0',\n                borderRadius: '12px',\n                fontSize: '1rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                backgroundColor: '#f8fafc',\n                transition: 'all 0.2s ease',\n                outline: 'none'\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#f97316';\n                e.target.style.backgroundColor = '#ffffff';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = '#e2e8f0';\n                e.target.style.backgroundColor = '#f8fafc';\n              }}\n            />\n          </div>\n          \n          <div style={{ marginBottom: '2rem' }}>\n            <input\n              type=\"password\"\n              placeholder=\" \"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '1rem',\n                border: '2px solid #e2e8f0',\n                borderRadius: '12px',\n                fontSize: '1rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                backgroundColor: '#f8fafc',\n                transition: 'all 0.2s ease',\n                outline: 'none'\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#f97316';\n                e.target.style.backgroundColor = '#ffffff';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = '#e2e8f0';\n                e.target.style.backgroundColor = '#f8fafc';\n              }}\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            style={{\n              width: '100%',\n              padding: '1rem',\n              background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              fontSize: '1.1rem',\n              fontFamily: \"'SEBANG Gothic', sans-serif\",\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n              boxShadow: '0 4px 6px -1px rgba(249, 115, 22, 0.3)'\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.transform = 'translateY(-2px)';\n              e.target.style.boxShadow = '0 8px 15px -3px rgba(249, 115, 22, 0.4)';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.transform = 'translateY(0)';\n              e.target.style.boxShadow = '0 4px 6px -1px rgba(249, 115, 22, 0.3)';\n            }}\n          >\n            \n          </button>\n        </form>\n\n        {/*   */}\n        <div style={{\n          marginTop: '2rem',\n          padding: '1rem',\n          background: 'linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)',\n          borderRadius: '12px',\n          border: '1px solid #bae6fd'\n        }}>\n          <p style={{\n            fontFamily: \"'SEBANG Gothic', sans-serif\",\n            fontSize: '0.875rem',\n            color: '#0369a1',\n            margin: '0'\n          }}>\n              :  /     \n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { useState } from 'react';\n\nconst BookListPage = ({ files, onBookSelect, onBackToLogin, feedbackAlert, setFeedbackAlert, setTeacherFeedback, notifications, setNotifications }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [favorites, setFavorites] = useState(new Set());\n  const [activeTab, setActiveTab] = useState('books'); // 'books'  'notifications'\n\n  //  \n  const filteredFiles = files.filter(file =>\n    file.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  //  \n  const toggleFavorite = (fileId, e) => {\n    e.stopPropagation();\n    const newFavorites = new Set(favorites);\n    if (newFavorites.has(fileId)) {\n      newFavorites.delete(fileId);\n    } else {\n      newFavorites.add(fileId);\n    }\n    setFavorites(newFavorites);\n  };\n\n  //    \n  const sortedFiles = [...filteredFiles].sort((a, b) => {\n    const aIsFavorite = favorites.has(a.id);\n    const bIsFavorite = favorites.has(b.id);\n    if (aIsFavorite && !bIsFavorite) return -1;\n    if (!aIsFavorite && bIsFavorite) return 1;\n    return 0;\n  });\n\n  return (\n    <div style={{\n      height: '100vh',\n      background: 'linear-gradient(135deg, #fefefe 0%, #f8fafc 50%, #f1f5f9 100%)',\n      fontFamily: \"'SEBANG Gothic', sans-serif\"\n    }}>\n      {/*    */}\n      {feedbackAlert && (\n        <div style={{\n          position: 'fixed',\n          top: '20px',\n          right: '20px',\n          background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n          color: 'white',\n          padding: '1rem 1.5rem',\n          borderRadius: '12px',\n          boxShadow: '0 10px 25px rgba(16, 185, 129, 0.3)',\n          zIndex: 1000,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '1rem',\n          minWidth: '300px',\n          animation: 'slideIn 0.3s ease-out'\n        }}>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.2)',\n            borderRadius: '50%',\n            width: '40px',\n            height: '40px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n            </svg>\n          </div>\n          <div>\n            <div style={{ fontWeight: 'bold', fontSize: '1rem' }}>  </div>\n            <div style={{ fontSize: '0.875rem', opacity: 0.9 }}>  </div>\n          </div>\n          <button\n            onClick={() => {\n              setFeedbackAlert(false);\n              //    \n              const feedback = localStorage.getItem('teacherFeedback');\n              if (feedback) {\n                setTeacherFeedback(JSON.parse(feedback));\n              }\n            }}\n            style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: 'none',\n              color: 'white',\n              padding: '0.5rem',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '0.875rem'\n            }}\n          >\n            \n          </button>\n        </div>\n      )}\n\n      {/*  */}\n      <div style={{\n        background: 'linear-gradient(135deg, #fff7ed 0%, #ffedd5 50%, #fed7aa 100%)',\n        padding: '1.5rem 2rem',\n        borderBottom: '3px solid #f97316',\n        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n      }}>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          maxWidth: '1200px',\n          margin: '0 auto'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <button\n              onClick={onBackToLogin}\n              style={{\n                background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.875rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                fontWeight: '500',\n                transition: 'all 0.2s ease'\n              }}\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-1px)'}\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\n            >\n               \n            </button>\n            <h1 style={{\n              fontFamily: \"'SEBANG Gothic', sans-serif\",\n              fontWeight: '700',\n              fontSize: '1.75rem',\n              color: '#1e293b',\n              margin: '0',\n              background: 'linear-gradient(135deg, #f97316, #ea580c)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              backgroundClip: 'text'\n            }}>\n                \n            </h1>\n          </div>\n          \n          {/*   */}\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            background: 'rgba(255, 255, 255, 0.8)',\n            borderRadius: '12px',\n            padding: '0.25rem',\n            border: '1px solid rgba(249, 115, 22, 0.2)'\n          }}>\n            <button\n              onClick={() => setActiveTab('books')}\n              style={{\n                background: activeTab === 'books' ? 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)' : 'transparent',\n                color: activeTab === 'books' ? 'white' : '#64748b',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.875rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                fontWeight: '500',\n                transition: 'all 0.2s ease'\n              }}\n            >\n               \n            </button>\n            <button\n              onClick={() => setActiveTab('notifications')}\n              style={{\n                background: activeTab === 'notifications' ? 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)' : 'transparent',\n                color: activeTab === 'notifications' ? 'white' : '#64748b',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.875rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                fontWeight: '500',\n                transition: 'all 0.2s ease',\n                position: 'relative'\n              }}\n            >\n               \n              {notifications.length > 0 && (\n                <span style={{\n                  position: 'absolute',\n                  top: '-4px',\n                  right: '-4px',\n                  background: '#ef4444',\n                  color: 'white',\n                  borderRadius: '50%',\n                  width: '18px',\n                  height: '18px',\n                  fontSize: '0.7rem',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontWeight: 'bold'\n                }}>\n                  {notifications.length}\n                </span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/*   */}\n      <div style={{\n        maxWidth: '1200px',\n        margin: '0 auto',\n        padding: '2rem'\n      }}>\n        {activeTab === 'books' ? (\n          <>\n            {/*    */}\n            <div style={{\n              display: 'flex',\n              gap: '1rem',\n              marginBottom: '2rem',\n              alignItems: 'center'\n            }}>\n              <div style={{ flex: 1, position: 'relative' }}>\n                <input\n                  type=\"text\"\n                  placeholder=\" ...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  style={{\n                    width: '100%',\n                    padding: '1rem 1rem 1rem 3rem',\n                    border: '2px solid #e2e8f0',\n                    borderRadius: '12px',\n                    fontSize: '1rem',\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    backgroundColor: '#ffffff',\n                    transition: 'all 0.2s ease',\n                    outline: 'none'\n                  }}\n                  onFocus={(e) => e.target.style.borderColor = '#f97316'}\n                  onBlur={(e) => e.target.style.borderColor = '#e2e8f0'}\n                />\n                <svg\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"#64748b\"\n                  style={{\n                    position: 'absolute',\n                    left: '1rem',\n                    top: '50%',\n                    transform: 'translateY(-50%)'\n                  }}\n                >\n                  <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n                </svg>\n              </div>\n              \n              <div style={{\n                display: 'flex',\n                gap: '0.5rem',\n                alignItems: 'center'\n              }}>\n                <span style={{\n                  fontFamily: \"'SEBANG Gothic', sans-serif\",\n                  fontSize: '0.875rem',\n                  color: '#64748b'\n                }}>\n                   {filteredFiles.length} \n                </span>\n              </div>\n            </div>\n\n            {/*   */}\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n              gap: '1.5rem'\n            }}>\n              {sortedFiles.map((file, index) => (\n                <div\n                  key={file.id}\n                  onClick={() => onBookSelect(file.url, index)}\n                  style={{\n                    background: 'linear-gradient(135deg, #ffffff 0%, #fefefe 100%)',\n                    border: '2px solid #f1f5f9',\n                    borderRadius: '20px',\n                    padding: '1.5rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)',\n                    boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.05)',\n                    position: 'relative',\n                    overflow: 'hidden'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.transform = 'translateY(-4px) scale(1.02)';\n                    e.target.style.boxShadow = '0 20px 25px -5px rgba(0, 0, 0, 0.1)';\n                    e.target.style.borderColor = '#f97316';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.transform = 'translateY(0) scale(1)';\n                    e.target.style.boxShadow = '0 4px 6px -1px rgba(0, 0, 0, 0.05)';\n                    e.target.style.borderColor = '#f1f5f9';\n                  }}\n                >\n                  {/*   */}\n                  <button\n                    onClick={(e) => toggleFavorite(file.id, e)}\n                    style={{\n                      position: 'absolute',\n                      top: '1rem',\n                      right: '1rem',\n                      background: 'transparent',\n                      border: 'none',\n                      cursor: 'pointer',\n                      padding: '0.5rem',\n                      borderRadius: '50%',\n                      transition: 'all 0.2s ease'\n                    }}\n                    onMouseEnter={(e) => e.target.style.backgroundColor = 'rgba(0, 0, 0, 0.05)'}\n                    onMouseLeave={(e) => e.target.style.backgroundColor = 'transparent'}\n                  >\n                    <svg\n                      width=\"20\"\n                      height=\"20\"\n                      viewBox=\"0 0 24 24\"\n                      fill={favorites.has(file.id) ? '#f97316' : 'none'}\n                      stroke={favorites.has(file.id) ? '#f97316' : '#64748b'}\n                      strokeWidth=\"2\"\n                    >\n                      <path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"/>\n                    </svg>\n                  </button>\n\n                  {/*   */}\n                  <div style={{\n                    width: '60px',\n                    height: '60px',\n                    background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n                    borderRadius: '16px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    marginBottom: '1rem',\n                    boxShadow: '0 4px 6px -1px rgba(249, 115, 22, 0.3)'\n                  }}>\n                    {file.type === 'image' ? (\n                      <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"white\">\n                        <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n                      </svg>\n                    ) : (\n                      <svg width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"white\">\n                        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n                      </svg>\n                    )}\n                  </div>\n\n                  {/*   */}\n                  <div>\n                    <h3 style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '600',\n                      fontSize: '1.125rem',\n                      color: '#1e293b',\n                      marginBottom: '0.5rem',\n                      lineHeight: '1.4'\n                    }}>\n                      {file.title.replace(' (NEW)', '')}\n                    </h3>\n                    \n                    {file.title.includes('(NEW)') && (\n                      <span style={{\n                        background: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\n                        color: 'white',\n                        fontSize: '0.75rem',\n                        fontWeight: '700',\n                        padding: '0.25rem 0.5rem',\n                        borderRadius: '8px',\n                        display: 'inline-block',\n                        marginBottom: '0.5rem'\n                      }}>\n                        NEW\n                      </span>\n                    )}\n\n                    <p style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontSize: '0.875rem',\n                      color: '#64748b',\n                      margin: '0',\n                      lineHeight: '1.5'\n                    }}>\n                      {file.type === 'image' ? ' ' : 'PDF '}\n                    </p>\n                  </div>\n\n                  {/*    */}\n                  <div style={{\n                    marginTop: '1rem',\n                    display: 'flex',\n                    gap: '0.5rem',\n                    flexWrap: 'wrap'\n                  }}>\n                    <span style={{\n                      background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                      color: 'white',\n                      fontSize: '0.75rem',\n                      padding: '0.25rem 0.5rem',\n                      borderRadius: '6px',\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '500'\n                    }}>\n                      \n                    </span>\n                    <span style={{\n                      background: 'linear-gradient(135deg, #22c55e 0%, #16a34a 100%)',\n                      color: 'white',\n                      fontSize: '0.75rem',\n                      padding: '0.25rem 0.5rem',\n                      borderRadius: '6px',\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '500'\n                    }}>\n                      \n                    </span>\n                    <span style={{\n                      background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n                      color: 'white',\n                      fontSize: '0.75rem',\n                      padding: '0.25rem 0.5rem',\n                      borderRadius: '6px',\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '500'\n                    }}>\n                      AI\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {filteredFiles.length === 0 && (\n              <div style={{\n                textAlign: 'center',\n                padding: '3rem',\n                color: '#64748b'\n              }}>\n                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"#cbd5e1\" style={{ marginBottom: '1rem' }}>\n                  <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n                </svg>\n                <p style={{\n                  fontFamily: \"'SEBANG Gothic', sans-serif\",\n                  fontSize: '1.125rem',\n                  margin: '0'\n                }}>\n                    \n                </p>\n              </div>\n            )}\n          </>\n        ) : (\n          /*   */\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '16px',\n            padding: '2rem',\n            boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n            border: '1px solid rgba(59, 130, 246, 0.2)'\n          }}>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem',\n              marginBottom: '2rem'\n            }}>\n              <div style={{\n                width: '50px',\n                height: '50px',\n                background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n                borderRadius: '12px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}>\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"white\">\n                  <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z\"/>\n                </svg>\n              </div>\n              <div>\n                <h2 style={{\n                  fontFamily: \"'SEBANG Gothic', sans-serif\",\n                  fontWeight: '700',\n                  fontSize: '1.5rem',\n                  color: '#1e293b',\n                  margin: '0 0 0.25rem 0'\n                }}>\n                   \n                </h2>\n                <p style={{\n                  fontFamily: \"'SEBANG Gothic', sans-serif\",\n                  fontSize: '0.875rem',\n                  color: '#64748b',\n                  margin: '0'\n                }}>\n                     \n                </p>\n              </div>\n            </div>\n\n            {/*   */}\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '1rem'\n            }}>\n              {/*   */}\n              <div style={{\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                color: 'white',\n                padding: '1.5rem',\n                borderRadius: '12px',\n                boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',\n                border: '1px solid rgba(16, 185, 129, 0.2)'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '1rem',\n                  marginBottom: '0.5rem'\n                }}>\n                  <div style={{\n                    background: 'rgba(255, 255, 255, 0.2)',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  }}>\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '600',\n                      fontSize: '1rem',\n                      margin: '0 0 0.25rem 0'\n                    }}>\n                        \n                    </h3>\n                    <p style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontSize: '0.875rem',\n                      opacity: 0.9,\n                      margin: '0'\n                    }}>\n                      \"   \"    \n                    </p>\n                  </div>\n                </div>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginTop: '1rem'\n                }}>\n                  <span style={{\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    fontSize: '0.75rem',\n                    opacity: 0.8\n                  }}>\n                    2024.01.15 14:30\n                  </span>\n                  <button\n                    onClick={() => {\n                      //   \n                      alert(' !');\n                    }}\n                    style={{\n                      background: 'rgba(255, 255, 255, 0.2)',\n                      border: 'none',\n                      color: 'white',\n                      padding: '0.5rem 1rem',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      fontSize: '0.875rem',\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '500'\n                    }}\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n\n              <div style={{\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                color: 'white',\n                padding: '1.5rem',\n                borderRadius: '12px',\n                boxShadow: '0 4px 12px rgba(59, 130, 246, 0.3)',\n                border: '1px solid rgba(59, 130, 246, 0.2)'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '1rem',\n                  marginBottom: '0.5rem'\n                }}>\n                  <div style={{\n                    background: 'rgba(255, 255, 255, 0.2)',\n                    borderRadius: '50%',\n                    width: '40px',\n                    height: '40px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  }}>\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                    </svg>\n                  </div>\n                  <div>\n                    <h3 style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontWeight: '600',\n                      fontSize: '1rem',\n                      margin: '0 0 0.25rem 0'\n                    }}>\n                        \n                    </h3>\n                    <p style={{\n                      fontFamily: \"'SEBANG Gothic', sans-serif\",\n                      fontSize: '0.875rem',\n                      opacity: 0.9,\n                      margin: '0'\n                    }}>\n                      \"21 1  -  \"   \n                    </p>\n                  </div>\n                </div>\n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginTop: '1rem'\n                }}>\n                  <span style={{\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    fontSize: '0.75rem',\n                    opacity: 0.8\n                  }}>\n                    2024.01.15 10:15\n                  </span>\n                  <span style={{\n                    background: 'rgba(255, 255, 255, 0.2)',\n                    padding: '0.25rem 0.75rem',\n                    borderRadius: '12px',\n                    fontSize: '0.75rem',\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    fontWeight: '500'\n                  }}>\n                     \n                  </span>\n                </div>\n              </div>\n\n              {/*   */}\n              {notifications.length === 0 && (\n                <div style={{\n                  textAlign: 'center',\n                  padding: '3rem',\n                  color: '#64748b'\n                }}>\n                  <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"#cbd5e1\" style={{ marginBottom: '1rem' }}>\n                    <path d=\"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z\"/>\n                  </svg>\n                  <h3 style={{\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    fontSize: '1.25rem',\n                    fontWeight: '600',\n                    marginBottom: '0.5rem',\n                    color: '#374151'\n                  }}>\n                      \n                  </h3>\n                  <p style={{\n                    fontFamily: \"'SEBANG Gothic', sans-serif\",\n                    fontSize: '1rem',\n                    margin: '0',\n                    color: '#64748b'\n                  }}>\n                        \n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BookListPage;\n","import React, { useRef, useEffect, useState, useCallback } from 'react';\n\nconst ImageViewer = ({ \n  imageUrl, \n  zoomScale, \n  selectedTool,\n  selectedColor,\n  brushSize,\n  onStrokeDataChange,\n  isRecording,\n  studentStrokeData,\n  studentAudioUrl,\n  teacherFeedbackData,\n  showTeacherFeedback,\n  isTeacherMode,\n  isStudentMode\n}) => {\n  const imageRef = useRef(null);\n  const markupCanvasRef = useRef(null);\n  const containerRef = useRef(null);\n  \n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const [savedDrawings, setSavedDrawings] = useState([]);\n  \n  // Drawing state\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [lastPos, setLastPos] = useState({ x: 0, y: 0 });\n  const [currentPath, setCurrentPath] = useState([]);\n\n  //  \n  const drawStroke = (context, drawing) => {\n    if (drawing.points.length < 2) return;\n    \n    context.beginPath();\n    context.lineWidth = drawing.brushSize || 3;\n    context.lineCap = 'round';\n    context.lineJoin = 'round';\n    \n    if (drawing.tool === 'highlighter') {\n      context.globalAlpha = 0.3;\n      context.globalCompositeOperation = 'multiply';\n    } else {\n      context.globalAlpha = 1;\n      context.globalCompositeOperation = 'source-over';\n    }\n    \n    context.strokeStyle = drawing.color || '#ef4444';\n    \n    context.moveTo(drawing.points[0].x, drawing.points[0].y);\n    for (let i = 1; i < drawing.points.length; i++) {\n      context.lineTo(drawing.points[i].x, drawing.points[i].y);\n    }\n    context.stroke();\n    \n    // \n    context.globalAlpha = 1;\n    context.globalCompositeOperation = 'source-over';\n  };\n\n  //   \n  const redrawMarkups = useCallback(() => {\n    const canvas = markupCanvasRef.current;\n    if (!canvas) return;\n    \n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    \n    //    ( )\n    if (isTeacherMode && studentStrokeData) {\n      context.globalAlpha = 0.7;\n      context.strokeStyle = '#3b82f6';\n      context.lineWidth = 3;\n      context.lineCap = 'round';\n      context.lineJoin = 'round';\n      \n      for (let stroke of studentStrokeData) {\n        if (stroke.points && stroke.points.length > 1) {\n          context.beginPath();\n          context.moveTo(stroke.points[0].x, stroke.points[0].y);\n          for (let i = 1; i < stroke.points.length; i++) {\n            context.lineTo(stroke.points[i].x, stroke.points[i].y);\n          }\n          context.stroke();\n        }\n      }\n      context.globalAlpha = 1;\n    }\n    \n    //    ( )\n    if (isStudentMode && teacherFeedbackData && showTeacherFeedback) {\n      context.globalAlpha = 0.8;\n      context.strokeStyle = '#ef4444';\n      context.lineWidth = 4;\n      context.lineCap = 'round';\n      context.lineJoin = 'round';\n      \n      for (let stroke of teacherFeedbackData) {\n        if (stroke.points && stroke.points.length > 1) {\n          context.beginPath();\n          context.moveTo(stroke.points[0].x, stroke.points[0].y);\n          for (let i = 1; i < stroke.points.length; i++) {\n            context.lineTo(stroke.points[i].x, stroke.points[i].y);\n          }\n          context.stroke();\n        }\n      }\n      context.globalAlpha = 1;\n    }\n    \n    //    \n    for (let drawing of savedDrawings) {\n      if (drawing.type === 'stroke') {\n        drawStroke(context, drawing);\n      }\n    }\n  }, [savedDrawings, isTeacherMode, studentStrokeData, isStudentMode, teacherFeedbackData, showTeacherFeedback]);\n\n  //       \n  const handleImageLoad = useCallback(() => {\n    console.log('  :', imageUrl);\n    const image = imageRef.current;\n    const canvas = markupCanvasRef.current;\n    \n    if (image && canvas) {\n      console.log(' :', image.naturalWidth, 'x', image.naturalHeight);\n      \n      //      \n      canvas.width = image.naturalWidth;\n      canvas.height = image.naturalHeight;\n      \n      //      \n      canvas.style.width = `${image.naturalWidth}px`;\n      canvas.style.height = `${image.naturalHeight}px`;\n      \n      redrawMarkups();\n      setImageLoaded(true);\n      console.log('    -  :', canvas.width, 'x', canvas.height);\n    }\n  }, [redrawMarkups, imageUrl]);\n\n  //      \n  useEffect(() => {\n    if (imageLoaded) {\n      const image = imageRef.current;\n      const canvas = markupCanvasRef.current;\n      \n      if (image && canvas) {\n        //      \n        canvas.width = image.naturalWidth;\n        canvas.height = image.naturalHeight;\n        canvas.style.width = `${image.naturalWidth}px`;\n        canvas.style.height = `${image.naturalHeight}px`;\n        \n        redrawMarkups();\n      }\n    }\n  }, [zoomScale, imageLoaded, redrawMarkups]);\n\n  // /  \n  const getEventPos = useCallback((e) => {\n    const canvas = markupCanvasRef.current;\n    const image = imageRef.current;\n    if (!canvas || !image) return { x: 0, y: 0 };\n    \n    const canvasRect = canvas.getBoundingClientRect();\n    const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n    const clientY = e.touches ? e.touches[0].clientY : e.clientY;\n    \n    //     ( )\n    const canvasX = (clientX - canvasRect.left) / zoomScale;\n    const canvasY = (clientY - canvasRect.top) / zoomScale;\n    \n    return {\n      x: Math.max(0, Math.min(canvasX, canvas.width)),\n      y: Math.max(0, Math.min(canvasY, canvas.height))\n    };\n  }, [zoomScale]);\n\n  //  \n  const startDrawing = useCallback((e) => {\n    if (['pen', 'highlighter', 'eraser'].includes(selectedTool)) {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsDrawing(true);\n      const pos = getEventPos(e);\n      setLastPos(pos);\n      setCurrentPath([pos]);\n    }\n  }, [selectedTool, getEventPos]);\n\n  //  \n  const draw = useCallback((e) => {\n    if (!isDrawing) return;\n    \n    const pos = getEventPos(e);\n    const canvas = markupCanvasRef.current;\n    \n    if (canvas && ['pen', 'highlighter'].includes(selectedTool)) {\n      e.preventDefault();\n      e.stopPropagation();\n      const context = canvas.getContext('2d');\n      context.lineWidth = brushSize;\n      context.lineCap = 'round';\n      context.lineJoin = 'round';\n      \n      if (selectedTool === 'highlighter') {\n        context.globalAlpha = 0.3;\n        context.globalCompositeOperation = 'multiply';\n      } else {\n        context.globalAlpha = 1;\n        context.globalCompositeOperation = 'source-over';\n      }\n      \n      context.strokeStyle = selectedColor;\n      \n      context.beginPath();\n      context.moveTo(lastPos.x, lastPos.y);\n      context.lineTo(pos.x, pos.y);\n      context.stroke();\n      \n      setCurrentPath(prev => [...prev, pos]);\n      setLastPos(pos);\n      \n      // \n      context.globalAlpha = 1;\n      context.globalCompositeOperation = 'source-over';\n    } else if (canvas && selectedTool === 'eraser') {\n      e.preventDefault();\n      e.stopPropagation();\n      const context = canvas.getContext('2d');\n      const eraseSize = brushSize * 2;\n      context.clearRect(pos.x - eraseSize/2, pos.y - eraseSize/2, eraseSize, eraseSize);\n    }\n  }, [isDrawing, selectedTool, getEventPos, lastPos, brushSize, selectedColor]);\n\n  //  \n  const stopDrawing = useCallback((e) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n    \n    if (isDrawing && currentPath.length > 1) {\n      const newDrawing = {\n        id: Date.now(),\n        type: 'stroke',\n        tool: selectedTool,\n        color: selectedColor,\n        brushSize: brushSize,\n        points: currentPath,\n        timestamp: new Date().toISOString(),\n        isRecording: isRecording\n      };\n      \n      setSavedDrawings(prev => {\n        const updatedDrawings = [...prev, newDrawing];\n        //     \n        if (onStrokeDataChange) {\n          onStrokeDataChange(updatedDrawings);\n        }\n        return updatedDrawings;\n      });\n    }\n    \n    setIsDrawing(false);\n    setCurrentPath([]);\n  }, [isDrawing, currentPath, selectedTool, selectedColor, brushSize, isRecording, onStrokeDataChange]);\n\n  return (\n    <div \n      ref={containerRef}\n      style={{\n        flex: 1,\n        overflow: 'auto',\n        backgroundColor: '#f1f5f9',\n        borderRadius: '12px',\n        padding: '1rem',\n        position: 'relative'\n      }}\n    >\n      {!imageLoaded && !imageError && (\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '400px',\n          flexDirection: 'column',\n          gap: '1rem'\n        }}>\n          <div style={{\n            width: '40px',\n            height: '40px',\n            border: '4px solid #e2e8f0',\n            borderTop: '4px solid #3b82f6',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite'\n          }}></div>\n          <span style={{ color: '#6b7280', fontSize: '1rem' }}>  ...</span>\n        </div>\n      )}\n      \n      {imageError && (\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '400px',\n          flexDirection: 'column',\n          gap: '1rem'\n        }}>\n          <span style={{ color: '#ef4444', fontSize: '1.2rem' }}>    </span>\n          <span style={{ color: '#6b7280', fontSize: '0.9rem' }}> URL </span>\n        </div>\n      )}\n      \n      <div style={{\n        display: imageLoaded ? 'flex' : 'none',\n        justifyContent: 'center',\n        alignItems: 'center',\n        position: 'relative',\n        minHeight: '100%'\n      }}>\n        <div style={{\n          position: 'relative',\n          display: 'inline-block',\n          transform: `scale(${zoomScale})`,\n          transformOrigin: 'center center'\n        }}>\n                  <img\n          ref={imageRef}\n          src={imageUrl}\n          alt=\" \"\n          onLoad={handleImageLoad}\n          onError={(e) => {\n            console.error('  :', e);\n            setImageError(true);\n            setImageLoaded(false);\n          }}\n          onMouseDown={(e) => {\n            //   \n            if (selectedTool !== 'hand') {\n              e.preventDefault();\n            }\n          }}\n          onDragStart={(e) => {\n            //   \n            e.preventDefault();\n          }}\n          style={{\n            maxWidth: '800px',\n            width: 'auto',\n            height: 'auto',\n            border: '2px solid #e2e8f0',\n            borderRadius: '8px',\n            boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',\n            backgroundColor: 'white',\n            display: 'block',\n            userSelect: 'none',\n            pointerEvents: selectedTool === 'hand' ? 'auto' : 'none'\n          }}\n        />\n          <canvas\n            ref={markupCanvasRef}\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              cursor: selectedTool === 'hand' ? 'grab' : 'crosshair',\n              borderRadius: '8px',\n              pointerEvents: 'auto',\n              transform: `scale(${zoomScale})`,\n              transformOrigin: 'top left'\n            }}\n            onMouseDown={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              startDrawing(e);\n            }}\n            onMouseMove={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              draw(e);\n            }}\n            onMouseUp={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              stopDrawing(e);\n            }}\n            onMouseLeave={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              stopDrawing(e);\n            }}\n            onTouchStart={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              startDrawing(e);\n            }}\n            onTouchMove={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              draw(e);\n            }}\n            onTouchEnd={(e) => {\n              e.preventDefault();\n              e.stopPropagation();\n              stopDrawing(e);\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageViewer;\n","function _toSetter(t, e, n) {\n  e || (e = []);\n  var r = e.length++;\n  return Object.defineProperty({}, \"_\", {\n    set: function set(o) {\n      e[r] = o, t.apply(n, e);\n    }\n  });\n}\nexport { _toSetter as default };","function _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nexport { _checkPrivateRedeclaration as default };","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nfunction _classPrivateMethodInitSpec(e, a) {\n  checkPrivateRedeclaration(e, a), a.add(e);\n}\nexport { _classPrivateMethodInitSpec as default };","import checkPrivateRedeclaration from \"./checkPrivateRedeclaration.js\";\nfunction _classPrivateFieldInitSpec(e, t, a) {\n  checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nexport { _classPrivateFieldInitSpec as default };","function _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nexport { _assertClassBrand as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateGetter(s, r, a) {\n  return a(assertClassBrand(s, r));\n}\nexport { _classPrivateGetter as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(assertClassBrand(s, a));\n}\nexport { _classPrivateFieldGet2 as default };","import assertClassBrand from \"./assertClassBrand.js\";\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(assertClassBrand(s, a), r), r;\n}\nexport { _classPrivateFieldSet2 as default };","function _asyncIterator(r) {\n  var n,\n    t,\n    o,\n    e = 2;\n  for (\"undefined\" != typeof Symbol && (t = Symbol.asyncIterator, o = Symbol.iterator); e--;) {\n    if (t && null != (n = r[t])) return n.call(r);\n    if (o && null != (n = r[o])) return new AsyncFromSyncIterator(n.call(r));\n    t = \"@@asyncIterator\", o = \"@@iterator\";\n  }\n  throw new TypeError(\"Object is not async iterable\");\n}\nfunction AsyncFromSyncIterator(r) {\n  function AsyncFromSyncIteratorContinuation(r) {\n    if (Object(r) !== r) return Promise.reject(new TypeError(r + \" is not an object.\"));\n    var n = r.done;\n    return Promise.resolve(r.value).then(function (r) {\n      return {\n        value: r,\n        done: n\n      };\n    });\n  }\n  return AsyncFromSyncIterator = function AsyncFromSyncIterator(r) {\n    this.s = r, this.n = r.next;\n  }, AsyncFromSyncIterator.prototype = {\n    s: null,\n    n: null,\n    next: function next() {\n      return AsyncFromSyncIteratorContinuation(this.n.apply(this.s, arguments));\n    },\n    \"return\": function _return(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.resolve({\n        value: r,\n        done: !0\n      }) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    },\n    \"throw\": function _throw(r) {\n      var n = this.s[\"return\"];\n      return void 0 === n ? Promise.reject(r) : AsyncFromSyncIteratorContinuation(n.apply(this.s, arguments));\n    }\n  }, new AsyncFromSyncIterator(r);\n}\nexport { _asyncIterator as default };","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://www.electronjs.org/docs/api/process#processversionselectron-readonly\n// https://www.electronjs.org/docs/api/process#processtype-readonly\nconst isNodeJS =\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !(process.versions.electron && process.type && process.type !== \"browser\");\n\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Represent the percentage of the height of a single-line field over\n// the font size. Acrobat seems to use this value.\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\n\n/**\n * Refer to the `WorkerTransport.getRenderingIntent`-method in the API, to see\n * how these flags are being used:\n *  - ANY, DISPLAY, and PRINT are the normal rendering intents, note the\n *    `PDFPageProxy.{render, getOperatorList, getAnnotations}`-methods.\n *  - SAVE is used, on the worker-thread, when saving modified annotations.\n *  - ANNOTATIONS_FORMS, ANNOTATIONS_STORAGE, ANNOTATIONS_DISABLE control which\n *    annotations are rendered onto the canvas (i.e. by being included in the\n *    operatorList), note the `PDFPageProxy.{render, getOperatorList}`-methods\n *    and their `annotationMode`-option.\n *  - IS_EDITING is used when editing is active in the viewer.\n *  - OPLIST is used with the `PDFPageProxy.getOperatorList`-method, note the\n *    `OperatorList`-constructor (on the worker-thread).\n */\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  IS_EDITING: 0x80,\n  OPLIST: 0x100,\n};\n\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3,\n};\n\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\n\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15,\n  POPUP: 16,\n  SIGNATURE: 101,\n  COMMENT: 102,\n};\n\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_THICKNESS: 32,\n  HIGHLIGHT_FREE: 33,\n  HIGHLIGHT_SHOW_ALL: 34,\n  DRAW_STEP: 41,\n};\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\",\n};\n\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\",\n};\n\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  // PLEASE NOTE: We purposely keep any removed operators commented out, since\n  //              re-numbering the list would risk breaking third-party users.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  // beginAnnotations: 78,\n  // endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  // paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  setStrokeTransparent: 92,\n  setFillTransparent: 93,\n  rawFillPath: 94,\n};\n\n// In order to have a switch statement that is fast (i.e. which use a jump\n// table), we need to have the OPS in a contiguous range.\nconst DrawOPS = {\n  moveTo: 0,\n  lineTo: 1,\n  curveTo: 2,\n  closePath: 3,\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    // eslint-disable-next-line no-console\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    // eslint-disable-next-line no-console\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs use one of the allowed protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} [baseUrl] - An absolute URL.\n * @param {Object} [options]\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  if (options && typeof url === \"string\") {\n    // Let URLs beginning with \"www.\" default to using the \"http://\" protocol.\n    if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n      const dots = url.match(/\\./g);\n      // Avoid accidentally matching a *relative* URL pointing to a file named\n      // e.g. \"www.pdf\" or similar.\n      if (dots?.length >= 2) {\n        url = `http://${url}`;\n      }\n    }\n\n    // According to ISO 32000-1:2008, section 12.6.4.7, URIs should be encoded\n    // in 7-bit ASCII. Some bad PDFs use UTF-8 encoding; see bug 1122280.\n    if (options.tryConvertEncoding) {\n      try {\n        url = stringToUTF8String(url);\n      } catch {}\n    }\n  }\n\n  const absoluteUrl = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  return _isValidProtocol(absoluteUrl) ? absoluteUrl : null;\n}\n\n/**\n * Remove, or replace, the hash property of the URL.\n *\n * @param {URL|string} url - The absolute, or relative, URL.\n * @param {string} hash - The hash property (use an empty string to remove it).\n * @param {boolean} [allowRel] - Allow relative URLs.\n * @returns {string} The resulting URL string.\n */\nfunction updateUrlHash(url, hash, allowRel = false) {\n  const res = URL.parse(url);\n  if (res) {\n    res.hash = hash;\n    return res.href;\n  }\n  // Support well-formed relative URLs, necessary for `web/app.js` in GENERIC\n  // builds, by optionally falling back to string parsing.\n  if (allowRel && createValidAbsoluteUrl(url, \"http://example.com\")) {\n    return url.split(\"#\", 1)[0] + `${hash ? `#${hash}` : \"\"}`;\n  }\n  return \"\";\n}\n\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      prop in obj,\n      `shadow: Property \"${prop && prop.toString()}\" not found in object.`\n    );\n  }\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\n/**\n * @type {any}\n */\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message, name) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseException\n    ) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\n\nclass ResponseException extends BaseException {\n  constructor(msg, status, missing) {\n    super(msg, \"ResponseException\");\n    this.status = status;\n    this.missing = missing;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\n\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\nfunction string32(value) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      typeof value === \"number\" && Math.abs(value) < 2 ** 32,\n      `string32: Unexpected input \"${value}\".`\n    );\n  }\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n\n  static get isOffscreenCanvasSupported() {\n    return shadow(\n      this,\n      \"isOffscreenCanvasSupported\",\n      typeof OffscreenCanvas !== \"undefined\"\n    );\n  }\n\n  static get isImageDecoderSupported() {\n    return shadow(\n      this,\n      \"isImageDecoderSupported\",\n      typeof ImageDecoder !== \"undefined\"\n    );\n  }\n\n  static get platform() {\n    const { platform, userAgent } = navigator;\n\n    return shadow(this, \"platform\", {\n      isAndroid: userAgent.includes(\"Android\"),\n      isLinux: platform.includes(\"Linux\"),\n      isMac: platform.includes(\"Mac\"),\n      isWindows: platform.includes(\"Win\"),\n      isFirefox:\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        userAgent.includes(\"Firefox\"),\n    });\n  }\n\n  static get isCSSRoundSupported() {\n    return shadow(\n      this,\n      \"isCSSRoundSupported\",\n      globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\")\n    );\n  }\n}\n\nconst hexNumbers = Array.from(Array(256).keys(), n =>\n  n.toString(16).padStart(2, \"0\")\n);\n\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n\n  static domMatrixToTransform(dm) {\n    return [dm.a, dm.b, dm.c, dm.d, dm.e, dm.f];\n  }\n\n  // Apply a scaling matrix to some min/max values.\n  // If a scaling factor is negative then min and max must be\n  // swapped.\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // Multiplies m (an array-based transform) by md (a DOMMatrix transform).\n  static multiplyByDOMMatrix(m, md) {\n    return [\n      m[0] * md.a + m[2] * md.b,\n      m[1] * md.a + m[3] * md.b,\n      m[0] * md.c + m[2] * md.d,\n      m[1] * md.c + m[3] * md.d,\n      m[0] * md.e + m[2] * md.f + m[4],\n      m[1] * md.e + m[3] * md.f + m[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m, pos = 0) {\n    const p0 = p[pos];\n    const p1 = p[pos + 1];\n    p[pos] = p0 * m[0] + p1 * m[2] + m[4];\n    p[pos + 1] = p0 * m[1] + p1 * m[3] + m[5];\n  }\n\n  static applyTransformToBezier(p, transform, pos = 0) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    for (let i = 0; i < 6; i += 2) {\n      const pI = p[pos + i];\n      const pI1 = p[pos + i + 1];\n      p[pos + i] = pI * m0 + pI1 * m2 + m4;\n      p[pos + i + 1] = pI * m1 + pI1 * m3 + m5;\n    }\n  }\n\n  static applyInverseTransform(p, m) {\n    const p0 = p[0];\n    const p1 = p[1];\n    const d = m[0] * m[3] - m[1] * m[2];\n    p[0] = (p0 * m[3] - p1 * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    p[1] = (-p0 * m[1] + p1 * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static axialAlignedBoundingBox(rect, transform, output) {\n    const m0 = transform[0];\n    const m1 = transform[1];\n    const m2 = transform[2];\n    const m3 = transform[3];\n    const m4 = transform[4];\n    const m5 = transform[5];\n    const r0 = rect[0];\n    const r1 = rect[1];\n    const r2 = rect[2];\n    const r3 = rect[3];\n\n    let a0 = m0 * r0 + m4;\n    let a2 = a0;\n    let a1 = m0 * r2 + m4;\n    let a3 = a1;\n    let b0 = m3 * r1 + m5;\n    let b2 = b0;\n    let b1 = m3 * r3 + m5;\n    let b3 = b1;\n\n    if (m1 !== 0 || m2 !== 0) {\n      // Non-scaling matrix: shouldn't be frequent.\n      const m1r0 = m1 * r0;\n      const m1r2 = m1 * r2;\n      const m2r1 = m2 * r1;\n      const m2r3 = m2 * r3;\n      a0 += m2r1;\n      a3 += m2r1;\n      a1 += m2r3;\n      a2 += m2r3;\n      b0 += m1r0;\n      b3 += m1r0;\n      b1 += m1r2;\n      b2 += m1r2;\n    }\n\n    output[0] = Math.min(output[0], a0, a1, a2, a3);\n    output[1] = Math.min(output[1], b0, b1, b2, b3);\n    output[2] = Math.max(output[2], a0, a1, a2, a3);\n    output[3] = Math.max(output[3], b0, b1, b2, b3);\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(matrix, output) {\n    const m0 = matrix[0];\n    const m1 = matrix[1];\n    const m2 = matrix[2];\n    const m3 = matrix[3];\n    // Multiply matrix m with its transpose.\n    const a = m0 ** 2 + m1 ** 2;\n    const b = m0 * m2 + m1 * m3;\n    const c = m2 ** 2 + m3 ** 2;\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + c) / 2;\n    const second = Math.sqrt(first ** 2 - (a * c - b ** 2));\n    output[0] = Math.sqrt(first + second || 1);\n    output[1] = Math.sqrt(first - second || 1);\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'null'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(\n      Math.min(rect1[0], rect1[2]),\n      Math.min(rect2[0], rect2[2])\n    );\n    const xHigh = Math.min(\n      Math.max(rect1[0], rect1[2]),\n      Math.max(rect2[0], rect2[2])\n    );\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(\n      Math.min(rect1[1], rect1[3]),\n      Math.min(rect2[1], rect2[3])\n    );\n    const yHigh = Math.min(\n      Math.max(rect1[1], rect1[3]),\n      Math.max(rect2[1], rect2[3])\n    );\n    if (yLow > yHigh) {\n      return null;\n    }\n\n    return [xLow, yLow, xHigh, yHigh];\n  }\n\n  static pointBoundingBox(x, y, minMax) {\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n\n  static rectBoundingBox(x0, y0, x1, y1, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x1);\n    minMax[1] = Math.min(minMax[1], y0, y1);\n    minMax[2] = Math.max(minMax[2], x0, x1);\n    minMax[3] = Math.max(minMax[3], y0, y1);\n  }\n\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(\n          x0,\n          x1,\n          x2,\n          x3,\n          y0,\n          y1,\n          y2,\n          y3,\n          -c / b,\n          minMax\n        );\n      }\n      return;\n    }\n\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b + sqrtDelta) / a2,\n      minMax\n    );\n    this.#getExtremumOnCurve(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      (-b - sqrtDelta) / a2,\n      minMax\n    );\n  }\n\n  // From https://github.com/adobe-webplatform/Snap.svg/blob/b365287722a72526000ac4bfcf0ce4cac2faa015/src/path.js#L852\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    minMax[0] = Math.min(minMax[0], x0, x3);\n    minMax[1] = Math.min(minMax[1], y0, y3);\n    minMax[2] = Math.max(minMax[2], x0, x3);\n    minMax[3] = Math.max(minMax[3], y0, y3);\n\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-x0 + 3 * (x1 - x2) + x3),\n      6 * (x0 - 2 * x1 + x2),\n      3 * (x1 - x0),\n      minMax\n    );\n    this.#getExtremum(\n      x0,\n      x1,\n      x2,\n      x3,\n      y0,\n      y1,\n      y2,\n      y3,\n      3 * (-y0 + 3 * (y1 - y2) + y3),\n      6 * (y0 - 2 * y1 + y2),\n      3 * (y1 - y0),\n      minMax\n    );\n  }\n}\n\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8,\n  0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192,\n  0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018,\n  0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d,\n  0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac,\n];\n\nfunction stringToPDFString(str, keepEscapeSequence = false) {\n  // See section 7.9.2.2 Text String Type.\n  // The string can contain some language codes bracketed with 0x1b,\n  // so we must remove them.\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (keepEscapeSequence || !decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  // ISO Latin 1\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (!keepEscapeSequence && charCode === 0x1b) {\n      // eslint-disable-next-line no-empty\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction getModificationDate(date = new Date()) {\n  if (!(date instanceof Date)) {\n    date = new Date(date);\n  }\n  const buffer = [\n    date.getUTCFullYear().toString(),\n    (date.getUTCMonth() + 1).toString().padStart(2, \"0\"),\n    date.getUTCDate().toString().padStart(2, \"0\"),\n    date.getUTCHours().toString().padStart(2, \"0\"),\n    date.getUTCMinutes().toString().padStart(2, \"0\"),\n    date.getUTCSeconds().toString().padStart(2, \"0\"),\n  ];\n\n  return buffer.join(\"\");\n}\n\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    // In order to generate the following regex:\n    //  - create a PDF containing all the chars in the range 0000-FFFF with\n    //    a NFKC which is different of the char.\n    //  - copy and paste all those chars and get the ones where NFKC is\n    //    required.\n    // It appears that most the chars here contain some ligatures.\n    NormalizeRegex =\n      /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) =>\n    p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2)\n  );\n}\n\nfunction getUuid() {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    typeof crypto.randomUUID === \"function\"\n  ) {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  crypto.getRandomValues(buf);\n  return bytesToString(buf);\n}\n\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\n\nfunction _isValidExplicitDest(validRef, validName, dest) {\n  if (!Array.isArray(dest) || dest.length < 2) {\n    return false;\n  }\n  const [page, zoom, ...args] = dest;\n  if (!validRef(page) && !Number.isInteger(page)) {\n    return false;\n  }\n  if (!validName(zoom)) {\n    return false;\n  }\n  const argsLen = args.length;\n  let allowNull = true;\n  switch (zoom.name) {\n    case \"XYZ\":\n      if (argsLen < 2 || argsLen > 3) {\n        return false;\n      }\n      break;\n    case \"Fit\":\n    case \"FitB\":\n      return argsLen === 0;\n    case \"FitH\":\n    case \"FitBH\":\n    case \"FitV\":\n    case \"FitBV\":\n      if (argsLen > 1) {\n        return false;\n      }\n      break;\n    case \"FitR\":\n      if (argsLen !== 4) {\n        return false;\n      }\n      allowNull = false;\n      break;\n    default:\n      return false;\n  }\n  for (const arg of args) {\n    if (typeof arg === \"number\" || (allowNull && arg === null)) {\n      continue;\n    }\n    return false;\n  }\n  return true;\n}\n\n// TODO: Replace all occurrences of this function with `Math.clamp` once\n//       https://github.com/tc39/proposal-math-clamp/ is generally available.\nfunction MathClamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\n// TODO: Remove this once `Uint8Array.prototype.toHex` is generally available.\nfunction toHexUtil(arr) {\n  if (Uint8Array.prototype.toHex) {\n    return arr.toHex();\n  }\n  return Array.from(arr, num => hexNumbers[num]).join(\"\");\n}\n\n// TODO: Remove this once `Uint8Array.prototype.toBase64` is generally\n//       available.\nfunction toBase64Util(arr) {\n  if (Uint8Array.prototype.toBase64) {\n    return arr.toBase64();\n  }\n  return btoa(bytesToString(arr));\n}\n\n// TODO: Remove this once `Uint8Array.fromBase64` is generally available.\nfunction fromBase64Util(str) {\n  if (Uint8Array.fromBase64) {\n    return Uint8Array.fromBase64(str);\n  }\n  return stringToBytes(atob(str));\n}\n\n// TODO: Remove this once https://bugzilla.mozilla.org/show_bug.cgi?id=1928493\n//       is fixed.\nif (\n  (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"SKIP_BABEL\")) &&\n  typeof Promise.try !== \"function\"\n) {\n  Promise.try = function (fn, ...args) {\n    return new Promise(resolve => {\n      resolve(fn(...args));\n    });\n  };\n}\n\n// TODO: Remove this once the `javascript.options.experimental.math_sumprecise`\n//       preference is removed from Firefox.\nif (typeof Math.sumPrecise !== \"function\") {\n  // Note that this isn't a \"proper\" polyfill, but since we're only using it to\n  // replace `Array.prototype.reduce()` invocations it should be fine.\n  Math.sumPrecise = function (numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n  };\n}\n\nif (\n  typeof PDFJSDev !== \"undefined\" &&\n  !PDFJSDev.test(\"SKIP_BABEL\") &&\n  typeof AbortSignal.any !== \"function\"\n) {\n  AbortSignal.any = function (iterable) {\n    const ac = new AbortController();\n    const { signal } = ac;\n\n    // Return immediately if any of the signals are already aborted.\n    for (const s of iterable) {\n      if (s.aborted) {\n        ac.abort(s.reason);\n        return signal;\n      }\n    }\n    // Register \"abort\" listeners for all signals.\n    for (const s of iterable) {\n      s.addEventListener(\n        \"abort\",\n        () => {\n          ac.abort(s.reason);\n        },\n        { signal } // Automatically remove the listener.\n      );\n    }\n\n    return signal;\n  };\n}\n\nexport {\n  _isValidExplicitDest,\n  AbortException,\n  AnnotationActionEventType,\n  AnnotationBorderStyleType,\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMode,\n  AnnotationPrefix,\n  AnnotationReplyType,\n  AnnotationType,\n  assert,\n  BaseException,\n  BASELINE_FACTOR,\n  bytesToString,\n  createValidAbsoluteUrl,\n  DocumentActionEventType,\n  DrawOPS,\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  FormatError,\n  fromBase64Util,\n  getModificationDate,\n  getUuid,\n  getVerbosityLevel,\n  hexNumbers,\n  ImageKind,\n  info,\n  InvalidPDFException,\n  isArrayEqual,\n  isNodeJS,\n  LINE_DESCENT_FACTOR,\n  LINE_FACTOR,\n  MathClamp,\n  normalizeUnicode,\n  objectSize,\n  OPS,\n  PageActionEventType,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  RenderingIntentFlag,\n  ResponseException,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  TextRenderingMode,\n  toBase64Util,\n  toHexUtil,\n  UnknownErrorException,\n  unreachable,\n  updateUrlHash,\n  utf8StringToString,\n  Util,\n  VerbosityLevel,\n  warn,\n};\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BaseException,\n  FeatureTest,\n  shadow,\n  Util,\n  warn,\n} from \"../shared/util.js\";\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\n\nclass PixelsPerInch {\n  static CSS = 96.0;\n\n  static PDF = 72.0;\n\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\n\nasync function fetchData(url, type = \"text\") {\n  if (\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n    isValidFetchUrl(url, document.baseURI)\n  ) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n\n  // The Fetch API is not supported.\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, /* async = */ true);\n    request.responseType = type;\n\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n\n    request.send(null);\n  });\n}\n\n/**\n * @typedef {Object} PageViewportParameters\n * @property {Array<number>} viewBox - The xMin, yMin, xMax and\n *   yMax coordinates.\n * @property {number} userUnit - The size of units.\n * @property {number} scale - The scale of the viewport.\n * @property {number} rotation - The rotation, in degrees, of the viewport.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset. The\n *   default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset. The\n *   default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * @typedef {Object} PageViewportCloneParameters\n * @property {number} [scale] - The scale, overriding the one in the cloned\n *   viewport. The default value is `this.scale`.\n * @property {number} [rotation] - The rotation, in degrees, overriding the one\n *   in the cloned viewport. The default value is `this.rotation`.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `this.offsetX`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `this.offsetY`.\n * @property {boolean} [dontFlip] - If true, the x-axis will not be flipped.\n *   The default value is `false`.\n */\n\n/**\n * PDF page viewport created based on scale, rotation and offset.\n */\nclass PageViewport {\n  /**\n   * @param {PageViewportParameters}\n   */\n  constructor({\n    viewBox,\n    userUnit,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  }) {\n    this.viewBox = viewBox;\n    this.userUnit = userUnit;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n\n    scale *= userUnit; // Take the userUnit into account.\n\n    // creating transform to convert pdf coordinate system to the normal\n    // canvas like coordinates taking in account scale and rotation\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    // Normalize the rotation, by clamping it to the [0, 360) range.\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\n          \"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"\n        );\n    }\n\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    // creating transform for the following operations:\n    // translate(-centerX, -centerY), rotate and flip vertically,\n    // scale, and translate(offsetCanvasX, offsetCanvasY)\n    this.transform = [\n      rotateA * scale,\n      rotateB * scale,\n      rotateC * scale,\n      rotateD * scale,\n      offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY,\n      offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY,\n    ];\n\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * The original, un-scaled, viewport dimensions.\n   * @type {Object}\n   */\n  get rawDims() {\n    const dims = this.viewBox;\n\n    return shadow(this, \"rawDims\", {\n      pageWidth: dims[2] - dims[0],\n      pageHeight: dims[3] - dims[1],\n      pageX: dims[0],\n      pageY: dims[1],\n    });\n  }\n\n  /**\n   * Clones viewport, with optional additional properties.\n   * @param {PageViewportCloneParameters} [params]\n   * @returns {PageViewport} Cloned viewport.\n   */\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * Converts PDF point to the viewport coordinates. For examples, useful for\n   * converting PDF location into canvas pixel coordinates.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the viewport coordinate space.\n   * @see {@link convertToPdfPoint}\n   * @see {@link convertToViewportRectangle}\n   */\n  convertToViewportPoint(x, y) {\n    const p = [x, y];\n    Util.applyTransform(p, this.transform);\n    return p;\n  }\n\n  /**\n   * Converts PDF rectangle to the viewport coordinates.\n   * @param {Array} rect - The xMin, yMin, xMax and yMax coordinates.\n   * @returns {Array} Array containing corresponding coordinates of the\n   *   rectangle in the viewport coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToViewportRectangle(rect) {\n    const topLeft = [rect[0], rect[1]];\n    Util.applyTransform(topLeft, this.transform);\n    const bottomRight = [rect[2], rect[3]];\n    Util.applyTransform(bottomRight, this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n\n  /**\n   * Converts viewport coordinates to the PDF location. For examples, useful\n   * for converting canvas pixel location into PDF one.\n   * @param {number} x - The x-coordinate.\n   * @param {number} y - The y-coordinate.\n   * @returns {Array} Array containing `x`- and `y`-coordinates of the\n   *   point in the PDF coordinate space.\n   * @see {@link convertToViewportPoint}\n   */\n  convertToPdfPoint(x, y) {\n    const p = [x, y];\n    Util.applyInverseTransform(p, this.transform);\n    return p;\n  }\n}\n\nclass RenderingCancelledException extends BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\n\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\n\n/**\n * Gets the filename from a given URL.\n * @param {string} url\n * @returns {string}\n */\nfunction getFilenameFromUrl(url) {\n  [url] = url.split(/[#?]/, 1);\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\n\n/**\n * Returns the filename or guessed filename from the url (see issue 3455).\n * @param {string} url - The original PDF location.\n * @param {string} defaultFilename - The value returned if the filename is\n *   unknown, or the protocol is unsupported.\n * @returns {string} Guessed PDF filename.\n */\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    warn('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const getURL = urlString => {\n    try {\n      return new URL(urlString);\n    } catch {\n      try {\n        return new URL(decodeURIComponent(urlString));\n      } catch {\n        try {\n          // Attempt to parse the URL using the document's base URI.\n          return new URL(urlString, \"https://foo.bar\");\n        } catch {\n          try {\n            return new URL(decodeURIComponent(urlString), \"https://foo.bar\");\n          } catch {\n            return null;\n          }\n        }\n      }\n    }\n  };\n\n  const newURL = getURL(url);\n  if (!newURL) {\n    // If the URL is invalid, return the default filename.\n    return defaultFilename;\n  }\n\n  const decode = name => {\n    try {\n      let decoded = decodeURIComponent(name);\n      if (decoded.includes(\"/\")) {\n        decoded = decoded.split(\"/\").at(-1);\n        if (decoded.test(/^\\.pdf$/i)) {\n          return decoded;\n        }\n        return name;\n      }\n      return decoded;\n    } catch {\n      return name;\n    }\n  };\n\n  const pdfRegex = /\\.pdf$/i;\n  const filename = newURL.pathname.split(\"/\").at(-1);\n  if (pdfRegex.test(filename)) {\n    return decode(filename);\n  }\n\n  if (newURL.searchParams.size > 0) {\n    const values = Array.from(newURL.searchParams.values()).reverse();\n    for (const value of values) {\n      if (pdfRegex.test(value)) {\n        // If any of the search parameters ends with \".pdf\", return it.\n        return decode(value);\n      }\n    }\n    const keys = Array.from(newURL.searchParams.keys()).reverse();\n    for (const key of keys) {\n      if (pdfRegex.test(key)) {\n        // If any of the search parameter keys ends with \".pdf\", return it.\n        return decode(key);\n      }\n    }\n  }\n\n  if (newURL.hash) {\n    const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n    const hashFilename = reFilename.exec(newURL.hash);\n    if (hashFilename) {\n      return decode(hashFilename[0]);\n    }\n  }\n\n  return defaultFilename;\n}\n\nclass StatTimer {\n  started = Object.create(null);\n\n  times = [];\n\n  time(name) {\n    if (name in this.started) {\n      warn(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      warn(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now(),\n    });\n    // Remove timer from started so it can be called again.\n    delete this.started[name];\n  }\n\n  toString() {\n    // Find the longest name for padding purposes.\n    const outBuf = [];\n    let longest = 0;\n    for (const { name } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const { name, start, end } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\n\nfunction isValidFetchUrl(url, baseUrl) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    throw new Error(\"Not implemented: isValidFetchUrl\");\n  }\n  const res = baseUrl ? URL.parse(url, baseUrl) : URL.parse(url);\n  // The Fetch API only supports the http/https protocols, and not file/ftp.\n  return res?.protocol === \"http:\" || res?.protocol === \"https:\";\n}\n\n/**\n * Event handler to suppress context menu.\n */\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\n\nfunction stopEvent(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\n// Deprecated API function -- display regardless of the `verbosity` setting.\nfunction deprecated(details) {\n  // eslint-disable-next-line no-console\n  console.log(\"Deprecated API usage: \" + details);\n}\n\nclass PDFDateString {\n  static #regex;\n\n  /**\n   * Convert a PDF date string to a JavaScript `Date` object.\n   *\n   * The PDF date string format is described in section 7.9.4 of the official\n   * PDF 32000-1:2008 specification. However, in the PDF 1.7 reference (sixth\n   * edition) Adobe describes the same format including a trailing apostrophe.\n   * This syntax in incorrect, but Adobe Acrobat creates PDF files that contain\n   * them. We ignore all apostrophes as they are not necessary for date parsing.\n   *\n   * Moreover, Adobe Acrobat doesn't handle changing the date to universal time\n   * and doesn't use the user's time zone (effectively ignoring the HH' and mm'\n   * parts of the date string).\n   *\n   * @param {string} input\n   * @returns {Date|null}\n   */\n  static toDateObject(input) {\n    if (input instanceof Date) {\n      return input;\n    }\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n\n    // Lazily initialize the regular expression.\n    this.#regex ||= new RegExp(\n      \"^D:\" + // Prefix (required)\n        \"(\\\\d{4})\" + // Year (required)\n        \"(\\\\d{2})?\" + // Month (optional)\n        \"(\\\\d{2})?\" + // Day (optional)\n        \"(\\\\d{2})?\" + // Hour (optional)\n        \"(\\\\d{2})?\" + // Minute (optional)\n        \"(\\\\d{2})?\" + // Second (optional)\n        \"([Z|+|-])?\" + // Universal time relation (optional)\n        \"(\\\\d{2})?\" + // Offset hour (optional)\n        \"'?\" + // Splitting apostrophe (optional)\n        \"(\\\\d{2})?\" + // Offset minute (optional)\n        \"'?\" // Trailing apostrophe (optional)\n    );\n\n    // Optional fields that don't satisfy the requirements from the regular\n    // expression (such as incorrect digit counts or numbers that are out of\n    // range) will fall back the defaults from the specification.\n    const matches = this.#regex.exec(input);\n    if (!matches) {\n      return null;\n    }\n\n    // JavaScript's `Date` object expects the month to be between 0 and 11\n    // instead of 1 and 12, so we have to correct for that.\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n\n    // Universal time relation 'Z' means that the local time is equal to the\n    // universal time, whereas the relations '+'/'-' indicate that the local\n    // time is later respectively earlier than the universal time. Every date\n    // is normalized to universal time.\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\n\n/**\n * NOTE: This is (mostly) intended to support printing of XFA forms.\n */\nfunction getXfaPageViewport(xfaPage, { scale = 1, rotation = 0 }) {\n  const { width, height } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n\n  return new PageViewport({\n    viewBox,\n    userUnit: 1,\n    scale,\n    rotation,\n  });\n}\n\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [\n      (colorRGB & 0xff0000) >> 16,\n      (colorRGB & 0x00ff00) >> 8,\n      colorRGB & 0x0000ff,\n    ];\n  }\n\n  if (color.startsWith(\"rgb(\")) {\n    // getComputedStyle(...).color returns a `rgb(R, G, B)` color.\n    return color\n      .slice(/* \"rgb(\".length */ 4, -1) // Strip out \"rgb(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x));\n  }\n\n  if (color.startsWith(\"rgba(\")) {\n    return color\n      .slice(/* \"rgba(\".length */ 5, -1) // Strip out \"rgba(\" and \")\".\n      .split(\",\")\n      .map(x => parseInt(x))\n      .slice(0, 3);\n  }\n\n  warn(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\n\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  // NOTE: The following does *not* affect `forced-colors: active` mode.\n  span.style.colorScheme = \"only light\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\n\nfunction getCurrentTransform(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\n\nfunction getCurrentTransformInverse(ctx) {\n  const { a, b, c, d, e, f } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\n\n/**\n * @param {HTMLDivElement} div\n * @param {PageViewport} viewport\n * @param {boolean} mustFlip\n * @param {boolean} mustRotate\n */\nfunction setLayerDimensions(\n  div,\n  viewport,\n  mustFlip = false,\n  mustRotate = true\n) {\n  if (viewport instanceof PageViewport) {\n    const { pageWidth, pageHeight } = viewport.rawDims;\n    const { style } = div;\n    const useRound = FeatureTest.isCSSRoundSupported;\n\n    const w = `var(--total-scale-factor) * ${pageWidth}px`,\n      h = `var(--total-scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound\n        ? `round(down, ${w}, var(--scale-round-x))`\n        : `calc(${w})`,\n      heightStr = useRound\n        ? `round(down, ${h}, var(--scale-round-y))`\n        : `calc(${h})`;\n\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n/**\n * Scale factors for the canvas, necessary with HiDPI displays.\n */\nclass OutputScale {\n  constructor() {\n    const { pixelRatio } = OutputScale;\n\n    /**\n     * @type {number} Horizontal scale.\n     */\n    this.sx = pixelRatio;\n\n    /**\n     * @type {number} Vertical scale.\n     */\n    this.sy = pixelRatio;\n  }\n\n  /**\n   * @type {boolean} Returns `true` when scaling is required, `false` otherwise.\n   */\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n\n  /**\n   * @type {boolean} Returns `true` when scaling is symmetric,\n   *   `false` otherwise.\n   */\n  get symmetric() {\n    return this.sx === this.sy;\n  }\n\n  /**\n   * @returns {boolean} Returns `true` if scaling was limited,\n   *   `false` otherwise.\n   */\n  limitCanvas(width, height, maxPixels, maxDim, capAreaFactor = -1) {\n    let maxAreaScale = Infinity,\n      maxWidthScale = Infinity,\n      maxHeightScale = Infinity;\n\n    maxPixels = OutputScale.capPixels(maxPixels, capAreaFactor);\n    if (maxPixels > 0) {\n      maxAreaScale = Math.sqrt(maxPixels / (width * height));\n    }\n    if (maxDim !== -1) {\n      maxWidthScale = maxDim / width;\n      maxHeightScale = maxDim / height;\n    }\n    const maxScale = Math.min(maxAreaScale, maxWidthScale, maxHeightScale);\n\n    if (this.sx > maxScale || this.sy > maxScale) {\n      this.sx = maxScale;\n      this.sy = maxScale;\n      return true;\n    }\n    return false;\n  }\n\n  static get pixelRatio() {\n    return globalThis.devicePixelRatio || 1;\n  }\n\n  static capPixels(maxPixels, capAreaFactor) {\n    if (capAreaFactor >= 0) {\n      const winPixels = Math.ceil(\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")\n          ? window.innerWidth * window.innerHeight\n          : window.screen.availWidth * window.screen.availHeight) *\n          this.pixelRatio ** 2 *\n          (1 + capAreaFactor / 100)\n      );\n      return maxPixels > 0 ? Math.min(maxPixels, winPixels) : winPixels;\n    }\n    return maxPixels;\n  }\n}\n\n// See https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types\n// to know which types are supported by the browser.\nconst SupportedImageMimeTypes = [\n  \"image/apng\",\n  \"image/avif\",\n  \"image/bmp\",\n  \"image/gif\",\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/svg+xml\",\n  \"image/webp\",\n  \"image/x-icon\",\n];\n\nexport {\n  deprecated,\n  fetchData,\n  getColorValues,\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  isValidFetchUrl,\n  noContextMenu,\n  OutputScale,\n  PageViewport,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  StatTimer,\n  stopEvent,\n  SupportedImageMimeTypes,\n  SVG_NS,\n};\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { noContextMenu, stopEvent } from \"../display_utils.js\";\n\nclass EditorToolbar {\n  #toolbar = null;\n\n  #colorPicker = null;\n\n  #editor;\n\n  #buttons = null;\n\n  #altText = null;\n\n  #comment = null;\n\n  #signatureDescriptionButton = null;\n\n  static #l10nRemove = null;\n\n  constructor(editor) {\n    this.#editor = editor;\n\n    EditorToolbar.#l10nRemove ||= Object.freeze({\n      freetext: \"pdfjs-editor-remove-freetext-button\",\n      highlight: \"pdfjs-editor-remove-highlight-button\",\n      ink: \"pdfjs-editor-remove-ink-button\",\n      stamp: \"pdfjs-editor-remove-stamp-button\",\n      signature: \"pdfjs-editor-remove-signature-button\",\n    });\n  }\n\n  render() {\n    const editToolbar = (this.#toolbar = document.createElement(\"div\"));\n    editToolbar.classList.add(\"editToolbar\", \"hidden\");\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n\n    const signal = this.#editor._uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, { signal });\n      editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown, {\n        signal,\n      });\n    }\n\n    const buttons = (this.#buttons = document.createElement(\"div\"));\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const { style } = editToolbar;\n      const x =\n        this.#editor._uiManager.direction === \"ltr\"\n          ? 1 - position[0]\n          : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${\n        100 * position[1]\n      }% + var(--editor-toolbar-vert-offset))`;\n    }\n\n    return editToolbar;\n  }\n\n  get div() {\n    return this.#toolbar;\n  }\n\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    stopEvent(e);\n  }\n\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    stopEvent(e);\n  }\n\n  #addListenersToElement(element) {\n    // If we're clicking on a button with the keyboard or with\n    // the mouse, we don't want to trigger any focus events on\n    // the editor.\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return false;\n    }\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true,\n      signal,\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true,\n      signal,\n    });\n    element.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    return true;\n  }\n\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n    this.#altText?.shown();\n    this.#comment?.shown();\n  }\n\n  addDeleteButton() {\n    const { editorType, _uiManager } = this.#editor;\n\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", \"deleteButton\");\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", EditorToolbar.#l10nRemove[editorType]);\n    if (this.#addListenersToElement(button)) {\n      button.addEventListener(\n        \"click\",\n        e => {\n          _uiManager.delete();\n        },\n        { signal: _uiManager._signal }\n      );\n    }\n    this.#buttons.append(button);\n  }\n\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n\n  async addAltText(altText) {\n    const button = await altText.render();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n    this.#altText = altText;\n  }\n\n  addComment(comment) {\n    if (this.#comment) {\n      return;\n    }\n    const button = comment.render();\n    if (!button) {\n      return;\n    }\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n    this.#comment = comment;\n    comment.toolbar = this;\n  }\n\n  addColorPicker(colorPicker) {\n    if (this.#colorPicker) {\n      return;\n    }\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n\n  async addEditSignatureButton(signatureManager) {\n    const button = (this.#signatureDescriptionButton =\n      await signatureManager.renderEditButton(this.#editor));\n    this.#addListenersToElement(button);\n    this.#buttons.append(button, this.#divider);\n  }\n\n  async addButton(name, tool) {\n    switch (name) {\n      case \"colorPicker\":\n        this.addColorPicker(tool);\n        break;\n      case \"altText\":\n        await this.addAltText(tool);\n        break;\n      case \"editSignature\":\n        await this.addEditSignatureButton(tool);\n        break;\n      case \"delete\":\n        this.addDeleteButton();\n        break;\n      case \"comment\":\n        this.addComment(tool);\n        break;\n    }\n  }\n\n  updateEditSignatureButton(description) {\n    if (this.#signatureDescriptionButton) {\n      this.#signatureDescriptionButton.title = description;\n    }\n  }\n\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\n\nclass FloatingToolbar {\n  #buttons = null;\n\n  #toolbar = null;\n\n  #uiManager;\n\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n\n  #render() {\n    const editToolbar = (this.#toolbar = document.createElement(\"div\"));\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      editToolbar.addEventListener(\"contextmenu\", noContextMenu, {\n        signal,\n      });\n    }\n\n    const buttons = (this.#buttons = document.createElement(\"div\"));\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n\n    if (this.#uiManager.hasCommentManager()) {\n      this.#makeButton(\n        \"commentButton\",\n        `pdfjs-comment-floating-button`,\n        \"pdfjs-comment-floating-button-label\",\n        () => {\n          this.#uiManager.commentSelection(\"floating_button\");\n        }\n      );\n    }\n\n    this.#makeButton(\n      \"highlightButton\",\n      `pdfjs-highlight-floating-button1`,\n      \"pdfjs-highlight-floating-button-label\",\n      () => {\n        this.#uiManager.highlightSelection(\"floating_button\");\n      }\n    );\n\n    return editToolbar;\n  }\n\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const { style } = (this.#toolbar ||= this.#render());\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n\n  hide() {\n    this.#toolbar.remove();\n  }\n\n  #makeButton(buttonClass, l10nId, labelL10nId, clickHandler) {\n    const button = document.createElement(\"button\");\n    button.classList.add(\"basic\", buttonClass);\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", l10nId);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", labelL10nId);\n    const signal = this.#uiManager._signal;\n    if (signal instanceof AbortSignal && !signal.aborted) {\n      button.addEventListener(\"contextmenu\", noContextMenu, { signal });\n      button.addEventListener(\"click\", clickHandler, { signal });\n    }\n    this.#buttons.append(button);\n  }\n}\n\nexport { EditorToolbar, FloatingToolbar };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./editor.js\").AnnotationEditor} AnnotationEditor */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  FeatureTest,\n  getUuid,\n  shadow,\n  Util,\n  warn,\n} from \"../../shared/util.js\";\nimport {\n  fetchData,\n  getColorValues,\n  getRGB,\n  PixelsPerInch,\n  stopEvent,\n} from \"../display_utils.js\";\nimport { FloatingToolbar } from \"./toolbar.js\";\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\n\n/**\n * Class to create some unique ids for the different editors.\n */\nclass IdManager {\n  #id = 0;\n\n  constructor() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      Object.defineProperty(this, \"reset\", {\n        value: () => (this.#id = 0),\n      });\n    }\n  }\n\n  /**\n   * Get a unique id.\n   * @returns {string}\n   */\n  get id() {\n    return `${AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\n\n/**\n * Class to manage the images used by the editors.\n * The main idea is to try to minimize the memory used by the images.\n * The images are cached and reused when possible\n * We use a refCounter to know when an image is not used anymore but we need to\n * be able to restore an image after a remove+undo, so we keep a file reference\n * or an url one.\n */\nclass ImageManager {\n  #baseId = getUuid();\n\n  #id = 0;\n\n  #cache = null;\n\n  static get _isSVGFittingCanvas() {\n    // By default, Firefox doesn't rescale without preserving the aspect ratio\n    // when drawing an SVG image on a canvas, see https://bugzilla.mozilla.org/1547776.\n    // The \"workaround\" is to append \"svgView(preserveAspectRatio(none))\" to the\n    // url, but according to comment #15, it seems that it leads to unexpected\n    // behavior in Safari.\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n\n    return shadow(this, \"_isSVGFittingCanvas\", promise);\n  }\n\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      // We already tried to load the image but it failed.\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false,\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await fetchData(rawData, \"blob\");\n      } else if (rawData instanceof File) {\n        image = data.file = rawData;\n      } else if (rawData instanceof Blob) {\n        image = rawData;\n      }\n\n      if (image.type === \"image/svg+xml\") {\n        // Unfortunately, createImageBitmap doesn't work with SVG images.\n        // (see https://bugzilla.mozilla.org/1841972).\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = (data.svgUrl = fileReader.result);\n            // We need to set the preserveAspectRatio to none in order to let\n            // the image fits the canvas when resizing.\n            imageElement.src = (await mustRemoveAspectRatioPromise)\n              ? `${url}#svgView(preserveAspectRatio(none))`\n              : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      warn(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n\n  async getFromFile(file) {\n    const { lastModified, name, size, type } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n\n  async getFromBlob(id, blobPromise) {\n    const blob = await blobPromise;\n    return this.#get(id, blob);\n  }\n\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    if (data.blobPromise) {\n      const { blobPromise } = data;\n      delete data.blobPromise;\n      return this.getFromBlob(data.id, blobPromise);\n    }\n    return this.getFromUrl(data.url);\n  }\n\n  getFromCanvas(id, canvas) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(id);\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    const offscreen = new OffscreenCanvas(canvas.width, canvas.height);\n    const ctx = offscreen.getContext(\"2d\");\n    ctx.drawImage(canvas, 0, 0);\n    data = {\n      bitmap: offscreen.transferToImageBitmap(),\n      id: `image_${this.#baseId}_${this.#id++}`,\n      refCounter: 1,\n      isSvg: false,\n    };\n    this.#cache.set(id, data);\n    this.#cache.set(data.id, data);\n    return data;\n  }\n\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    const { bitmap } = data;\n    if (!data.url && !data.file) {\n      // The image has no way to be restored (ctrl+z) so we must fix that.\n      const canvas = new OffscreenCanvas(bitmap.width, bitmap.height);\n      const ctx = canvas.getContext(\"bitmaprenderer\");\n      ctx.transferFromImageBitmap(bitmap);\n      data.blobPromise = canvas.convertToBlob();\n    }\n\n    bitmap.close?.();\n    data.bitmap = null;\n  }\n\n  // We can use the id only if it belongs this manager.\n  // We must take care of having the right manager because we can copy/paste\n  // some images from other documents, hence it'd be a pity to use an id from an\n  // other manager.\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\n\n/**\n * Class to handle undo/redo.\n * Commands are just saved in a buffer.\n * If we hit some memory issues we could likely use a circular buffer.\n * It has to be used as a singleton.\n */\nclass CommandManager {\n  #commands = [];\n\n  #locked = false;\n\n  #maxSize;\n\n  #position = -1;\n\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n\n  /**\n   * @typedef {Object} addOptions\n   * @property {function} cmd\n   * @property {function} undo\n   * @property {function} [post]\n   * @property {boolean} mustExec\n   * @property {number} type\n   * @property {boolean} overwriteIfSameType\n   * @property {boolean} keepUndo\n   */\n\n  /**\n   * Add a new couple of commands to be used in case of redo/undo.\n   * @param {addOptions} options\n   */\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false,\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n\n    if (this.#locked) {\n      return;\n    }\n\n    const save = { cmd, undo, post, type };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        // All the commands have been undone and then a new one is added\n        // hence we clear the queue.\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      // For example when we change a color we don't want to\n      // be able to undo all the steps, hence we only want to\n      // keep the last undoable action in this sequence of actions.\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n\n    this.#commands.push(save);\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    if (this.#position === -1) {\n      // Nothing to undo.\n      return;\n    }\n\n    // Avoid to insert something during the undo execution.\n    this.#locked = true;\n    const { undo, post } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n\n    this.#position -= 1;\n  }\n\n  /**\n   * Redo the last command.\n   */\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n\n      // Avoid to insert something during the redo execution.\n      this.#locked = true;\n      const { cmd, post } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n\n  /**\n   * Check if there is something to undo.\n   * @returns {boolean}\n   */\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n\n  /**\n   * Check if there is something to redo.\n   * @returns {boolean}\n   */\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n\n  cleanType(type) {\n    if (this.#position === -1) {\n      return;\n    }\n    for (let i = this.#position; i >= 0; i--) {\n      if (this.#commands[i].type !== type) {\n        this.#commands.splice(i + 1, this.#position - i);\n        this.#position = i;\n        return;\n      }\n    }\n    this.#commands.length = 0;\n    this.#position = -1;\n  }\n\n  destroy() {\n    this.#commands = null;\n  }\n}\n\n/**\n * Class to handle the different keyboards shortcuts we can have on mac or\n * non-mac OSes.\n */\nclass KeyboardManager {\n  /**\n   * Create a new keyboard manager class.\n   * @param {Array<Array>} callbacks - an array containing an array of shortcuts\n   * and a callback to call.\n   * A shortcut is a string like `ctrl+c` or `mac+ctrl+c` for mac OS.\n   */\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n\n    const { isMac } = FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, { callback, options });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n\n  /**\n   * Serialize an event into a string in order to match a\n   * potential key for a callback.\n   * @param {KeyboardEvent} event\n   * @returns {string}\n   */\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n\n    return str;\n  }\n\n  /**\n   * Execute a callback, if any, for a given keyboard event.\n   * The self is used as `this` in the callback.\n   * @param {Object} self\n   * @param {KeyboardEvent} event\n   * @returns\n   */\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: { bubbles = false, args = [], checker = null },\n    } = info;\n\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n\n    // For example, ctrl+s in a FreeText must be handled by the viewer, hence\n    // the event must bubble.\n    if (!bubbles) {\n      stopEvent(event);\n    }\n  }\n}\n\nclass ColorManager {\n  static _colorsMapping = new Map([\n    [\"CanvasText\", [0, 0, 0]],\n    [\"Canvas\", [255, 255, 255]],\n  ]);\n\n  get _colors() {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"LIB\") &&\n      typeof document === \"undefined\"\n    ) {\n      return shadow(this, \"_colors\", ColorManager._colorsMapping);\n    }\n\n    const colors = new Map([\n      [\"CanvasText\", null],\n      [\"Canvas\", null],\n    ]);\n    getColorValues(colors);\n    return shadow(this, \"_colors\", colors);\n  }\n\n  /**\n   * In High Contrast Mode, the color on the screen is not always the\n   * real color used in the pdf.\n   * For example in some cases white can appear to be black but when saving\n   * we want to have white.\n   * @param {string} color\n   * @returns {Array<number>}\n   */\n  convert(color) {\n    const rgb = getRGB(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n\n  /**\n   * An input element must have its color value as a hex string\n   * and not as color name.\n   * So this function converts a name into an hex string.\n   * @param {string} name\n   * @returns {string}\n   */\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return Util.makeHexColor(...rgb);\n  }\n}\n\n/**\n * A pdf has several pages and each of them when it will rendered\n * will have an AnnotationEditorLayer which will contain the some\n * new Annotations associated to an editor in order to modify them.\n *\n * This class is used to manage all the different layers, editors and\n * some action like copy/paste, undo/redo, ...\n */\nclass AnnotationEditorUIManager {\n  #abortController = new AbortController();\n\n  #activeEditor = null;\n\n  #allEditableAnnotations = null;\n\n  #allEditors = new Map();\n\n  #allLayers = new Map();\n\n  #altTextManager = null;\n\n  #annotationStorage = null;\n\n  #changedExistingAnnotations = null;\n\n  #commandManager = new CommandManager();\n\n  #commentManager = null;\n\n  #copyPasteAC = null;\n\n  #currentDrawingSession = null;\n\n  #currentPageIndex = 0;\n\n  #deletedAnnotationsElementIds = new Set();\n\n  #draggingEditors = null;\n\n  #editorTypes = null;\n\n  #editorsToRescale = new Set();\n\n  _editorUndoBar = null;\n\n  #enableHighlightFloatingButton = false;\n\n  #enableUpdatedAddImage = false;\n\n  #enableNewAltTextWhenAddingImage = false;\n\n  #filterFactory = null;\n\n  #focusMainContainerTimeoutId = null;\n\n  #focusManagerAC = null;\n\n  #highlightColors = null;\n\n  #highlightWhenShiftUp = false;\n\n  #floatingToolbar = null;\n\n  #idManager = new IdManager();\n\n  #isEnabled = false;\n\n  #isPointerDown = false;\n\n  #isWaiting = false;\n\n  #keyboardManagerAC = null;\n\n  #lastActiveElement = null;\n\n  #mainHighlightColorPicker = null;\n\n  #missingCanvases = null;\n\n  #mlManager = null;\n\n  #mode = AnnotationEditorType.NONE;\n\n  #selectedEditors = new Set();\n\n  #selectedTextNode = null;\n\n  #signatureManager = null;\n\n  #pageColors = null;\n\n  #showAllStates = null;\n\n  #pdfDocument = null;\n\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false,\n  };\n\n  #translation = [0, 0];\n\n  #translationTimeoutId = null;\n\n  #container = null;\n\n  #viewer = null;\n\n  #viewerAlert = null;\n\n  #updateModeCapability = null;\n\n  static TRANSLATE_SMALL = 1; // page units.\n\n  static TRANSLATE_BIG = 10; // page units.\n\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n\n    /**\n     * If the focused element is an input, we don't want to handle the arrow.\n     * For example, sliders can be controlled with the arrow keys.\n     */\n    const arrowChecker = self =>\n      self.#container.contains(document.activeElement) &&\n      document.activeElement.tagName !== \"BUTTON\" &&\n      self.hasSomethingToControl();\n\n    const textInputChecker = (_self, { target: el }) => {\n      if (el instanceof HTMLInputElement) {\n        const { type } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          [\"ctrl+a\", \"mac+meta+a\"],\n          proto.selectAll,\n          { checker: textInputChecker },\n        ],\n        [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, { checker: textInputChecker }],\n        [\n          // On mac, depending of the OS version, the event.key is either \"z\" or\n          // \"Z\" when the user presses \"meta+shift+z\".\n          [\n            \"ctrl+y\",\n            \"ctrl+shift+z\",\n            \"mac+meta+shift+z\",\n            \"ctrl+shift+Z\",\n            \"mac+meta+shift+Z\",\n          ],\n          proto.redo,\n          { checker: textInputChecker },\n        ],\n        [\n          [\n            \"Backspace\",\n            \"alt+Backspace\",\n            \"ctrl+Backspace\",\n            \"shift+Backspace\",\n            \"mac+Backspace\",\n            \"mac+alt+Backspace\",\n            \"mac+ctrl+Backspace\",\n            \"Delete\",\n            \"ctrl+Delete\",\n            \"shift+Delete\",\n            \"mac+Delete\",\n          ],\n          proto.delete,\n          { checker: textInputChecker },\n        ],\n        [\n          [\"Enter\", \"mac+Enter\"],\n          proto.addNewEditorFromKeyboard,\n          {\n            // Those shortcuts can be used in the toolbar for some other actions\n            // like zooming, hence we need to check if the container has the\n            // focus.\n            checker: (self, { target: el }) =>\n              !(el instanceof HTMLButtonElement) &&\n              self.#container.contains(el) &&\n              !self.isEnterHandled,\n          },\n        ],\n        [\n          [\" \", \"mac+ \"],\n          proto.addNewEditorFromKeyboard,\n          {\n            // Those shortcuts can be used in the toolbar for some other actions\n            // like zooming, hence we need to check if the container has the\n            // focus.\n            checker: (self, { target: el }) =>\n              !(el instanceof HTMLButtonElement) &&\n              self.#container.contains(document.activeElement),\n          },\n        ],\n        [[\"Escape\", \"mac+Escape\"], proto.unselectAll],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto.translateSelectedEditors,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto.translateSelectedEditors,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto.translateSelectedEditors,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto.translateSelectedEditors,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  constructor(\n    container,\n    viewer,\n    viewerAlert,\n    altTextManager,\n    commentManager,\n    signatureManager,\n    eventBus,\n    pdfDocument,\n    pageColors,\n    highlightColors,\n    enableHighlightFloatingButton,\n    enableUpdatedAddImage,\n    enableNewAltTextWhenAddingImage,\n    mlManager,\n    editorUndoBar,\n    supportsPinchToZoom\n  ) {\n    const signal = (this._signal = this.#abortController.signal);\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#viewerAlert = viewerAlert;\n    this.#altTextManager = altTextManager;\n    this.#commentManager = commentManager;\n    this.#signatureManager = signatureManager;\n    this.#pdfDocument = pdfDocument;\n    this._eventBus = eventBus;\n    eventBus._on(\"editingaction\", this.onEditingAction.bind(this), { signal });\n    eventBus._on(\"pagechanging\", this.onPageChanging.bind(this), { signal });\n    eventBus._on(\"scalechanging\", this.onScaleChanging.bind(this), { signal });\n    eventBus._on(\"rotationchanging\", this.onRotationChanging.bind(this), {\n      signal,\n    });\n    eventBus._on(\"setpreference\", this.onSetPreference.bind(this), { signal });\n    eventBus._on(\n      \"switchannotationeditorparams\",\n      evt => this.updateParams(evt.type, evt.value),\n      { signal }\n    );\n    window.addEventListener(\n      \"pointerdown\",\n      () => {\n        this.#isPointerDown = true;\n      },\n      { capture: true, signal }\n    );\n    window.addEventListener(\n      \"pointerup\",\n      () => {\n        this.#isPointerDown = false;\n      },\n      { capture: true, signal }\n    );\n    this.#addSelectionListener();\n    this.#addDragAndDropListeners();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#enableUpdatedAddImage = enableUpdatedAddImage;\n    this.#enableNewAltTextWhenAddingImage = enableNewAltTextWhenAddingImage;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0,\n    };\n    this.isShiftKeyDown = false;\n    this._editorUndoBar = editorUndoBar || null;\n    this._supportsPinchToZoom = supportsPinchToZoom !== false;\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      Object.defineProperty(this, \"reset\", {\n        value: () => {\n          this.selectAll();\n          this.delete();\n          this.#idManager.reset();\n        },\n      });\n    }\n  }\n\n  destroy() {\n    this.#updateModeCapability?.resolve();\n    this.#updateModeCapability = null;\n\n    this.#abortController?.abort();\n    this.#abortController = null;\n    this._signal = null;\n\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#missingCanvases?.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#commentManager?.destroy();\n    this.#signatureManager?.destroy();\n    this.#floatingToolbar?.hide();\n    this.#floatingToolbar = null;\n    this.#mainHighlightColorPicker?.destroy();\n    this.#mainHighlightColorPicker = null;\n    this.#allEditableAnnotations = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this._editorUndoBar?.destroy();\n    this.#pdfDocument = null;\n  }\n\n  combinedSignal(ac) {\n    return AbortSignal.any([this._signal, ac.signal]);\n  }\n\n  get mlManager() {\n    return this.#mlManager;\n  }\n\n  get useNewAltTextFlow() {\n    return this.#enableUpdatedAddImage;\n  }\n\n  get useNewAltTextWhenAddingImage() {\n    return this.#enableNewAltTextWhenAddingImage;\n  }\n\n  get hcmFilter() {\n    return shadow(\n      this,\n      \"hcmFilter\",\n      this.#pageColors\n        ? this.#filterFactory.addHCMFilter(\n            this.#pageColors.foreground,\n            this.#pageColors.background\n          )\n        : \"none\"\n    );\n  }\n\n  get direction() {\n    return shadow(\n      this,\n      \"direction\",\n      getComputedStyle(this.#container).direction\n    );\n  }\n\n  get _highlightColors() {\n    return shadow(\n      this,\n      \"_highlightColors\",\n      this.#highlightColors\n        ? new Map(\n            this.#highlightColors.split(\",\").map(pair => {\n              pair = pair.split(\"=\").map(x => x.trim());\n              pair[1] = pair[1].toUpperCase();\n              return pair;\n            })\n          )\n        : null\n    );\n  }\n\n  get highlightColors() {\n    const { _highlightColors } = this;\n    if (!_highlightColors) {\n      return shadow(this, \"highlightColors\", null);\n    }\n    const map = new Map();\n    const hasHCM = !!this.#pageColors;\n    for (const [name, color] of _highlightColors) {\n      const isNameForHCM = name.endsWith(\"_HCM\");\n      if (hasHCM && isNameForHCM) {\n        map.set(name.replace(\"_HCM\", \"\"), color);\n        continue;\n      }\n      if (!hasHCM && !isNameForHCM) {\n        map.set(name, color);\n      }\n    }\n    return shadow(this, \"highlightColors\", map);\n  }\n\n  get highlightColorNames() {\n    return shadow(\n      this,\n      \"highlightColorNames\",\n      this.highlightColors\n        ? new Map(Array.from(this.highlightColors, e => e.reverse()))\n        : null\n    );\n  }\n\n  getNonHCMColor(color) {\n    if (!this._highlightColors) {\n      return color;\n    }\n    const colorName = this.highlightColorNames.get(color);\n    return this._highlightColors.get(colorName) || color;\n  }\n\n  getNonHCMColorName(color) {\n    return this.highlightColorNames.get(color) || color;\n  }\n\n  /**\n   * Set the current drawing session.\n   * @param {AnnotationEditorLayer} layer\n   */\n  setCurrentDrawingSession(layer) {\n    if (layer) {\n      this.unselectAll();\n      this.disableUserSelect(true);\n    } else {\n      this.disableUserSelect(false);\n    }\n    this.#currentDrawingSession = layer;\n  }\n\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n\n  editAltText(editor, firstTime = false) {\n    this.#altTextManager?.editAltText(this, editor, firstTime);\n  }\n\n  hasCommentManager() {\n    return !!this.#commentManager;\n  }\n\n  editComment(editor, position) {\n    this.#commentManager?.open(this, editor, position);\n  }\n\n  getSignature(editor) {\n    this.#signatureManager?.getSignature({ uiManager: this, editor });\n  }\n\n  get signatureManager() {\n    return this.#signatureManager;\n  }\n\n  switchToMode(mode, callback) {\n    // Switching to a mode can be asynchronous.\n    this._eventBus.on(\"annotationeditormodechanged\", callback, {\n      once: true,\n      signal: this._signal,\n    });\n    this._eventBus.dispatch(\"showannotationeditorui\", {\n      source: this,\n      mode,\n    });\n  }\n\n  setPreference(name, value) {\n    this._eventBus.dispatch(\"setpreference\", {\n      source: this,\n      name,\n      value,\n    });\n  }\n\n  onSetPreference({ name, value }) {\n    switch (name) {\n      case \"enableNewAltTextWhenAddingImage\":\n        this.#enableNewAltTextWhenAddingImage = value;\n        break;\n    }\n  }\n\n  onPageChanging({ pageNumber }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n\n  focusMainContainer() {\n    this.#container.focus();\n  }\n\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height,\n      } = layer.div.getBoundingClientRect();\n      if (\n        x >= layerX &&\n        x <= layerX + width &&\n        y >= layerY &&\n        y <= layerY + height\n      ) {\n        return layer;\n      }\n    }\n    return null;\n  }\n\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n\n  onScaleChanging({ scale }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n    this.#currentDrawingSession?.onScaleChanging();\n  }\n\n  onRotationChanging({ pagesRotation }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n\n  #getAnchorElementForSelection({ anchorNode }) {\n    return anchorNode.nodeType === Node.TEXT_NODE\n      ? anchorNode.parentElement\n      : anchorNode;\n  }\n\n  #getLayerForTextLayer(textLayer) {\n    const { currentLayer } = this;\n    if (currentLayer.hasTextLayer(textLayer)) {\n      return currentLayer;\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        return layer;\n      }\n    }\n    return null;\n  }\n\n  highlightSelection(methodOfCreation = \"\", comment = false) {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const { anchorNode, anchorOffset, focusNode, focusOffset } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n\n    const layer = this.#getLayerForTextLayer(textLayer);\n    const isNoneMode = this.#mode === AnnotationEditorType.NONE;\n    const callback = () => {\n      const editor = layer?.createAndAddNewEditor({ x: 0, y: 0 }, false, {\n        methodOfCreation,\n        boxes,\n        anchorNode,\n        anchorOffset,\n        focusNode,\n        focusOffset,\n        text,\n      });\n      if (isNoneMode) {\n        this.showAllEditors(\"highlight\", true, /* updateButton = */ true);\n      }\n      if (comment) {\n        editor?.editComment();\n      }\n    };\n    if (isNoneMode) {\n      this.switchToMode(AnnotationEditorType.HIGHLIGHT, callback);\n      return;\n    }\n    callback();\n  }\n\n  commentSelection(methodOfCreation = \"\") {\n    this.highlightSelection(methodOfCreation, /* comment */ true);\n  }\n\n  #displayFloatingToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#floatingToolbar ||= new FloatingToolbar(this);\n    this.#floatingToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n\n  /**\n   * Add an editor in the annotation storage.\n   * @param {AnnotationEditor} editor\n   */\n  addToAnnotationStorage(editor) {\n    if (\n      !editor.isEmpty() &&\n      this.#annotationStorage &&\n      !this.#annotationStorage.has(editor.id)\n    ) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n\n  a11yAlert(messageId, args = null) {\n    const viewerAlert = this.#viewerAlert;\n    if (!viewerAlert) {\n      return;\n    }\n    viewerAlert.setAttribute(\"data-l10n-id\", messageId);\n    if (args) {\n      viewerAlert.setAttribute(\"data-l10n-args\", JSON.stringify(args));\n    } else {\n      viewerAlert.removeAttribute(\"data-l10n-args\");\n    }\n  }\n\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false,\n        });\n      }\n      return;\n    }\n    const { anchorNode } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#floatingToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false,\n        });\n      }\n      return;\n    }\n\n    this.#floatingToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true,\n    });\n\n    if (\n      this.#mode !== AnnotationEditorType.HIGHLIGHT &&\n      this.#mode !== AnnotationEditorType.NONE\n    ) {\n      return;\n    }\n\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, /* updateButton = */ true);\n    }\n\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const activeLayer =\n        this.#mode === AnnotationEditorType.HIGHLIGHT\n          ? this.#getLayerForTextLayer(textLayer)\n          : null;\n      activeLayer?.toggleDrawing();\n\n      if (this.#isPointerDown) {\n        const ac = new AbortController();\n        const signal = this.combinedSignal(ac);\n\n        const pointerup = e => {\n          if (e.type === \"pointerup\" && e.button !== 0) {\n            // Do nothing on right click.\n            return;\n          }\n          ac.abort();\n          activeLayer?.toggleDrawing(true);\n          if (e.type === \"pointerup\") {\n            this.#onSelectEnd(\"main_toolbar\");\n          }\n        };\n        window.addEventListener(\"pointerup\", pointerup, { signal });\n        window.addEventListener(\"blur\", pointerup, { signal });\n      } else {\n        // Here neither the shift key nor the pointer is down and we've\n        // something in the selection: we can be in the case where the user is\n        // using a screen reader (see bug 1976597).\n        activeLayer?.toggleDrawing(true);\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayFloatingToolbar();\n    }\n  }\n\n  #addSelectionListener() {\n    document.addEventListener(\n      \"selectionchange\",\n      this.#selectionChange.bind(this),\n      { signal: this._signal }\n    );\n  }\n\n  #addFocusManager() {\n    if (this.#focusManagerAC) {\n      return;\n    }\n    this.#focusManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#focusManagerAC);\n\n    window.addEventListener(\"focus\", this.focus.bind(this), { signal });\n    window.addEventListener(\"blur\", this.blur.bind(this), { signal });\n  }\n\n  #removeFocusManager() {\n    this.#focusManagerAC?.abort();\n    this.#focusManagerAC = null;\n  }\n\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    // When several editors are selected and the window loses focus, we want to\n    // keep the last active element in order to be able to focus it again when\n    // the window gets the focus back but we don't want to trigger any focus\n    // callbacks else only one editor will be selected.\n    const { activeElement } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\n      \"focusin\",\n      () => {\n        lastEditor._focusEventsAllowed = true;\n      },\n      { once: true, signal: this._signal }\n    );\n    lastActiveElement.focus();\n  }\n\n  #addKeyboardManager() {\n    if (this.#keyboardManagerAC) {\n      return;\n    }\n    this.#keyboardManagerAC = new AbortController();\n    const signal = this.combinedSignal(this.#keyboardManagerAC);\n\n    // The keyboard events are caught at the container level in order to be able\n    // to execute some callbacks even if the current page doesn't have focus.\n    window.addEventListener(\"keydown\", this.keydown.bind(this), { signal });\n    window.addEventListener(\"keyup\", this.keyup.bind(this), { signal });\n  }\n\n  #removeKeyboardManager() {\n    this.#keyboardManagerAC?.abort();\n    this.#keyboardManagerAC = null;\n  }\n\n  #addCopyPasteListeners() {\n    if (this.#copyPasteAC) {\n      return;\n    }\n    this.#copyPasteAC = new AbortController();\n    const signal = this.combinedSignal(this.#copyPasteAC);\n\n    document.addEventListener(\"copy\", this.copy.bind(this), { signal });\n    document.addEventListener(\"cut\", this.cut.bind(this), { signal });\n    document.addEventListener(\"paste\", this.paste.bind(this), { signal });\n  }\n\n  #removeCopyPasteListeners() {\n    this.#copyPasteAC?.abort();\n    this.#copyPasteAC = null;\n  }\n\n  #addDragAndDropListeners() {\n    const signal = this._signal;\n    document.addEventListener(\"dragover\", this.dragOver.bind(this), { signal });\n    document.addEventListener(\"drop\", this.drop.bind(this), { signal });\n  }\n\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n\n  dragOver(event) {\n    for (const { type } of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(type)) {\n          event.dataTransfer.dropEffect = \"copy\";\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Drop callback.\n   * @param {DragEvent} event\n   */\n  drop(event) {\n    for (const item of event.dataTransfer.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          event.preventDefault();\n          return;\n        }\n      }\n    }\n  }\n\n  /**\n   * Copy callback.\n   * @param {ClipboardEvent} event\n   */\n  copy(event) {\n    event.preventDefault();\n\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n\n    if (!this.hasSelection) {\n      return;\n    }\n\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(/* isForCopying = */ true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n\n  /**\n   * Cut callback.\n   * @param {ClipboardEvent} event\n   */\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n\n  /**\n   * Paste callback.\n   * @param {ClipboardEvent} event\n   */\n  async paste(event) {\n    event.preventDefault();\n    const { clipboardData } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n      return;\n    }\n\n    if (!Array.isArray(data)) {\n      return;\n    }\n\n    this.unselectAll();\n    const layer = this.currentLayer;\n\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = await layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({ cmd, undo, mustExec: true });\n    } catch (ex) {\n      warn(`paste: \"${ex.message}\".`);\n    }\n  }\n\n  /**\n   * Keydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (\n      this.#mode !== AnnotationEditorType.NONE &&\n      !this.isEditorHandlingKeyboard\n    ) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n\n  /**\n   * Keyup callback.\n   * @param {KeyboardEvent} event\n   */\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n\n  /**\n   * Execute an action for a given name.\n   * For example, the user can click on the \"Undo\" entry in the context menu\n   * and it'll trigger the undo action.\n   */\n  onEditingAction({ name }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n      case \"commentSelection\":\n        this.commentSelection(\"context_menu\");\n        break;\n    }\n  }\n\n  /**\n   * Update the different possible states of this manager, e.g. is there\n   * something to undo, redo, ...\n   * @param {Object} details\n   */\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(\n      ([key, value]) => this.#previousStates[key] !== value\n    );\n\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details),\n      });\n      // We could listen on our own event but it sounds like a bit weird and\n      // it's a way to simpler to handle that stuff here instead of having to\n      // add something in every place where an editor can be unselected.\n      if (\n        this.#mode === AnnotationEditorType.HIGHLIGHT &&\n        details.hasSelectedEditor === false\n      ) {\n        this.#dispatchUpdateUI([\n          [AnnotationEditorParamsType.HIGHLIGHT_FREE, true],\n        ]);\n      }\n    }\n  }\n\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details,\n    });\n  }\n\n  /**\n   * Set the editing state.\n   * It can be useful to temporarily disable it when the user is editing a\n   * FreeText annotation.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false,\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false,\n      });\n      this.disableUserSelect(false);\n    }\n  }\n\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n\n  /**\n   * Get an id.\n   * @returns {string}\n   */\n  getId() {\n    return this.#idManager.id;\n  }\n\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n\n  /**\n   * Add a new layer for a page which will contains the editors.\n   * @param {AnnotationEditorLayer} layer\n   */\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n\n  /**\n   * Remove a layer.\n   * @param {AnnotationEditorLayer} layer\n   */\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n\n  /**\n   * Change the editor mode (None, FreeText, Ink, ...)\n   * @param {number} mode\n   * @param {string|null} editId\n   * @param {boolean} [isFromKeyboard] - true if the mode change is due to a\n   *   keyboard action.\n   * @param {boolean} [mustEnterInEditMode] - true if the editor must enter in\n   *   edit mode.\n   * @param {boolean} [editComment] - true if the mode change is due to a\n   *   comment edit.\n   */\n  async updateMode(\n    mode,\n    editId = null,\n    isFromKeyboard = false,\n    mustEnterInEditMode = false,\n    editComment = false\n  ) {\n    if (this.#mode === mode) {\n      return;\n    }\n\n    if (this.#updateModeCapability) {\n      await this.#updateModeCapability.promise;\n      if (!this.#updateModeCapability) {\n        // This ui manager has been destroyed.\n        return;\n      }\n    }\n\n    this.#updateModeCapability = Promise.withResolvers();\n    this.#currentDrawingSession?.commitOrRemove();\n\n    if (this.#mode === AnnotationEditorType.POPUP) {\n      this.#commentManager?.hideSidebar();\n    }\n\n    this.#mode = mode;\n    if (mode === AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n\n      this._editorUndoBar?.hide();\n\n      this.#updateModeCapability.resolve();\n      return;\n    }\n\n    if (mode === AnnotationEditorType.SIGNATURE) {\n      await this.#signatureManager?.loadSignatures();\n    }\n    if (mode === AnnotationEditorType.POPUP) {\n      this.#allEditableAnnotations ||=\n        await this.#pdfDocument.getAnnotationsByType(\n          new Set(this.#editorTypes.map(editorClass => editorClass._editorType))\n        );\n      this.#commentManager?.showSidebar(this.#allEditableAnnotations);\n    }\n\n    this.setEditingState(true);\n    await this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId) {\n      if (isFromKeyboard) {\n        this.addNewEditorFromKeyboard();\n      }\n\n      this.#updateModeCapability.resolve();\n      return;\n    }\n\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId || editor.id === editId) {\n        this.setSelected(editor);\n        if (editComment) {\n          editor.editComment();\n        } else if (mustEnterInEditMode) {\n          editor.enterInEditMode();\n        }\n      } else {\n        editor.unselect();\n      }\n    }\n\n    this.#updateModeCapability.resolve();\n  }\n\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {Object} options\n   * @param {number} mode\n   * @returns {undefined}\n   */\n  updateToolbar(options) {\n    if (options.mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      ...options,\n    });\n  }\n\n  /**\n   * Update a parameter in the current editor or globally.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n\n    switch (type) {\n      case AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor(value);\n        return;\n      case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\",\n            },\n          },\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n\n    if (this.hasSelection) {\n      for (const editor of this.#selectedEditors) {\n        editor.updateParams(type, value);\n      }\n    } else {\n      for (const editorType of this.#editorTypes) {\n        editorType.updateDefaultParams(type, value);\n      }\n    }\n  }\n\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state =\n      this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ??\n      true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([\n        [AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible],\n      ]);\n    }\n  }\n\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n\n  /**\n   * Enable all the layers.\n   */\n  async #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      const promises = [];\n      for (const layer of this.#allLayers.values()) {\n        promises.push(layer.enable());\n      }\n      await Promise.all(promises);\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n\n  /**\n   * Disable all the layers.\n   */\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n\n  /**\n   * Get all the editors belonging to a given page.\n   * @param {number} pageIndex\n   * @returns {Array<AnnotationEditor>}\n   */\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n\n  /**\n   * Get an editor with the given id.\n   * @param {string} id\n   * @returns {AnnotationEditor}\n   */\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n\n  /**\n   * Add a new editor.\n   * @param {AnnotationEditor} editor\n   */\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        // When the div is removed from DOM the focus can move on the\n        // document.body, so we need to move it back to the main container.\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    if (editor.annotationElementId) {\n      this.#missingCanvases?.delete(editor.annotationElementId);\n    }\n    this.unselect(editor);\n    if (\n      !editor.annotationElementId ||\n      !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)\n    ) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n\n  /**\n   * The annotation element with the given id has been deleted.\n   * @param {AnnotationEditor} editor\n   */\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n\n  /**\n   * Check if the annotation element with the given id has been deleted.\n   * @param {string} annotationElementId\n   * @returns {boolean}\n   */\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n\n  /**\n   * The annotation element with the given id have been restored.\n   * @param {AnnotationEditor} editor\n   */\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n\n  /**\n   * Add an editor to the layer it belongs to or add it to the global map.\n   * @param {AnnotationEditor} editor\n   */\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n\n  /**\n   * Set the given editor as the active one.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {\n      // Iterate to get the last element.\n    }\n    return ed;\n  }\n\n  /**\n   * Update the UI of the active editor.\n   * @param {AnnotationEditor} editor\n   */\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n\n  updateUIForDefaultProperties(editorType) {\n    this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection,\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    this.updateToolbar({\n      mode: editor.mode,\n      editId: editor.id,\n    });\n\n    this.#currentDrawingSession?.commitOrRemove();\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true,\n    });\n  }\n\n  /**\n   * Check if the editor is selected.\n   * @param {AnnotationEditor} editor\n   */\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection,\n    });\n  }\n\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n\n  get isEnterHandled() {\n    return (\n      this.#selectedEditors.size === 1 &&\n      this.firstSelectedEditor.isEnterHandled\n    );\n  }\n\n  /**\n   * Undo the last command.\n   */\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty(),\n    });\n    this._editorUndoBar?.hide();\n  }\n\n  /**\n   * Redo the last undoed command.\n   */\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  /**\n   * Add a command to execute (cmd) and another one to undo it.\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty(),\n    });\n  }\n\n  cleanUndoStack(type) {\n    this.#commandManager.cleanType(type);\n  }\n\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Delete the current editor or all.\n   */\n  delete() {\n    this.commitOrRemove();\n    const drawingEditor = this.currentLayer?.endDrawingSession(\n      /* isAborted = */ true\n    );\n    if (!this.hasSelection && !drawingEditor) {\n      return;\n    }\n\n    const editors = drawingEditor\n      ? [drawingEditor]\n      : [...this.#selectedEditors];\n    const cmd = () => {\n      this._editorUndoBar?.show(\n        undo,\n        editors.length === 1 ? editors[0].editorType : editors.length\n      );\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n\n    this.addCommands({ cmd, undo, mustExec: true });\n  }\n\n  commitOrRemove() {\n    // An editor is being edited so just commit it.\n    this.#activeEditor?.commitOrRemove();\n  }\n\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n\n  /**\n   * Select the editors.\n   * @param {Array<AnnotationEditor>} editors\n   */\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({ hasSelectedEditor: this.hasSelection });\n  }\n\n  /**\n   * Select all the editors.\n   */\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n\n  /**\n   * Unselect all the selected editors.\n   */\n  unselectAll() {\n    if (this.#activeEditor) {\n      // An editor is being edited so just commit it.\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== AnnotationEditorType.NONE) {\n        // If the mode is NONE, we want to really unselect the editor, hence we\n        // mustn't return here.\n        return;\n      }\n    }\n\n    if (this.#currentDrawingSession?.commitOrRemove()) {\n      return;\n    }\n\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false,\n    });\n  }\n\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n\n    // We don't want to have an undo/redo for each translation so we wait a bit\n    // before adding the command to the command manager.\n    const TIME_TO_WAIT = 1000;\n\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n              editor.translationDone();\n            }\n          }\n        },\n        mustExec: false,\n      });\n    }, TIME_TO_WAIT);\n\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n      editor.translationDone();\n    }\n  }\n\n  /**\n   * Set up the drag session for moving the selected editors.\n   */\n  setUpDragSession() {\n    // Note: don't use any references to the editor's parent which can be null\n    // if the editor belongs to a destroyed page.\n    if (!this.hasSelection) {\n      return;\n    }\n    // Avoid to have spurious text selection in the text layer when dragging.\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1,\n      });\n    }\n  }\n\n  /**\n   * Ends the drag session.\n   * @returns {boolean} true if at least one editor has been moved.\n   */\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n\n    for (const [{ x, y, pageIndex }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||=\n        x !== value.savedX ||\n        y !== value.savedY ||\n        pageIndex !== value.savedPageIndex;\n    }\n\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        // The editor can be undone/redone on a page which is not visible (and\n        // which potentially has no annotation editor layer), hence we need to\n        // use the pageIndex instead of the parent.\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, { newX, newY, newPageIndex }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, { savedX, savedY, savedPageIndex }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true,\n    });\n\n    return true;\n  }\n\n  /**\n   * Drag the set of selected editors.\n   * @param {number} tx\n   * @param {number} ty\n   */\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n\n  /**\n   * Rebuild the editor (usually on undo/redo actions) on a potentially\n   * non-rendered page.\n   * @param {AnnotationEditor} editor\n   */\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n\n  get isEditorHandlingKeyboard() {\n    return (\n      this.getActive()?.shouldGetKeyboardEvents() ||\n      (this.#selectedEditors.size === 1 &&\n        this.firstSelectedEditor.shouldGetKeyboardEvents())\n    );\n  }\n\n  /**\n   * Is the current editor the one passed as argument?\n   * @param {AnnotationEditor} editor\n   * @returns\n   */\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n\n  /**\n   * Get the current active editor.\n   * @returns {AnnotationEditor|null}\n   */\n  getActive() {\n    return this.#activeEditor;\n  }\n\n  /**\n   * Get the current editor mode.\n   * @returns {number}\n   */\n  getMode() {\n    return this.#mode;\n  }\n\n  get imageManager() {\n    return shadow(this, \"imageManager\", new ImageManager());\n  }\n\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (\n        !textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)\n      ) {\n        return null;\n      }\n    }\n\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight,\n    } = textLayer.getBoundingClientRect();\n\n    // We must rotate the boxes because we want to have them in the non-rotated\n    // page coordinates.\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth,\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight,\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth,\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight,\n        });\n        break;\n    }\n\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const { x, y, width, height } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n\n  addChangedExistingAnnotation({ annotationElementId, id }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(\n      annotationElementId,\n      id\n    );\n  }\n\n  removeChangedExistingAnnotation({ annotationElementId }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n\n  setMissingCanvas(annotationId, annotationElementId, canvas) {\n    const editor = this.#missingCanvases?.get(annotationId);\n    if (!editor) {\n      return;\n    }\n    editor.setCanvas(annotationElementId, canvas);\n    this.#missingCanvases.delete(annotationId);\n  }\n\n  addMissingCanvas(annotationId, editor) {\n    (this.#missingCanvases ||= new Map()).set(annotationId, editor);\n  }\n}\n\nexport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  ColorManager,\n  CommandManager,\n  KeyboardManager,\n};\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { noContextMenu } from \"../display_utils.js\";\n\nclass AltText {\n  #altText = null;\n\n  #altTextDecorative = false;\n\n  #altTextButton = null;\n\n  #altTextButtonLabel = null;\n\n  #altTextTooltip = null;\n\n  #altTextTooltipTimeout = null;\n\n  #altTextWasFromKeyBoard = false;\n\n  #badge = null;\n\n  #editor = null;\n\n  #guessedText = null;\n\n  #textWithDisclaimer = null;\n\n  #useNewAltTextFlow = false;\n\n  static #l10nNewButton = null;\n\n  static _l10n = null;\n\n  constructor(editor) {\n    this.#editor = editor;\n    this.#useNewAltTextFlow = editor._uiManager.useNewAltTextFlow;\n\n    AltText.#l10nNewButton ||= Object.freeze({\n      added: \"pdfjs-editor-new-alt-text-added-button\",\n      \"added-label\": \"pdfjs-editor-new-alt-text-added-button-label\",\n      missing: \"pdfjs-editor-new-alt-text-missing-button\",\n      \"missing-label\": \"pdfjs-editor-new-alt-text-missing-button-label\",\n      review: \"pdfjs-editor-new-alt-text-to-review-button\",\n      \"review-label\": \"pdfjs-editor-new-alt-text-to-review-button-label\",\n    });\n  }\n\n  static initialize(l10n) {\n    AltText._l10n ??= l10n;\n  }\n\n  async render() {\n    const altText = (this.#altTextButton = document.createElement(\"button\"));\n    altText.className = \"altText\";\n    altText.tabIndex = \"0\";\n\n    const label = (this.#altTextButtonLabel = document.createElement(\"span\"));\n    altText.append(label);\n\n    if (this.#useNewAltTextFlow) {\n      altText.classList.add(\"new\");\n      altText.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton.missing);\n      label.setAttribute(\n        \"data-l10n-id\",\n        AltText.#l10nNewButton[\"missing-label\"]\n      );\n    } else {\n      altText.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button\");\n      label.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-button-label\");\n    }\n\n    const signal = this.#editor._uiManager._signal;\n    altText.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal,\n    });\n\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n      if (this.#useNewAltTextFlow) {\n        this.#editor._reportTelemetry({\n          action: \"pdfjs.image.alt_text.image_status_label_clicked\",\n          data: { label: this.#label },\n        });\n      }\n    };\n    altText.addEventListener(\"click\", onClick, { capture: true, signal });\n    altText.addEventListener(\n      \"keydown\",\n      event => {\n        if (event.target === altText && event.key === \"Enter\") {\n          this.#altTextWasFromKeyBoard = true;\n          onClick(event);\n        }\n      },\n      { signal }\n    );\n    await this.#setState();\n\n    return altText;\n  }\n\n  get #label() {\n    return (\n      (this.#altText && \"added\") ||\n      (this.#altText === null && this.guessedText && \"review\") ||\n      \"missing\"\n    );\n  }\n\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({ focusVisible: this.#altTextWasFromKeyBoard });\n    this.#altTextWasFromKeyBoard = false;\n  }\n\n  isEmpty() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText === null;\n    }\n    return !this.#altText && !this.#altTextDecorative;\n  }\n\n  hasData() {\n    if (this.#useNewAltTextFlow) {\n      return this.#altText !== null || !!this.#guessedText;\n    }\n    return this.isEmpty();\n  }\n\n  get guessedText() {\n    return this.#guessedText;\n  }\n\n  async setGuessedText(guessedText) {\n    if (this.#altText !== null) {\n      // The user provided their own alt text, so we don't want to overwrite it.\n      return;\n    }\n    this.#guessedText = guessedText;\n    this.#textWithDisclaimer = await AltText._l10n.get(\n      \"pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer\",\n      { generatedAltText: guessedText }\n    );\n    this.#setState();\n  }\n\n  toggleAltTextBadge(visibility = false) {\n    if (!this.#useNewAltTextFlow || this.#altText) {\n      this.#badge?.remove();\n      this.#badge = null;\n      return;\n    }\n    if (!this.#badge) {\n      const badge = (this.#badge = document.createElement(\"div\"));\n      badge.className = \"noAltTextBadge\";\n      this.#editor.div.append(badge);\n    }\n    this.#badge.classList.toggle(\"hidden\", !visibility);\n  }\n\n  serialize(isForCopying) {\n    let altText = this.#altText;\n    if (!isForCopying && this.#guessedText === altText) {\n      altText = this.#textWithDisclaimer;\n    }\n    return {\n      altText,\n      decorative: this.#altTextDecorative,\n      guessedText: this.#guessedText,\n      textWithDisclaimer: this.#textWithDisclaimer,\n    };\n  }\n\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative,\n    };\n  }\n\n  /**\n   * Set the alt text data.\n   */\n  set data({\n    altText,\n    decorative,\n    guessedText,\n    textWithDisclaimer,\n    cancel = false,\n  }) {\n    if (guessedText) {\n      this.#guessedText = guessedText;\n      this.#textWithDisclaimer = textWithDisclaimer;\n    }\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    if (!cancel) {\n      this.#altText = altText;\n      this.#altTextDecorative = decorative;\n    }\n    this.#setState();\n  }\n\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n\n  shown() {\n    this.#editor._reportTelemetry({\n      action: \"pdfjs.image.alt_text.image_status_label_displayed\",\n      data: { label: this.#label },\n    });\n  }\n\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextButtonLabel = null;\n    this.#altTextTooltip = null;\n    this.#badge?.remove();\n    this.#badge = null;\n  }\n\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n\n    if (this.#useNewAltTextFlow) {\n      button.classList.toggle(\"done\", !!this.#altText);\n      button.setAttribute(\"data-l10n-id\", AltText.#l10nNewButton[this.#label]);\n\n      this.#altTextButtonLabel?.setAttribute(\n        \"data-l10n-id\",\n        AltText.#l10nNewButton[`${this.#label}-label`]\n      );\n      if (!this.#altText) {\n        this.#altTextTooltip?.remove();\n        return;\n      }\n    } else {\n      if (!this.#altText && !this.#altTextDecorative) {\n        button.classList.remove(\"done\");\n        this.#altTextTooltip?.remove();\n        return;\n      }\n      button.classList.add(\"done\");\n      button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-alt-text-edit-button\");\n    }\n\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      const signal = this.#editor._uiManager._signal;\n      signal.addEventListener(\n        \"abort\",\n        () => {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        },\n        { once: true }\n      );\n      button.addEventListener(\n        \"mouseenter\",\n        () => {\n          this.#altTextTooltipTimeout = setTimeout(() => {\n            this.#altTextTooltipTimeout = null;\n            this.#altTextTooltip.classList.add(\"show\");\n            this.#editor._reportTelemetry({\n              action: \"alt_text_tooltip\",\n            });\n          }, DELAY_TO_SHOW_TOOLTIP);\n        },\n        { signal }\n      );\n      button.addEventListener(\n        \"mouseleave\",\n        () => {\n          if (this.#altTextTooltipTimeout) {\n            clearTimeout(this.#altTextTooltipTimeout);\n            this.#altTextTooltipTimeout = null;\n          }\n          this.#altTextTooltip?.classList.remove(\"show\");\n        },\n        { signal }\n      );\n    }\n    if (this.#altTextDecorative) {\n      tooltip.setAttribute(\n        \"data-l10n-id\",\n        \"pdfjs-editor-alt-text-decorative-tooltip\"\n      );\n    } else {\n      tooltip.removeAttribute(\"data-l10n-id\");\n      tooltip.textContent = this.#altText;\n    }\n\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n\n    const element = this.#editor.getElementForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\nexport { AltText };\n","/* Copyright 2025 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { noContextMenu } from \"../display_utils.js\";\n\nclass Comment {\n  #commentButton = null;\n\n  #commentWasFromKeyBoard = false;\n\n  #editor = null;\n\n  #initialText = null;\n\n  #text = null;\n\n  #date = null;\n\n  #deleted = false;\n\n  constructor(editor) {\n    this.#editor = editor;\n    this.toolbar = null;\n  }\n\n  render() {\n    if (!this.#editor._uiManager.hasCommentManager()) {\n      return null;\n    }\n\n    const comment = (this.#commentButton = document.createElement(\"button\"));\n    comment.className = \"comment\";\n    comment.tabIndex = \"0\";\n    comment.setAttribute(\"data-l10n-id\", \"pdfjs-editor-edit-comment-button\");\n\n    const signal = this.#editor._uiManager._signal;\n    if (!(signal instanceof AbortSignal) || signal.aborted) {\n      return comment;\n    }\n\n    comment.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    comment.addEventListener(\"pointerdown\", event => event.stopPropagation(), {\n      signal,\n    });\n\n    const onClick = event => {\n      event.preventDefault();\n      this.edit();\n    };\n    comment.addEventListener(\"click\", onClick, { capture: true, signal });\n    comment.addEventListener(\n      \"keydown\",\n      event => {\n        if (event.target === comment && event.key === \"Enter\") {\n          this.#commentWasFromKeyBoard = true;\n          onClick(event);\n        }\n      },\n      { signal }\n    );\n\n    return comment;\n  }\n\n  edit() {\n    const { bottom, left, right } = this.#editor.getClientDimensions();\n    const position = { top: bottom };\n    if (this.#editor._uiManager.direction === \"ltr\") {\n      position.right = right;\n    } else {\n      position.left = left;\n    }\n    this.#editor._uiManager.editComment(this.#editor, position);\n  }\n\n  finish() {\n    if (!this.#commentButton) {\n      return;\n    }\n    this.#commentButton.focus({ focusVisible: this.#commentWasFromKeyBoard });\n    this.#commentWasFromKeyBoard = false;\n  }\n\n  isDeleted() {\n    return this.#deleted || this.#text === \"\";\n  }\n\n  hasBeenEdited() {\n    return this.isDeleted() || this.#text !== this.#initialText;\n  }\n\n  serialize() {\n    return this.data;\n  }\n\n  get data() {\n    return {\n      text: this.#text,\n      date: this.#date,\n      deleted: this.#deleted,\n    };\n  }\n\n  /**\n   * Set the comment data.\n   */\n  set data(text) {\n    if (text === null) {\n      this.#text = \"\";\n      this.#deleted = true;\n      return;\n    }\n    this.#text = text;\n    this.#date = new Date();\n    this.#deleted = false;\n  }\n\n  setInitialText(text) {\n    this.#initialText = text;\n    this.data = text;\n  }\n\n  toggle(enabled = false) {\n    if (!this.#commentButton) {\n      return;\n    }\n    this.#commentButton.disabled = !enabled;\n  }\n\n  shown() {}\n\n  destroy() {\n    this.#commentButton?.remove();\n    this.#commentButton = null;\n    this.#text = \"\";\n    this.#date = null;\n    this.#editor = null;\n    this.#commentWasFromKeyBoard = false;\n    this.#deleted = false;\n  }\n}\n\nexport { Comment };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { OutputScale, stopEvent } from \"./display_utils.js\";\n\nclass TouchManager {\n  #container;\n\n  #isPinching = false;\n\n  #isPinchingStopped = null;\n\n  #isPinchingDisabled;\n\n  #onPinchStart;\n\n  #onPinching;\n\n  #onPinchEnd;\n\n  #pointerDownAC = null;\n\n  #signal;\n\n  #touchInfo = null;\n\n  #touchManagerAC;\n\n  #touchMoveAC = null;\n\n  constructor({\n    container,\n    isPinchingDisabled = null,\n    isPinchingStopped = null,\n    onPinchStart = null,\n    onPinching = null,\n    onPinchEnd = null,\n    signal,\n  }) {\n    this.#container = container;\n    this.#isPinchingStopped = isPinchingStopped;\n    this.#isPinchingDisabled = isPinchingDisabled;\n    this.#onPinchStart = onPinchStart;\n    this.#onPinching = onPinching;\n    this.#onPinchEnd = onPinchEnd;\n    this.#touchManagerAC = new AbortController();\n    this.#signal = AbortSignal.any([signal, this.#touchManagerAC.signal]);\n\n    container.addEventListener(\"touchstart\", this.#onTouchStart.bind(this), {\n      passive: false,\n      signal: this.#signal,\n    });\n  }\n\n  /**\n   * NOTE: Don't shadow this value since `devicePixelRatio` may change if the\n   * window resolution changes, e.g. if the viewer is moved to another monitor.\n   */\n  get MIN_TOUCH_DISTANCE_TO_PINCH() {\n    // The 35 is coming from:\n    //  https://searchfox.org/mozilla-central/source/gfx/layers/apz/src/GestureEventListener.cpp#36\n    //\n    // The properties TouchEvent::screenX/Y are in screen CSS pixels:\n    //  https://developer.mozilla.org/en-US/docs/Web/API/Touch/screenX#examples\n    // MIN_TOUCH_DISTANCE_TO_PINCH is in CSS pixels.\n    return 35 / OutputScale.pixelRatio;\n  }\n\n  #onTouchStart(evt) {\n    if (this.#isPinchingDisabled?.()) {\n      return;\n    }\n\n    if (evt.touches.length === 1) {\n      if (this.#pointerDownAC) {\n        return;\n      }\n      const pointerDownAC = (this.#pointerDownAC = new AbortController());\n      const signal = AbortSignal.any([this.#signal, pointerDownAC.signal]);\n      const container = this.#container;\n\n      // We want to have the events at the capture phase to make sure we can\n      // cancel them.\n      const opts = { capture: true, signal, passive: false };\n      const cancelPointerDown = e => {\n        if (e.pointerType === \"touch\") {\n          this.#pointerDownAC?.abort();\n          this.#pointerDownAC = null;\n        }\n      };\n      container.addEventListener(\n        \"pointerdown\",\n        e => {\n          if (e.pointerType === \"touch\") {\n            // This is the second finger so we don't want it select something\n            // or whatever.\n            stopEvent(e);\n            cancelPointerDown(e);\n          }\n        },\n        opts\n      );\n      container.addEventListener(\"pointerup\", cancelPointerDown, opts);\n      container.addEventListener(\"pointercancel\", cancelPointerDown, opts);\n      return;\n    }\n\n    if (!this.#touchMoveAC) {\n      this.#touchMoveAC = new AbortController();\n      const signal = AbortSignal.any([this.#signal, this.#touchMoveAC.signal]);\n      const container = this.#container;\n\n      const opt = { signal, capture: false, passive: false };\n      container.addEventListener(\n        \"touchmove\",\n        this.#onTouchMove.bind(this),\n        opt\n      );\n      const onTouchEnd = this.#onTouchEnd.bind(this);\n      container.addEventListener(\"touchend\", onTouchEnd, opt);\n      container.addEventListener(\"touchcancel\", onTouchEnd, opt);\n\n      opt.capture = true;\n      container.addEventListener(\"pointerdown\", stopEvent, opt);\n      container.addEventListener(\"pointermove\", stopEvent, opt);\n      container.addEventListener(\"pointercancel\", stopEvent, opt);\n      container.addEventListener(\"pointerup\", stopEvent, opt);\n      this.#onPinchStart?.();\n    }\n\n    stopEvent(evt);\n\n    if (evt.touches.length !== 2 || this.#isPinchingStopped?.()) {\n      this.#touchInfo = null;\n      return;\n    }\n\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    this.#touchInfo = {\n      touch0X: touch0.screenX,\n      touch0Y: touch0.screenY,\n      touch1X: touch1.screenX,\n      touch1Y: touch1.screenY,\n    };\n  }\n\n  #onTouchMove(evt) {\n    if (!this.#touchInfo || evt.touches.length !== 2) {\n      return;\n    }\n\n    stopEvent(evt);\n\n    let [touch0, touch1] = evt.touches;\n    if (touch0.identifier > touch1.identifier) {\n      [touch0, touch1] = [touch1, touch0];\n    }\n    const { screenX: screen0X, screenY: screen0Y } = touch0;\n    const { screenX: screen1X, screenY: screen1Y } = touch1;\n    const touchInfo = this.#touchInfo;\n    const {\n      touch0X: pTouch0X,\n      touch0Y: pTouch0Y,\n      touch1X: pTouch1X,\n      touch1Y: pTouch1Y,\n    } = touchInfo;\n\n    const prevGapX = pTouch1X - pTouch0X;\n    const prevGapY = pTouch1Y - pTouch0Y;\n    const currGapX = screen1X - screen0X;\n    const currGapY = screen1Y - screen0Y;\n\n    const distance = Math.hypot(currGapX, currGapY) || 1;\n    const pDistance = Math.hypot(prevGapX, prevGapY) || 1;\n    if (\n      !this.#isPinching &&\n      Math.abs(pDistance - distance) <= TouchManager.MIN_TOUCH_DISTANCE_TO_PINCH\n    ) {\n      return;\n    }\n\n    touchInfo.touch0X = screen0X;\n    touchInfo.touch0Y = screen0Y;\n    touchInfo.touch1X = screen1X;\n    touchInfo.touch1Y = screen1Y;\n\n    if (!this.#isPinching) {\n      // Start pinching.\n      this.#isPinching = true;\n\n      // We return here else the first pinch is a bit too much\n      return;\n    }\n\n    const origin = [(screen0X + screen1X) / 2, (screen0Y + screen1Y) / 2];\n    this.#onPinching?.(origin, pDistance, distance);\n  }\n\n  #onTouchEnd(evt) {\n    if (evt.touches.length >= 2) {\n      return;\n    }\n    // #touchMoveAC shouldn't be null but it seems that irl it can (see #19793).\n    if (this.#touchMoveAC) {\n      this.#touchMoveAC.abort();\n      this.#touchMoveAC = null;\n      this.#onPinchEnd?.();\n    }\n\n    if (!this.#touchInfo) {\n      return;\n    }\n    stopEvent(evt);\n    this.#touchInfo = null;\n    this.#isPinching = false;\n  }\n\n  destroy() {\n    this.#touchManagerAC?.abort();\n    this.#touchManagerAC = null;\n    this.#pointerDownAC?.abort();\n    this.#pointerDownAC = null;\n  }\n}\n\nexport { TouchManager };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorUIManager,\n  bindEvents,\n  ColorManager,\n  KeyboardManager,\n} from \"./tools.js\";\nimport {\n  FeatureTest,\n  MathClamp,\n  shadow,\n  unreachable,\n} from \"../../shared/util.js\";\nimport { noContextMenu, stopEvent } from \"../display_utils.js\";\nimport { AltText } from \"./alt_text.js\";\nimport { Comment } from \"./comment.js\";\nimport { EditorToolbar } from \"./toolbar.js\";\nimport { TouchManager } from \"../touch_manager.js\";\n\n/**\n * @typedef {Object} AnnotationEditorParameters\n * @property {AnnotationEditorUIManager} uiManager - the global manager\n * @property {AnnotationEditorLayer} parent - the layer containing this editor\n * @property {string} id - editor id\n * @property {number} x - x-coordinate\n * @property {number} y - y-coordinate\n */\n\n/**\n * Base class for editors.\n */\nclass AnnotationEditor {\n  #accessibilityData = null;\n\n  #allResizerDivs = null;\n\n  #altText = null;\n\n  #comment = null;\n\n  #disabled = false;\n\n  #dragPointerId = null;\n\n  #dragPointerType = \"\";\n\n  #keepAspectRatio = false;\n\n  #resizersDiv = null;\n\n  #lastPointerCoords = null;\n\n  #savedDimensions = null;\n\n  #focusAC = null;\n\n  #focusedResizerName = \"\";\n\n  #hasBeenClicked = false;\n\n  #initialRect = null;\n\n  #isEditing = false;\n\n  #isInEditMode = false;\n\n  #isResizerEnabledForKeyboard = false;\n\n  #moveInDOMTimeout = null;\n\n  #prevDragX = 0;\n\n  #prevDragY = 0;\n\n  #telemetryTimeouts = null;\n\n  #touchManager = null;\n\n  isSelected = false;\n\n  _isCopy = false;\n\n  _editToolbar = null;\n\n  _initialOptions = Object.create(null);\n\n  _initialData = null;\n\n  _isVisible = true;\n\n  _uiManager = null;\n\n  _focusEventsAllowed = true;\n\n  static _l10n = null;\n\n  static _l10nResizer = null;\n\n  #isDraggable = false;\n\n  #zIndex = AnnotationEditor._zIndex++;\n\n  static _borderLineWidth = -1;\n\n  static _colorManager = new ColorManager();\n\n  static _zIndex = 1;\n\n  // Time to wait (in ms) before sending the telemetry data.\n  // We wait a bit to avoid sending too many requests when changing something\n  // like the thickness of a line.\n  static _telemetryTimeout = 1000;\n\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_resizerKeyboardManager\",\n      new KeyboardManager([\n        [[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, { args: [-small, 0] }],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          resize,\n          { args: [-big, 0] },\n        ],\n        [[\"ArrowRight\", \"mac+ArrowRight\"], resize, { args: [small, 0] }],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          resize,\n          { args: [big, 0] },\n        ],\n        [[\"ArrowUp\", \"mac+ArrowUp\"], resize, { args: [0, -small] }],\n        [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, { args: [0, -big] }],\n        [[\"ArrowDown\", \"mac+ArrowDown\"], resize, { args: [0, small] }],\n        [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, { args: [0, big] }],\n        [\n          [\"Escape\", \"mac+Escape\"],\n          AnnotationEditor.prototype._stopResizingWithKeyboard,\n        ],\n      ])\n    );\n  }\n\n  /**\n   * @param {AnnotationEditorParameters} parameters\n   */\n  constructor(parameters) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === AnnotationEditor\n    ) {\n      unreachable(\"Cannot initialize AnnotationEditor.\");\n    }\n\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    this.annotationElementId = parameters.annotationElementId || null;\n\n    const {\n      rotation,\n      rawDims: { pageWidth, pageHeight, pageX, pageY },\n    } = this.parent.viewport;\n\n    this.rotation = rotation;\n    this.pageRotation =\n      (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n\n  get mode() {\n    return Object.getPrototypeOf(this).constructor._editorType;\n  }\n\n  static get isDrawer() {\n    return false;\n  }\n\n  static get _defaultLineColor() {\n    return shadow(\n      this,\n      \"_defaultLineColor\",\n      this._colorManager.getHexCode(\"CanvasText\")\n    );\n  }\n\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager,\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n\n  /**\n   * Initialize the l10n stuff for this type of editor.\n   * @param {Object} l10n\n   */\n  static initialize(l10n, _uiManager) {\n    AnnotationEditor._l10n ??= l10n;\n\n    AnnotationEditor._l10nResizer ||= Object.freeze({\n      topLeft: \"pdfjs-editor-resizer-top-left\",\n      topMiddle: \"pdfjs-editor-resizer-top-middle\",\n      topRight: \"pdfjs-editor-resizer-top-right\",\n      middleRight: \"pdfjs-editor-resizer-middle-right\",\n      bottomRight: \"pdfjs-editor-resizer-bottom-right\",\n      bottomMiddle: \"pdfjs-editor-resizer-bottom-middle\",\n      bottomLeft: \"pdfjs-editor-resizer-bottom-left\",\n      middleLeft: \"pdfjs-editor-resizer-middle-left\",\n    });\n\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth =\n      parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n\n  /**\n   * Update the default parameters for this type of editor.\n   * @param {number} _type\n   * @param {*} _value\n   */\n  static updateDefaultParams(_type, _value) {}\n\n  /**\n   * Get the default properties to set in the UI for this type of editor.\n   * @returns {Array}\n   */\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n\n  /**\n   * Check if this kind of editor is able to handle the given mime type for\n   * pasting.\n   * @param {string} mime\n   * @returns {boolean}\n   */\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n\n  /**\n   * Extract the data from the clipboard item and delegate the creation of the\n   * editor to the parent.\n   * @param {DataTransferItem} item\n   * @param {AnnotationEditorLayer} parent\n   */\n  static paste(item, parent) {\n    unreachable(\"Not implemented\");\n  }\n\n  /**\n   * Get the properties to update in the UI for this editor.\n   * @returns {Array}\n   */\n  get propertiesToUpdate() {\n    return [];\n  }\n\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n\n  /**\n   * @returns {boolean} true if the editor handles the Enter key itself.\n   */\n  get isEnterHandled() {\n    return true;\n  }\n\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= (this.height * pageHeight) / (pageWidth * 2);\n        this.y += (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += (this.height * pageHeight) / (pageWidth * 2);\n        this.y -= (this.width * pageWidth) / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n\n  /**\n   * This editor will be behind the others.\n   */\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n\n  /**\n   * This editor will be in the foreground.\n   */\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      // The editor is being removed from the DOM, so we need to stop resizing.\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n\n  /**\n   * onfocus callback.\n   */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n\n  /**\n   * onblur callback.\n   * @param {FocusEvent} event\n   */\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n\n    // In case of focusout, the relatedTarget is the element which\n    // is grabbing the focus.\n    // So if the related target is an element under the div for this\n    // editor, then the editor isn't unactive.\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n\n  /**\n   * Commit the data contained in this editor.\n   */\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.addToAnnotationStorage();\n  }\n\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n\n  /**\n   * Set the editor position within its parent.\n   * @param {number} x\n   * @param {number} y\n   * @param {number} tx - x-translation in screen coordinates.\n   * @param {number} ty - y-translation in screen coordinates.\n   */\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n\n    this.fixAndSetPosition();\n  }\n\n  _moveAfterPaste(baseX, baseY) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setAt(\n      baseX * parentWidth,\n      baseY * parentHeight,\n      this.width * parentWidth,\n      this.height * parentHeight\n    );\n    this._onTranslated();\n  }\n\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n\n    this.x += x / width;\n    this.y += y / height;\n\n    this._onTranslating(this.x, this.y);\n\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Translate the editor position within its parent.\n   * @param {number} x - x-translation in screen coordinates.\n   * @param {number} y - y-translation in screen coordinates.\n   */\n  translate(x, y) {\n    // We don't change the initial position because the move here hasn't been\n    // done by the user.\n    this.#translate(this.parentDimensions, x, y);\n  }\n\n  /**\n   * Translate the editor position within its page and adjust the scroll\n   * in order to have the editor in the view.\n   * @param {number} x - x-translation in page coordinates.\n   * @param {number} y - y-translation in page coordinates.\n   */\n  translateInPage(x, y) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  translationDone() {\n    this._onTranslated(this.x, this.y);\n  }\n\n  drag(tx, ty) {\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    const {\n      div,\n      parentDimensions: [parentWidth, parentHeight],\n    } = this;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      // It's possible to not have a parent: for example, when the user is\n      // dragging all the selected editors but this one on a page which has been\n      // destroyed.\n      // It's why we need to check for it. In such a situation, it isn't really\n      // a problem to not find a new parent: it's something which is related to\n      // what the user is seeing, hence it depends on how pages are layed out.\n\n      // The element will be outside of its parent so change the parent.\n      const { x, y } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n\n    // The editor can be moved wherever the user wants, so we don't need to fix\n    // the position: it'll be done when the user will release the mouse button.\n\n    let { x, y } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n\n    const { style } = div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n\n    this._onTranslating(x, y);\n\n    div.scrollIntoView({ block: \"nearest\" });\n  }\n\n  /**\n   * Called when the editor is being translated.\n   * @param {number} x - in page coordinates.\n   * @param {number} y - in page coordinates.\n   */\n  _onTranslating(x, y) {}\n\n  /**\n   * Called when the editor has been translated.\n   * @param {number} x - in page coordinates.\n   * @param {number} y - in page coordinates.\n   */\n  _onTranslated(x, y) {}\n\n  get _hasBeenMoved() {\n    return (\n      !!this.#initialRect &&\n      (this.#initialRect[0] !== this.x || this.#initialRect[1] !== this.y)\n    );\n  }\n\n  get _hasBeenResized() {\n    return (\n      !!this.#initialRect &&\n      (this.#initialRect[2] !== this.width ||\n        this.#initialRect[3] !== this.height)\n    );\n  }\n\n  /**\n   * Get the translation to take into account the editor border.\n   * The CSS engine positions the element by taking the border into account so\n   * we must apply the opposite translation to have the editor in the right\n   * position.\n   * @returns {Array<number>}\n   */\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const { _borderLineWidth } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n\n  /**\n   * @returns {boolean} true if position must be fixed (i.e. make the x and y\n   * living in the page).\n   */\n  get _mustFixPosition() {\n    return true;\n  }\n\n  /**\n   * Fix the position of the editor in order to keep it inside its parent page.\n   * @param {number} [rotation] - the rotation of the page.\n   */\n  fixAndSetPosition(rotation = this.rotation) {\n    const {\n      div: { style },\n      pageDimensions: [pageWidth, pageHeight],\n    } = this;\n    let { x, y, width, height } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = MathClamp(x, 0, pageWidth - width);\n          y = MathClamp(y, 0, pageHeight - height);\n          break;\n        case 90:\n          x = MathClamp(x, 0, pageWidth - height);\n          y = MathClamp(y, width, pageHeight);\n          break;\n        case 180:\n          x = MathClamp(x, width, pageWidth);\n          y = MathClamp(y, height, pageHeight);\n          break;\n        case 270:\n          x = MathClamp(x, height, pageWidth);\n          y = MathClamp(y, 0, pageHeight - width);\n          break;\n      }\n    }\n\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n\n    this.moveInDOM();\n  }\n\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n\n  /**\n   * Convert a screen translation into a page one.\n   * @param {number} x\n   * @param {number} y\n   */\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n\n  /**\n   * Convert a page translation into a screen one.\n   * @param {number} x\n   * @param {number} y\n   */\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n      }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270: {\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n      }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight],\n    } = this;\n    return [pageWidth * parentScale, pageHeight * parentScale];\n  }\n\n  /**\n   * Set the dimensions of this editor.\n   * @param {number} width\n   * @param {number} height\n   */\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const { style } = this.div;\n    style.width = `${((100 * width) / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      style.height = `${((100 * height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n\n  fixDims() {\n    const { style } = this.div;\n    const { height, width } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${((100 * parseFloat(width)) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${((100 * parseFloat(height)) / parentHeight).toFixed(2)}%`;\n    }\n  }\n\n  /**\n   * Get the translation used to position this editor when it's created.\n   * @returns {Array<number>}\n   */\n  getInitialTranslation() {\n    return [0, 0];\n  }\n\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    // When the resizers are used with the keyboard, they're focusable, hence\n    // we want to have them in this order (top left, top middle, top right, ...)\n    // in the DOM to have the focus order correct.\n    const classes = this._willKeepAspectRatio\n      ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"]\n      : [\n          \"topLeft\",\n          \"topMiddle\",\n          \"topRight\",\n          \"middleRight\",\n          \"bottomRight\",\n          \"bottomMiddle\",\n          \"bottomLeft\",\n          \"middleLeft\",\n        ];\n    const signal = this._uiManager._signal;\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\n        \"pointerdown\",\n        this.#resizerPointerdown.bind(this, name),\n        { signal }\n      );\n      div.addEventListener(\"contextmenu\", noContextMenu, { signal });\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      return;\n    }\n\n    this.#altText?.toggle(false);\n\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    this.#lastPointerCoords = [event.screenX, event.screenY];\n\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\n      \"pointermove\",\n      this.#resizerPointermove.bind(this, name),\n      { passive: true, capture: true, signal }\n    );\n    window.addEventListener(\n      \"touchmove\",\n      stopEvent /* Prevent the page from scrolling */,\n      { passive: false, signal }\n    );\n    window.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height,\n    };\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor =\n      window.getComputedStyle(event.target).cursor;\n\n    const pointerUpCallback = () => {\n      ac.abort();\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n\n      this.#addResizeToUndoStack();\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    // If the user switches to another window (with alt+tab), then we end the\n    // resize session.\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n  }\n\n  #resize(x, y, width, height) {\n    this.width = width;\n    this.height = height;\n    this.x = x;\n    this.y = y;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(parentWidth * width, parentHeight * height);\n    this.fixAndSetPosition();\n    this._onResized();\n  }\n\n  /**\n   * Called when the editor has been resized.\n   */\n  _onResized() {}\n\n  #addResizeToUndoStack() {\n    if (!this.#savedDimensions) {\n      return;\n    }\n    const { savedX, savedY, savedWidth, savedHeight } = this.#savedDimensions;\n    this.#savedDimensions = null;\n\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (\n      newX === savedX &&\n      newY === savedY &&\n      newWidth === savedWidth &&\n      newHeight === savedHeight\n    ) {\n      return;\n    }\n\n    this.addCommands({\n      cmd: this.#resize.bind(this, newX, newY, newWidth, newHeight),\n      undo: this.#resize.bind(this, savedX, savedY, savedWidth, savedHeight),\n      mustExec: true,\n    });\n  }\n\n  static _round(x) {\n    // 10000 because we multiply by 100 and use toFixed(2) in fixAndSetPosition.\n    // Without rounding, the positions of the corners other than the top left\n    // one can be slightly wrong.\n    return Math.round(x * 10000) / 10000;\n  }\n\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [\n      rotationMatrix[0] * x + rotationMatrix[2] * y,\n      rotationMatrix[1] * x + rotationMatrix[3] * y,\n    ];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [\n      invRotationMatrix[0] * x + invRotationMatrix[2] * y,\n      invRotationMatrix[1] * x + invRotationMatrix[3] * y,\n    ];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = AnnotationEditor._round(savedX + transfOppositePoint[0]);\n    const oppositeY = AnnotationEditor._round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n\n    let deltaX, deltaY;\n\n    if (!event.fromKeyboard) {\n      // We can't use event.movementX/Y because they're not reliable:\n      //  https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/movementX\n      // (it was buggy on a laptop with a touch screen).\n      const { screenX, screenY } = event;\n      const [lastScreenX, lastScreenY] = this.#lastPointerCoords;\n      [deltaX, deltaY] = this.screenToPageTranslation(\n        screenX - lastScreenX,\n        screenY - lastScreenY\n      );\n      this.#lastPointerCoords[0] = screenX;\n      this.#lastPointerCoords[1] = screenY;\n    } else {\n      ({ deltaX, deltaY } = event);\n    }\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(\n        Math.min(\n          Math.hypot(\n            oppositePoint[0] - point[0] - deltaX,\n            oppositePoint[1] - point[1] - deltaY\n          ) / oldDiag,\n          // Avoid the editor to be larger than the page.\n          1 / savedWidth,\n          1 / savedHeight\n        ),\n        // Avoid the editor to be smaller than the minimum size.\n        minWidth / savedWidth,\n        minHeight / savedHeight\n      );\n    } else if (isHorizontal) {\n      ratioX =\n        MathClamp(Math.abs(oppositePoint[0] - point[0] - deltaX), minWidth, 1) /\n        savedWidth;\n    } else {\n      ratioY =\n        MathClamp(\n          Math.abs(oppositePoint[1] - point[1] - deltaY),\n          minHeight,\n          1\n        ) / savedHeight;\n    }\n\n    const newWidth = AnnotationEditor._round(savedWidth * ratioX);\n    const newHeight = AnnotationEditor._round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n\n    this.#initialRect ||= [this.x, this.y, this.width, this.height];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n\n    this._onResizing();\n  }\n\n  /**\n   * Called when the editor is being resized.\n   */\n  _onResizing() {}\n\n  /**\n   * Called when the alt text dialog is closed.\n   */\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n\n  /**\n   * Get the toolbar buttons for this editor.\n   * @returns {Array<Array<string|object|null>>|null}\n   */\n  get toolbarButtons() {\n    return null;\n  }\n\n  /**\n   * Add a toolbar for this editor.\n   * @returns {Promise<EditorToolbar|null>}\n   */\n  async addEditToolbar() {\n    if (this._editToolbar || this.#isInEditMode) {\n      return this._editToolbar;\n    }\n    this._editToolbar = new EditorToolbar(this);\n    this.div.append(this._editToolbar.render());\n    const { toolbarButtons } = this;\n    if (toolbarButtons) {\n      for (const [name, tool] of toolbarButtons) {\n        await this._editToolbar.addButton(name, tool);\n      }\n    }\n    this._editToolbar.addButton(\"comment\", this.addCommentButton());\n    this._editToolbar.addButton(\"delete\");\n\n    return this._editToolbar;\n  }\n\n  removeEditToolbar() {\n    if (!this._editToolbar) {\n      return;\n    }\n    this._editToolbar.remove();\n    this._editToolbar = null;\n\n    // We destroy the alt text but we don't null it because we want to be able\n    // to restore it in case the user undoes the deletion.\n    this.#altText?.destroy();\n  }\n\n  addContainer(container) {\n    const editToolbarDiv = this._editToolbar?.div;\n    if (editToolbarDiv) {\n      editToolbarDiv.before(container);\n    } else {\n      this.div.append(container);\n    }\n  }\n\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n\n  /**\n   * Create the alt text for this editor.\n   * @returns {object}\n   */\n  createAltText() {\n    if (!this.#altText) {\n      AltText.initialize(AnnotationEditor._l10n);\n      this.#altText = new AltText(this);\n      if (this.#accessibilityData) {\n        this.#altText.data = this.#accessibilityData;\n        this.#accessibilityData = null;\n      }\n    }\n    return this.#altText;\n  }\n\n  get altTextData() {\n    return this.#altText?.data;\n  }\n\n  /**\n   * Set the alt text data.\n   */\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n\n  get guessedAltText() {\n    return this.#altText?.guessedText;\n  }\n\n  async setGuessedAltText(text) {\n    await this.#altText?.setGuessedText(text);\n  }\n\n  serializeAltText(isForCopying) {\n    return this.#altText?.serialize(isForCopying);\n  }\n\n  hasAltText() {\n    return !!this.#altText && !this.#altText.isEmpty();\n  }\n\n  hasAltTextData() {\n    return this.#altText?.hasData() ?? false;\n  }\n\n  addCommentButton() {\n    if (this.#comment) {\n      return this.#comment;\n    }\n    return (this.#comment = new Comment(this));\n  }\n\n  get commentColor() {\n    return null;\n  }\n\n  get comment() {\n    const comment = this.#comment;\n    return {\n      text: comment.data.text,\n      date: comment.data.date,\n      deleted: comment.isDeleted(),\n      color: this.commentColor,\n    };\n  }\n\n  set comment(text) {\n    if (!this.#comment) {\n      this.#comment = new Comment(this);\n    }\n    this.#comment.data = text;\n  }\n\n  setCommentData(text) {\n    if (!this.#comment) {\n      this.#comment = new Comment(this);\n    }\n    this.#comment.setInitialText(text);\n  }\n\n  get hasEditedComment() {\n    return this.#comment?.hasBeenEdited();\n  }\n\n  async editComment() {\n    if (!this.#comment) {\n      this.#comment = new Comment(this);\n    }\n    this.#comment.edit();\n  }\n\n  addComment(serialized) {\n    if (this.hasEditedComment) {\n      const DEFAULT_POPUP_WIDTH = 180;\n      const DEFAULT_POPUP_HEIGHT = 100;\n      const [, , , trY] = serialized.rect;\n      const [pageWidth] = this.pageDimensions;\n      const [pageX] = this.pageTranslation;\n      const blX = pageX + pageWidth + 1;\n      const blY = trY - DEFAULT_POPUP_HEIGHT;\n      const trX = blX + DEFAULT_POPUP_WIDTH;\n      serialized.popup = {\n        contents: this.comment.text,\n        deleted: this.comment.deleted,\n        rect: [blX, blY, trX, trY],\n      };\n    }\n  }\n\n  /**\n   * Render this editor in a div.\n   * @returns {HTMLDivElement | null}\n   */\n  render() {\n    const div = (this.div = document.createElement(\"div\"));\n    div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    div.className = this.name;\n    div.setAttribute(\"id\", this.id);\n    div.tabIndex = this.#disabled ? -1 : 0;\n    div.setAttribute(\"role\", \"application\");\n    if (this.defaultL10nId) {\n      div.setAttribute(\"data-l10n-id\", this.defaultL10nId);\n    }\n    if (!this._isVisible) {\n      div.classList.add(\"hidden\");\n    }\n\n    this.setInForeground();\n    this.#addFocusListeners();\n\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      div.style.maxWidth = `${((100 * parentHeight) / parentWidth).toFixed(\n        2\n      )}%`;\n      div.style.maxHeight = `${((100 * parentWidth) / parentHeight).toFixed(\n        2\n      )}%`;\n    }\n\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n\n    bindEvents(this, div, [\"keydown\", \"pointerdown\", \"dblclick\"]);\n\n    if (this.isResizable && this._uiManager._supportsPinchToZoom) {\n      this.#touchManager ||= new TouchManager({\n        container: div,\n        isPinchingDisabled: () => !this.isSelected,\n        onPinchStart: this.#touchPinchStartCallback.bind(this),\n        onPinching: this.#touchPinchCallback.bind(this),\n        onPinchEnd: this.#touchPinchEndCallback.bind(this),\n        signal: this._uiManager._signal,\n      });\n    }\n\n    this._uiManager._editorUndoBar?.hide();\n\n    return div;\n  }\n\n  #touchPinchStartCallback() {\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height,\n    };\n    this.#altText?.toggle(false);\n    this.parent.togglePointerEvents(false);\n  }\n\n  #touchPinchCallback(_origin, prevDistance, distance) {\n    // Slightly slow down the zooming because the editor could be small and the\n    // user could have difficulties to rescale it as they want.\n    const slowDownFactor = 0.7;\n    let factor =\n      slowDownFactor * (distance / prevDistance) + 1 - slowDownFactor;\n    if (factor === 1) {\n      return;\n    }\n\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [\n      rotationMatrix[0] * x + rotationMatrix[2] * y,\n      rotationMatrix[1] * x + rotationMatrix[3] * y,\n    ];\n\n    // The center of the editor is the fixed point.\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    factor = Math.max(\n      Math.min(factor, 1 / savedWidth, 1 / savedHeight),\n      minWidth / savedWidth,\n      minHeight / savedHeight\n    );\n    const newWidth = AnnotationEditor._round(savedWidth * factor);\n    const newHeight = AnnotationEditor._round(savedHeight * factor);\n    if (newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n\n    this.#initialRect ||= [savedX, savedY, savedWidth, savedHeight];\n    const transfCenterPoint = transf(savedWidth / 2, savedHeight / 2);\n    const centerX = AnnotationEditor._round(savedX + transfCenterPoint[0]);\n    const centerY = AnnotationEditor._round(savedY + transfCenterPoint[1]);\n    const newTransfCenterPoint = transf(newWidth / 2, newHeight / 2);\n\n    this.x = centerX - newTransfCenterPoint[0];\n    this.y = centerY - newTransfCenterPoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n\n    this._onResizing();\n  }\n\n  #touchPinchEndCallback() {\n    this.#altText?.toggle(true);\n    this.parent.togglePointerEvents(true);\n    this.#addResizeToUndoStack();\n  }\n\n  /**\n   * Onpointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Avoid to focus this editor because of a non-left click.\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n\n    this.#selectOnPointerEvent(event);\n  }\n\n  #selectOnPointerEvent(event) {\n    const { isMac } = FeatureTest.platform;\n    if (\n      (event.ctrlKey && !isMac) ||\n      event.shiftKey ||\n      (event.metaKey && isMac)\n    ) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n\n  #setUpDragSession(event) {\n    const { isSelected } = this;\n    this._uiManager.setUpDragSession();\n    let hasDraggingStarted = false;\n\n    const ac = new AbortController();\n    const signal = this._uiManager.combinedSignal(ac);\n    const opts = { capture: true, passive: false, signal };\n    const cancelDrag = e => {\n      ac.abort();\n\n      this.#dragPointerId = null;\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(e);\n      }\n      if (hasDraggingStarted) {\n        this._onStopDragging();\n      }\n    };\n\n    if (isSelected) {\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      this.#dragPointerId = event.pointerId;\n      this.#dragPointerType = event.pointerType;\n      window.addEventListener(\n        \"pointermove\",\n        e => {\n          if (!hasDraggingStarted) {\n            hasDraggingStarted = true;\n            this._onStartDragging();\n          }\n          const { clientX: x, clientY: y, pointerId } = e;\n          if (pointerId !== this.#dragPointerId) {\n            stopEvent(e);\n            return;\n          }\n          const [tx, ty] = this.screenToPageTranslation(\n            x - this.#prevDragX,\n            y - this.#prevDragY\n          );\n          this.#prevDragX = x;\n          this.#prevDragY = y;\n          this._uiManager.dragSelectedEditors(tx, ty);\n        },\n        opts\n      );\n      window.addEventListener(\n        \"touchmove\",\n        stopEvent /* Prevent the page from scrolling */,\n        opts\n      );\n      window.addEventListener(\n        \"pointerdown\",\n        // If the user drags with one finger and then clicks with another.\n        e => {\n          if (e.pointerType === this.#dragPointerType) {\n            // We've a pinch to zoom session.\n            // We cannot have two primaries at the same time.\n            // It's possible to be in this state with Firefox and Gnome when\n            // trying to drag with three fingers (see bug 1933716).\n            if (this.#touchManager || e.isPrimary) {\n              cancelDrag(e);\n            }\n          }\n          stopEvent(e);\n        },\n        opts\n      );\n    }\n\n    const pointerUpCallback = e => {\n      if (!this.#dragPointerId || this.#dragPointerId === e.pointerId) {\n        cancelDrag(e);\n        return;\n      }\n      stopEvent(e);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    // If the user is using alt+tab during the dragging session, the pointerup\n    // event could be not fired, but a blur event is fired so we can use it in\n    // order to interrupt the dragging session.\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n  }\n\n  _onStartDragging() {}\n\n  _onStopDragging() {}\n\n  moveInDOM() {\n    // Moving the editor in the DOM can be expensive, so we wait a bit before.\n    // It's important to not block the UI (for example when changing the font\n    // size in a FreeText).\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n        this._uiManager._eventBus.dispatch(\"editormovedindom\", {\n          source: this,\n        });\n      }\n    }, 0);\n  }\n\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n    this._onTranslated();\n  }\n\n  /**\n   * Convert the current rect into a page one.\n   * @param {number} tx - x-translation in screen coordinates.\n   * @param {number} ty - y-translation in screen coordinates.\n   * @param {number} [rotation] - the rotation of the page.\n   */\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n\n    switch (rotation) {\n      case 0:\n        return [\n          x + shiftX + pageX,\n          pageHeight - y - shiftY - height + pageY,\n          x + shiftX + width + pageX,\n          pageHeight - y - shiftY + pageY,\n        ];\n      case 90:\n        return [\n          x + shiftY + pageX,\n          pageHeight - y + shiftX + pageY,\n          x + shiftY + height + pageX,\n          pageHeight - y + shiftX + width + pageY,\n        ];\n      case 180:\n        return [\n          x - shiftX - width + pageX,\n          pageHeight - y + shiftY + pageY,\n          x - shiftX + pageX,\n          pageHeight - y + shiftY + height + pageY,\n        ];\n      case 270:\n        return [\n          x - shiftY - height + pageX,\n          pageHeight - y - shiftX - width + pageY,\n          x - shiftY + pageX,\n          pageHeight - y - shiftX + pageY,\n        ];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n\n    const width = x2 - x1;\n    const height = y2 - y1;\n\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n\n  /**\n   * Get the rect in page coordinates without any translation.\n   * It's used when serializing the editor.\n   * @returns {Array<number>}\n   */\n  getPDFRect() {\n    return this.getRect(0, 0);\n  }\n\n  /**\n   * Executed once this editor has been rendered.\n   * @param {boolean} focus - true if the editor should be focused.\n   */\n  onceAdded(focus) {}\n\n  /**\n   * Check if the editor contains something.\n   * @returns {boolean}\n   */\n  isEmpty() {\n    return false;\n  }\n\n  /**\n   * Enable edit mode.\n   * @returns {boolean} - true if the edit mode has been enabled.\n   */\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(false);\n    this.#isInEditMode = true;\n\n    return true;\n  }\n\n  /**\n   * Disable edit mode.\n   * @returns {boolean} - true if the edit mode has been disabled.\n   */\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return false;\n    }\n    this.parent.setEditingState(true);\n    this.#isInEditMode = false;\n\n    return true;\n  }\n\n  /**\n   * Check if the editor is edited.\n   * @returns {boolean}\n   */\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n\n  /**\n   * If it returns true, then this editor handles the keyboard\n   * events itself.\n   * @returns {boolean}\n   */\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n\n  /**\n   * Check if this editor needs to be rebuilt or not.\n   * @returns {boolean}\n   */\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n\n  get isOnScreen() {\n    const { top, left, bottom, right } = this.getClientDimensions();\n    const { innerHeight, innerWidth } = window;\n    return left < innerWidth && right > 0 && top < innerHeight && bottom > 0;\n  }\n\n  #addFocusListeners() {\n    if (this.#focusAC || !this.div) {\n      return;\n    }\n    this.#focusAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#focusAC);\n\n    this.div.addEventListener(\"focusin\", this.focusin.bind(this), { signal });\n    this.div.addEventListener(\"focusout\", this.focusout.bind(this), { signal });\n  }\n\n  /**\n   * Rebuild the editor in case it has been removed on undo.\n   *\n   * To implement in subclasses.\n   */\n  rebuild() {\n    this.#addFocusListeners();\n  }\n\n  /**\n   * Rotate the editor when the page is rotated.\n   * @param {number} angle\n   */\n  rotate(_angle) {}\n\n  /**\n   * Resize the editor when the page is resized.\n   */\n  resize() {}\n\n  /**\n   * Serialize the editor when it has been deleted.\n   * @returns {Object}\n   */\n  serializeDeleted() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex,\n      popupRef: this._initialData?.popupRef || \"\",\n    };\n  }\n\n  /**\n   * Serialize the editor.\n   * The result of the serialization will be used to construct a\n   * new annotation to add to the pdf document.\n   *\n   * To implement in subclasses.\n   * @param {boolean} [isForCopying]\n   * @param {Object | null} [context]\n   * @returns {Object | null}\n   */\n  serialize(isForCopying = false, context = null) {\n    unreachable(\"An editor must be serializable\");\n  }\n\n  /**\n   * Deserialize the editor.\n   * The result of the deserialization is a new editor.\n   *\n   * @param {Object} data\n   * @param {AnnotationEditorLayer} parent\n   * @param {AnnotationEditorUIManager} uiManager\n   * @returns {Promise<AnnotationEditor | null>}\n   */\n  static async deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager,\n      annotationElementId: data.annotationElementId,\n    });\n    editor.rotation = data.rotation;\n    editor.#accessibilityData = data.accessibilityData;\n    editor._isCopy = data.isCopy || false;\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(\n      data.rect,\n      pageHeight\n    );\n\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n\n    return editor;\n  }\n\n  /**\n   * Check if an existing annotation associated with this editor has been\n   * modified.\n   * @returns {boolean}\n   */\n  get hasBeenModified() {\n    return (\n      !!this.annotationElementId && (this.deleted || this.serialize() !== null)\n    );\n  }\n\n  /**\n   * Remove this editor.\n   * It's used on ctrl+backspace action.\n   */\n  remove() {\n    this.#focusAC?.abort();\n    this.#focusAC = null;\n\n    if (!this.isEmpty()) {\n      // The editor is removed but it can be back at some point thanks to\n      // undo/redo so we must commit it before.\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n    this.#touchManager?.destroy();\n    this.#touchManager = null;\n  }\n\n  /**\n   * @returns {boolean} true if this editor can be resized.\n   */\n  get isResizable() {\n    return false;\n  }\n\n  /**\n   * Add the resizers to this editor.\n   */\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n    }\n  }\n\n  get toolbarPosition() {\n    return null;\n  }\n\n  /**\n   * onkeydown callback.\n   * @param {KeyboardEvent} event\n   */\n  keydown(event) {\n    if (\n      !this.isResizable ||\n      event.target !== this.div ||\n      event.key !== \"Enter\"\n    ) {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height,\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      const signal = this._uiManager._signal;\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown, { signal });\n        div.addEventListener(\"blur\", boundResizerBlur, { signal });\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name), {\n          signal,\n        });\n        div.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n\n    // We want to have the resizers in the visual order, so we move the first\n    // (top-left) to the right place.\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition =\n      (((360 - this.rotation + this.parentRotation) % 360) / 90) *\n      (this.#allResizerDivs.length / 4);\n\n    if (nextFirstPosition !== firstPosition) {\n      // We need to reorder the resizers in the DOM in order to have the focus\n      // on the top-left one.\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        child.setAttribute(\"data-l10n-id\", AnnotationEditor._l10nResizer[name]);\n      }\n    }\n\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({ focusVisible: true });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n\n  #resizerBlur(event) {\n    if (\n      this.#isResizerEnabledForKeyboard &&\n      event.relatedTarget?.parentNode !== this.#resizersDiv\n    ) {\n      this.#stopResizing();\n    }\n  }\n\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      deltaX: x,\n      deltaY: y,\n      fromKeyboard: true,\n    });\n  }\n\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    this.#addResizeToUndoStack();\n  }\n\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n\n  /**\n   * Select this editor.\n   */\n  select() {\n    if (this.isSelected && this._editToolbar) {\n      return;\n    }\n    this.isSelected = true;\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this._editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          // The editor can have been unselected while we were waiting for the\n          // edit toolbar to be created, hence we want to be sure that this\n          // editor is still selected.\n          this._editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this._editToolbar?.show();\n    this.#altText?.toggleAltTextBadge(false);\n  }\n\n  /**\n   * Unselect this editor.\n   */\n  unselect() {\n    if (!this.isSelected) {\n      return;\n    }\n    this.isSelected = false;\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      // Don't use this.div.blur() because we don't know where the focus will\n      // go.\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true,\n      });\n    }\n    this._editToolbar?.hide();\n    this.#altText?.toggleAltTextBadge(true);\n  }\n\n  /**\n   * Update some parameters which have been changed through the UI.\n   * @param {number} type\n   * @param {*} value\n   */\n  updateParams(type, value) {}\n\n  /**\n   * When the user disables the editing mode some editors can change some of\n   * their properties.\n   */\n  disableEditing() {}\n\n  /**\n   * When the user enables the editing mode some editors can change some of\n   * their properties.\n   */\n  enableEditing() {}\n\n  /**\n   * Check if the content of this editor can be changed.\n   * For example, a FreeText editor can be changed (the user can change the\n   * text), but a Stamp editor cannot.\n   * @returns {boolean}\n   */\n  get canChangeContent() {\n    return false;\n  }\n\n  /**\n   * The editor is about to be edited.\n   */\n  enterInEditMode() {\n    if (!this.canChangeContent) {\n      return;\n    }\n    this.enableEditMode();\n    this.div.focus();\n  }\n\n  /**\n   * ondblclick callback.\n   * @param {MouseEvent} event\n   */\n  dblclick(event) {\n    this.enterInEditMode();\n    this.parent.updateToolbar({\n      mode: this.constructor._editorType,\n      editId: this.id,\n    });\n  }\n\n  /**\n   * @returns {HTMLElement | null} the element requiring an alt text.\n   */\n  getElementForAltText() {\n    return this.div;\n  }\n\n  /**\n   * Get the div which really contains the displayed content.\n   * @returns {HTMLDivElement | undefined}\n   */\n  get contentDiv() {\n    return this.div;\n  }\n\n  /**\n   * If true then the editor is currently edited.\n   * @type {boolean}\n   */\n  get isEditing() {\n    return this.#isEditing;\n  }\n\n  /**\n   * When set to true, it means that this editor is currently edited.\n   * @param {boolean} value\n   */\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n\n  /**\n   * Set the aspect ratio to use when resizing.\n   * @param {number} width\n   * @param {number} height\n   */\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const { style } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n\n  static get MIN_SIZE() {\n    return 16;\n  }\n\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n\n  /**\n   * Get the data to report to the telemetry when the editor is added.\n   * @returns {Object}\n   */\n  get telemetryInitialData() {\n    return { action: \"added\" };\n  }\n\n  /**\n   * The telemetry data to use when saving/printing.\n   * @returns {Object|null}\n   */\n  get telemetryFinalData() {\n    return null;\n  }\n\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const { action } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data,\n      },\n    });\n  }\n\n  /**\n   * Show or hide this editor.\n   * @param {boolean|undefined} visible\n   */\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n\n  /**\n   * Render an annotation in the annotation layer.\n   * @param {Object} annotation\n   * @returns {HTMLElement|null}\n   */\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n\n    return content;\n  }\n\n  resetAnnotationElement(annotation) {\n    const { firstChild } = annotation.container;\n    if (\n      firstChild?.nodeName === \"DIV\" &&\n      firstChild.classList.contains(\"annotationContent\")\n    ) {\n      firstChild.remove();\n    }\n  }\n}\n\n// This class is used to fake an editor which has been deleted.\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n\n  serialize() {\n    return this.serializeDeleted();\n  }\n}\n\nexport { AnnotationEditor };\n","/* Copyright 2014 Opera Software ASA\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n *\n * Based on https://code.google.com/p/smhasher/wiki/MurmurHash3.\n * Hashes roughly 100 KB per millisecond on i7 3.4 GHz.\n */\n\nconst SEED = 0xc3d2e1f0;\n// Workaround for missing math precision in JS.\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\n\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    // We don't care about endianness here.\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        h1 ^= k1;\n        h1 = (h1 << 13) | (h1 >>> 19);\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = ((k2 * C1) & MASK_HIGH) | ((k2 * C1_LOW) & MASK_LOW);\n        k2 = (k2 << 15) | (k2 >>> 17);\n        k2 = ((k2 * C2) & MASK_HIGH) | ((k2 * C2_LOW) & MASK_LOW);\n        h2 ^= k2;\n        h2 = (h2 << 13) | (h2 >>> 19);\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n\n    k1 = 0;\n\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      /* falls through */\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      /* falls through */\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        /* falls through */\n\n        k1 = ((k1 * C1) & MASK_HIGH) | ((k1 * C1_LOW) & MASK_LOW);\n        k1 = (k1 << 15) | (k1 >>> 17);\n        k1 = ((k1 * C2) & MASK_HIGH) | ((k1 * C2_LOW) & MASK_LOW);\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0xed558ccd) & MASK_HIGH) | ((h1 * 0x8ccd) & MASK_LOW);\n    h2 =\n      ((h2 * 0xff51afd7) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xafd7ed55) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n    h1 = ((h1 * 0x1a85ec53) & MASK_HIGH) | ((h1 * 0xec53) & MASK_LOW);\n    h2 =\n      ((h2 * 0xc4ceb9fe) & MASK_HIGH) |\n      (((((h2 << 16) | (h1 >>> 16)) * 0xb9fe1a85) & MASK_HIGH) >>> 16);\n    h1 ^= h2 >>> 1;\n\n    return (\n      (h1 >>> 0).toString(16).padStart(8, \"0\") +\n      (h2 >>> 0).toString(16).padStart(8, \"0\")\n    );\n  }\n}\n\nexport { MurmurHash3_64 };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { shadow, unreachable } from \"../shared/util.js\";\nimport { AnnotationEditor } from \"./editor/editor.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined,\n});\n\n/**\n * Key/value storage for annotation data in forms.\n */\nclass AnnotationStorage {\n  #modified = false;\n\n  #modifiedIds = null;\n\n  #storage = new Map();\n\n  constructor() {\n    // Callbacks to signal when the modification state is set or reset.\n    // This is used by the viewer to only bind on `beforeunload` if forms\n    // are actually edited to prevent doing so unconditionally since that\n    // can have undesirable effects.\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"_setValues\", {\n        value: obj => {\n          for (const [key, val] of Object.entries(obj)) {\n            this.setValue(key, val);\n          }\n        },\n      });\n    }\n  }\n\n  /**\n   * Get the value for a given key if it exists, or return the default value.\n   * @param {string} key\n   * @param {Object} defaultValue\n   * @returns {Object}\n   */\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n\n    return Object.assign(defaultValue, value);\n  }\n\n  /**\n   * Get the value for a given key.\n   * @param {string} key\n   * @returns {Object}\n   */\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n\n  /**\n   * Remove a value from the storage.\n   * @param {string} key\n   */\n  remove(key) {\n    this.#storage.delete(key);\n\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n\n  /**\n   * Set the value for a given key\n   * @param {string} key\n   * @param {Object} value\n   */\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n\n    if (\n      value instanceof AnnotationEditor &&\n      typeof this.onAnnotationEditor === \"function\"\n    ) {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n\n  /**\n   * Check if the storage contains the given key.\n   * @param {string} key\n   * @returns {boolean}\n   */\n  has(key) {\n    return this.#storage.has(key);\n  }\n\n  get size() {\n    return this.#storage.size;\n  }\n\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n\n    for (const [key, val] of this.#storage) {\n      const serialized =\n        val instanceof AnnotationEditor\n          ? val.serialize(/* isForCopying = */ false, context)\n          : val;\n      if (serialized) {\n        map.set(key, serialized);\n\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n\n    if (hasBitmap) {\n      // We must transfer the bitmap data separately, since it can be changed\n      // during serialization with SVG images.\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n\n    return map.size > 0\n      ? { map, hash: hash.hexdigest(), transfer }\n      : SerializableEmpty;\n  }\n\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const { type } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = (stats[type] ||= new Map());\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n\n  resetModifiedIds() {\n    this.#modifiedIds = null;\n  }\n\n  /**\n   * @returns {{ids: Set<string>, hash: string}}\n   */\n  get modifiedIds() {\n    if (this.#modifiedIds) {\n      return this.#modifiedIds;\n    }\n    const ids = [];\n    for (const value of this.#storage.values()) {\n      if (\n        !(value instanceof AnnotationEditor) ||\n        !value.annotationElementId ||\n        !value.serialize()\n      ) {\n        continue;\n      }\n      ids.push(value.annotationElementId);\n    }\n    return (this.#modifiedIds = {\n      ids: new Set(ids),\n      hash: ids.join(\",\"),\n    });\n  }\n\n  [Symbol.iterator]() {\n    return this.#storage.entries();\n  }\n}\n\n/**\n * A special `AnnotationStorage` for use during printing, where the serializable\n * data is *frozen* upon initialization, to prevent scripting from modifying its\n * contents. (Necessary since printing is triggered synchronously in browsers.)\n */\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n\n  constructor(parent) {\n    super();\n    const { map, hash, transfer } = parent.serializable;\n    // Create a *copy* of the data, since Objects are passed by reference in JS.\n    const clone = structuredClone(map, transfer ? { transfer } : null);\n\n    this.#serializable = { map: clone, hash, transfer };\n  }\n\n  /**\n   * @returns {PrintAnnotationStorage}\n   */\n  // eslint-disable-next-line getter-return\n  get print() {\n    unreachable(\"Should not call PrintAnnotationStorage.print\");\n  }\n\n  /**\n   * PLEASE NOTE: Only intended for usage within the API itself.\n   * @ignore\n   */\n  get serializable() {\n    return this.#serializable;\n  }\n\n  get modifiedIds() {\n    return shadow(this, \"modifiedIds\", {\n      ids: new Set(),\n      hash: \"\",\n    });\n  }\n}\n\nexport { AnnotationStorage, PrintAnnotationStorage, SerializableEmpty };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  assert,\n  FeatureTest,\n  isNodeJS,\n  shadow,\n  string32,\n  toBase64Util,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\n\nclass FontLoader {\n  #systemFonts = new Set();\n\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null, // For testing only.\n  }) {\n    this._document = ownerDocument;\n\n    this.nativeFontFaces = new Set();\n    this.styleElement =\n      typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n        ? styleElement\n        : null;\n\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"MOZCENTRAL\")) {\n      this.loadingRequests = [];\n      this.loadTestFontId = 0;\n    }\n  }\n\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement\n        .getElementsByTagName(\"head\")[0]\n        .append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n\n    if (this.styleElement) {\n      // Note: ChildNode.remove doesn't throw if the parentNode is undefined.\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n\n  async loadSystemFont({\n    systemFontInfo: info,\n    disableFontFace,\n    _inspectFont,\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    assert(\n      !disableFontFace,\n      \"loadSystemFont shouldn't be called when `disableFontFace` is set.\"\n    );\n\n    if (this.isFontLoadingAPISupported) {\n      const { loadedName, src, style } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        warn(\n          `Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`\n        );\n\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n\n    unreachable(\n      \"Not implemented: loadSystemFont without the Font Loading API.\"\n    );\n  }\n\n  async bind(font) {\n    // Add the font to the DOM only once; skip if the font is already loaded.\n    if (font.attached || (font.missingFile && !font.systemFontInfo)) {\n      return;\n    }\n    font.attached = true;\n\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          warn(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n\n          // When font loading failed, fall back to the built-in font renderer.\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return; // The font was, asynchronously, loaded.\n    }\n\n    // !this.isFontLoadingAPISupported\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n\n      if (this.isSyncFontLoadingSupported) {\n        return; // The font was, synchronously, loaded.\n      }\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: async font loading\");\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n      // The font was, asynchronously, loaded.\n    }\n  }\n\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      return shadow(\n        this,\n        \"isFontLoadingAPISupported\",\n        hasFonts && !this.styleElement\n      );\n    }\n    return shadow(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n\n  get isSyncFontLoadingSupported() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      return shadow(this, \"isSyncFontLoadingSupported\", true);\n    }\n\n    // Node.js - we can pretend that sync font loading is supported.\n    // Firefox, from version 14, supports synchronous font loading.\n    return shadow(\n      this,\n      \"isSyncFontLoadingSupported\",\n      (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"CHROME\")) &&\n        (isNodeJS || FeatureTest.platform.isFirefox)\n    );\n  }\n\n  _queueLoadingCallback(callback) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _queueLoadingCallback\");\n    }\n\n    function completeRequest() {\n      assert(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n\n      // Sending all completed requests in order of how they were queued.\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n\n    const { loadingRequests } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback,\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n\n  get _loadTestFont() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _loadTestFont\");\n    }\n\n    // This is a CFF font with 1 glyph for '.' that fills its entire width\n    // and height.\n    const testFont = atob(\n      \"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" +\n        \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" +\n        \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" +\n        \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" +\n        \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" +\n        \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" +\n        \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" +\n        \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" +\n        \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" +\n        \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" +\n        \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" +\n        \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" +\n        \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" +\n        \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" +\n        \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" +\n        \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" +\n        \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" +\n        \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"\n    );\n    return shadow(this, \"_loadTestFont\", testFont);\n  }\n\n  _prepareFontLoadEvent(font, request) {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n      throw new Error(\"Not implemented: _prepareFontLoadEvent\");\n    }\n\n    /** Hack begin */\n    // There's currently no event when a font has finished downloading so the\n    // following code is a dirty hack to 'guess' when a font is ready.\n    // It's assumed fonts are loaded in order, so add a known test font after\n    // the desired fonts and then test for the loading of that test font.\n\n    function int32(data, offset) {\n      return (\n        (data.charCodeAt(offset) << 24) |\n        (data.charCodeAt(offset + 1) << 16) |\n        (data.charCodeAt(offset + 2) << 8) |\n        (data.charCodeAt(offset + 3) & 0xff)\n      );\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n\n    // The temporary canvas is used to determine if fonts are loaded.\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n\n    let called = 0;\n    function isFontReady(name, callback) {\n      // With setTimeout clamping this gives the font ~100ms to load.\n      if (++called > 30) {\n        warn(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    // Chromium seems to cache fonts based on a hash of the actual font data,\n    // so the font must be modified for each load test else it will appear to\n    // be loaded already.\n    // TODO: This could maybe be made faster by avoiding the btoa of the full\n    // font by splitting it in chunks before hand and padding the font id.\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976; // has to be on 4 byte boundary (for checksum)\n    data = spliceString(\n      data,\n      COMMENT_OFFSET,\n      loadTestFontId.length,\n      loadTestFontId\n    );\n    // CFF checksum is important for IE, adjusting it\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858; // the \"comment\" filled with 'X'\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId, i)) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      // align to 4 bytes boundary\n      checksum = (checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i)) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, string32(checksum));\n\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n    /** Hack end */\n  }\n}\n\nclass FontFaceObject {\n  constructor(translatedData, inspectFont = null) {\n    this.compiledGlyphs = Object.create(null);\n    // importing translated data\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      if (typeof this.disableFontFace !== \"boolean\") {\n        unreachable(\"disableFontFace must be available.\");\n      }\n      if (typeof this.fontExtraProperties !== \"boolean\") {\n        unreachable(\"fontExtraProperties must be available.\");\n      }\n    }\n    this._inspectFont = inspectFont;\n  }\n\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight,\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(\n        this.cssFontInfo.fontFamily,\n        this.data,\n        css\n      );\n    }\n\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    // Add the @font-face rule to the document.\n    const url = `url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n\n    const objId = this.loadedName + \"_path_\" + character;\n    let cmds;\n    try {\n      cmds = objs.get(objId);\n    } catch (ex) {\n      warn(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    const path = new Path2D(cmds || \"\");\n\n    if (!this.fontExtraProperties) {\n      // Remove the raw path-string, since we don't need it anymore.\n      objs.delete(objId);\n    }\n    return (this.compiledGlyphs[character] = path);\n  }\n}\n\nexport { FontFaceObject, FontLoader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  _isValidExplicitDest,\n  isNodeJS,\n  stringToBytes,\n  warn,\n} from \"../shared/util.js\";\n\nfunction getUrlProp(val) {\n  if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n    return null; // The 'url' is unused with `PDFDataRangeTransport`.\n  }\n  if (val instanceof URL) {\n    return val.href;\n  }\n  if (typeof val === \"string\") {\n    if (\n      typeof PDFJSDev !== \"undefined\" &&\n      PDFJSDev.test(\"GENERIC\") &&\n      isNodeJS\n    ) {\n      return val; // Use the url as-is in Node.js environments.\n    }\n\n    // The full path is required in the 'url' field.\n    const url = URL.parse(val, window.location);\n    if (url) {\n      return url.href;\n    }\n  }\n  throw new Error(\n    \"Invalid PDF url data: \" +\n      \"either string or URL-object is expected in the url property.\"\n  );\n}\n\nfunction getDataProp(val) {\n  // Converting string or array-like data to Uint8Array.\n  if (\n    typeof PDFJSDev !== \"undefined\" &&\n    PDFJSDev.test(\"GENERIC\") &&\n    isNodeJS &&\n    typeof Buffer !== \"undefined\" && // eslint-disable-line no-undef\n    val instanceof Buffer // eslint-disable-line no-undef\n  ) {\n    throw new Error(\n      \"Please provide binary data as `Uint8Array`, rather than `Buffer`.\"\n    );\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    // Use the data as-is when it's already a Uint8Array that completely\n    // \"utilizes\" its underlying ArrayBuffer, to prevent any possible\n    // issues when transferring it to the worker-thread.\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return stringToBytes(val);\n  }\n  if (\n    val instanceof ArrayBuffer ||\n    ArrayBuffer.isView(val) ||\n    (typeof val === \"object\" && !isNaN(val?.length))\n  ) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\n    \"Invalid PDF binary data: either TypedArray, \" +\n      \"string, or array-like object is expected in the data property.\"\n  );\n}\n\nfunction getFactoryUrlProp(val) {\n  if (typeof val !== \"string\") {\n    return null;\n  }\n  if (val.endsWith(\"/\")) {\n    return val;\n  }\n  throw new Error(`Invalid factory url: \"${val}\" must include trailing slash.`);\n}\n\nconst isRefProxy = v =>\n  typeof v === \"object\" &&\n  Number.isInteger(v?.num) &&\n  v.num >= 0 &&\n  Number.isInteger(v?.gen) &&\n  v.gen >= 0;\n\nconst isNameProxy = v => typeof v === \"object\" && typeof v?.name === \"string\";\n\nconst isValidExplicitDest = _isValidExplicitDest.bind(\n  null,\n  /* validRef = */ isRefProxy,\n  /* validName = */ isNameProxy\n);\n\nclass LoopbackPort {\n  #listeners = new Map();\n\n  #deferred = Promise.resolve();\n\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? { transfer } : null),\n    };\n\n    this.#deferred.then(() => {\n      for (const [listener] of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n\n  addEventListener(name, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const { signal } = options;\n      if (signal.aborted) {\n        warn(\"LoopbackPort - cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this.removeEventListener(name, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    this.#listeners.set(listener, rmAbort);\n  }\n\n  removeEventListener(name, listener) {\n    const rmAbort = this.#listeners.get(listener);\n    rmAbort?.();\n\n    this.#listeners.delete(listener);\n  }\n\n  terminate() {\n    for (const [, rmAbort] of this.#listeners) {\n      rmAbort?.();\n    }\n    this.#listeners.clear();\n  }\n}\n\nexport {\n  getDataProp,\n  getFactoryUrlProp,\n  getUrlProp,\n  isNameProxy,\n  isRefProxy,\n  isValidExplicitDest,\n  LoopbackPort,\n};\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AbortException,\n  assert,\n  InvalidPDFException,\n  PasswordException,\n  ResponseException,\n  UnknownErrorException,\n  unreachable,\n} from \"./util.js\";\n\nconst CallbackKind = {\n  DATA: 1,\n  ERROR: 2,\n};\n\nconst StreamKind = {\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8,\n};\n\nfunction onFn() {}\n\nfunction wrapReason(ex) {\n  if (\n    ex instanceof AbortException ||\n    ex instanceof InvalidPDFException ||\n    ex instanceof PasswordException ||\n    ex instanceof ResponseException ||\n    ex instanceof UnknownErrorException\n  ) {\n    // Avoid re-creating the exception when its type is already correct.\n    return ex;\n  }\n\n  if (!(ex instanceof Error || (typeof ex === \"object\" && ex !== null))) {\n    unreachable(\n      'wrapReason: Expected \"reason\" to be a (possibly cloned) Error.'\n    );\n  }\n  switch (ex.name) {\n    case \"AbortException\":\n      return new AbortException(ex.message);\n    case \"InvalidPDFException\":\n      return new InvalidPDFException(ex.message);\n    case \"PasswordException\":\n      return new PasswordException(ex.message, ex.code);\n    case \"ResponseException\":\n      return new ResponseException(ex.message, ex.status, ex.missing);\n    case \"UnknownErrorException\":\n      return new UnknownErrorException(ex.message, ex.details);\n  }\n  return new UnknownErrorException(ex.message, ex.toString());\n}\n\nclass MessageHandler {\n  #messageAC = new AbortController();\n\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n\n    comObj.addEventListener(\"message\", this.#onMessage.bind(this), {\n      signal: this.#messageAC.signal,\n    });\n  }\n\n  #onMessage({ data }) {\n    if (data.targetName !== this.sourceName) {\n      return;\n    }\n    if (data.stream) {\n      this.#processStreamMessage(data);\n      return;\n    }\n    if (data.callback) {\n      const callbackId = data.callbackId;\n      const capability = this.callbackCapabilities[callbackId];\n      if (!capability) {\n        throw new Error(`Cannot resolve callback ${callbackId}`);\n      }\n      delete this.callbackCapabilities[callbackId];\n\n      if (data.callback === CallbackKind.DATA) {\n        capability.resolve(data.data);\n      } else if (data.callback === CallbackKind.ERROR) {\n        capability.reject(wrapReason(data.reason));\n      } else {\n        throw new Error(\"Unexpected callback case\");\n      }\n      return;\n    }\n    const action = this.actionHandler[data.action];\n    if (!action) {\n      throw new Error(`Unknown action from worker: ${data.action}`);\n    }\n    if (data.callbackId) {\n      const sourceName = this.sourceName,\n        targetName = data.sourceName,\n        comObj = this.comObj;\n\n      Promise.try(action, data.data).then(\n        function (result) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result,\n          });\n        },\n        function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason),\n          });\n        }\n      );\n      return;\n    }\n    if (data.streamId) {\n      this.#createStreamSink(data);\n      return;\n    }\n    action(data.data);\n  }\n\n  on(actionName, handler) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        typeof handler === \"function\",\n        'MessageHandler.on: Expected \"handler\" to be a function.'\n      );\n    }\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   */\n  send(actionName, data, transfers) {\n    this.comObj.postMessage(\n      {\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        data,\n      },\n      transfers\n    );\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expects that the other side will callback with the response.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {Promise} Promise to be resolved with response data.\n   */\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage(\n        {\n          sourceName: this.sourceName,\n          targetName: this.targetName,\n          action: actionName,\n          callbackId,\n          data,\n        },\n        transfers\n      );\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n\n  /**\n   * Sends a message to the comObj to invoke the action with the supplied data.\n   * Expect that the other side will callback to signal 'start_complete'.\n   * @param {string} actionName - Action to call.\n   * @param {JSON} data - JSON data to send.\n   * @param {Object} queueingStrategy - Strategy to signal backpressure based on\n   *                 internal queue.\n   * @param {Array} [transfers] - List of transfers/ArrayBuffers.\n   * @returns {ReadableStream} ReadableStream to read data in chunks.\n   */\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n\n    return new ReadableStream(\n      {\n        start: controller => {\n          const startCapability = Promise.withResolvers();\n          this.streamControllers[streamId] = {\n            controller,\n            startCall: startCapability,\n            pullCall: null,\n            cancelCall: null,\n            isClosed: false,\n          };\n          comObj.postMessage(\n            {\n              sourceName,\n              targetName,\n              action: actionName,\n              streamId,\n              data,\n              desiredSize: controller.desiredSize,\n            },\n            transfers\n          );\n          // Return Promise for Async process, to signal success/failure.\n          return startCapability.promise;\n        },\n\n        pull: controller => {\n          const pullCapability = Promise.withResolvers();\n          this.streamControllers[streamId].pullCall = pullCapability;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL,\n            streamId,\n            desiredSize: controller.desiredSize,\n          });\n          // Returning Promise will not call \"pull\"\n          // again until current pull is resolved.\n          return pullCapability.promise;\n        },\n\n        cancel: reason => {\n          assert(reason instanceof Error, \"cancel must have a valid reason\");\n          const cancelCapability = Promise.withResolvers();\n          this.streamControllers[streamId].cancelCall = cancelCapability;\n          this.streamControllers[streamId].isClosed = true;\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL,\n            streamId,\n            reason: wrapReason(reason),\n          });\n          // Return Promise to signal success or failure.\n          return cancelCapability.promise;\n        },\n      },\n      queueingStrategy\n    );\n  }\n\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        // Enqueue decreases the desiredSize property of sink,\n        // so when it changes from positive to negative,\n        // set ready as unresolved promise.\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage(\n          {\n            sourceName,\n            targetName,\n            stream: StreamKind.ENQUEUE,\n            streamId,\n            chunk,\n          },\n          transfers\n        );\n      },\n\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId,\n        });\n        delete self.streamSinks[streamId];\n      },\n\n      error(reason) {\n        assert(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      },\n\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null,\n    };\n\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n\n    Promise.try(action, data.data, streamSink).then(\n      function () {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          success: true,\n        });\n      },\n      function (reason) {\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.START_COMPLETE,\n          streamId,\n          reason: wrapReason(reason),\n        });\n      }\n    );\n  }\n\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        // Ignore any pull after close is called.\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true,\n          });\n          break;\n        }\n        // Pull increases the desiredSize property of sink, so when it changes\n        // from negative to positive, set ready property as resolved promise.\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        // Reset desiredSize property of sink on every pull.\n        streamSink.desiredSize = data.desiredSize;\n\n        Promise.try(streamSink.onPull || onFn).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.PULL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        break;\n      case StreamKind.ENQUEUE:\n        assert(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        assert(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        assert(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        const dataReason = wrapReason(data.reason);\n\n        Promise.try(streamSink.onCancel || onFn, dataReason).then(\n          function () {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              success: true,\n            });\n          },\n          function (reason) {\n            comObj.postMessage({\n              sourceName,\n              targetName,\n              stream: StreamKind.CANCEL_COMPLETE,\n              streamId,\n              reason: wrapReason(reason),\n            });\n          }\n        );\n        streamSink.sinkCapability.reject(dataReason);\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n\n  async #deleteStreamController(streamController, streamId) {\n    // Delete the `streamController` only when the start, pull, and cancel\n    // capabilities have settled, to prevent `TypeError`s.\n    await Promise.allSettled([\n      streamController.startCall?.promise,\n      streamController.pullCall?.promise,\n      streamController.cancelCall?.promise,\n    ]);\n    delete this.streamControllers[streamId];\n  }\n\n  destroy() {\n    this.#messageAC?.abort();\n    this.#messageAC = null;\n  }\n}\n\nexport { MessageHandler, wrapReason };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseCanvasFactory {\n  #enableHWA = false;\n\n  constructor({ enableHWA = false }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseCanvasFactory\n    ) {\n      unreachable(\"Cannot initialize BaseCanvasFactory.\");\n    }\n    this.#enableHWA = enableHWA;\n  }\n\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\", {\n        willReadFrequently: !this.#enableHWA,\n      }),\n    };\n  }\n\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    // Zeroing the width and height cause Firefox to release graphics\n    // resources immediately, which can greatly reduce memory consumption.\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    unreachable(\"Abstract method `_createCanvas` called.\");\n  }\n}\n\nclass DOMCanvasFactory extends BaseCanvasFactory {\n  constructor({ ownerDocument = globalThis.document, enableHWA = false }) {\n    super({ enableHWA });\n    this._document = ownerDocument;\n  }\n\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\n\nexport { BaseCanvasFactory, DOMCanvasFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes, unreachable } from \"../shared/util.js\";\nimport { fetchData } from \"./display_utils.js\";\n\nclass BaseCMapReaderFactory {\n  constructor({ baseUrl = null, isCompressed = true }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseCMapReaderFactory\n    ) {\n      unreachable(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n\n  async fetch({ name }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        \"Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.\"\n      );\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n\n    return this._fetch(url)\n      .then(cMapData => ({ cMapData, isCompressed: this.isCompressed }))\n      .catch(reason => {\n        throw new Error(\n          `Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`\n        );\n      });\n  }\n\n  /**\n   * @ignore\n   * @returns {Promise<Uint8Array>}\n   */\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\n\nclass DOMCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    const data = await fetchData(\n      url,\n      /* type = */ this.isCompressed ? \"arraybuffer\" : \"text\"\n    );\n    return data instanceof ArrayBuffer\n      ? new Uint8Array(data)\n      : stringToBytes(data);\n  }\n}\n\nexport { BaseCMapReaderFactory, DOMCMapReaderFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getRGB, isDataScheme, SVG_NS } from \"./display_utils.js\";\nimport { unreachable, updateUrlHash, Util, warn } from \"../shared/util.js\";\n\nclass BaseFilterFactory {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseFilterFactory\n    ) {\n      unreachable(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n\n  addFilter(maps) {\n    return \"none\";\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n\n  addAlphaFilter(map) {\n    return \"none\";\n  }\n\n  addLuminosityFilter(map) {\n    return \"none\";\n  }\n\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n\n  destroy(keepHCM = false) {}\n}\n\n/**\n * FilterFactory aims to create some SVG filters we can use when drawing an\n * image (or whatever) on a canvas.\n * Filters aren't applied with ctx.putImageData because it just overwrites the\n * underlying pixels.\n * With these filters, it's possible for example to apply some transfer maps on\n * an image without the need to apply them on the pixel arrays: the renderer\n * does the magic for us.\n */\nclass DOMFilterFactory extends BaseFilterFactory {\n  #baseUrl;\n\n  #_cache;\n\n  #_defs;\n\n  #docId;\n\n  #document;\n\n  #_hcmCache;\n\n  #id = 0;\n\n  constructor({ docId, ownerDocument = globalThis.document }) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n\n  get #cache() {\n    return (this.#_cache ||= new Map());\n  }\n\n  get #hcmCache() {\n    return (this.#_hcmCache ||= new Map());\n  }\n\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const { style } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n\n  #createTables(maps) {\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n\n      const table = buffer.join(\",\");\n      return [table, table, table];\n    }\n\n    const [mapR, mapG, mapB] = maps;\n    const bufferR = new Array(256);\n    const bufferG = new Array(256);\n    const bufferB = new Array(256);\n    for (let i = 0; i < 256; i++) {\n      bufferR[i] = mapR[i] / 255;\n      bufferG[i] = mapG[i] / 255;\n      bufferB[i] = mapB[i] / 255;\n    }\n    return [bufferR.join(\",\"), bufferG.join(\",\"), bufferB.join(\",\")];\n  }\n\n  #createUrl(id) {\n    if (this.#baseUrl === undefined) {\n      // Unless a `<base>`-element is present a relative URL should work.\n      this.#baseUrl = \"\";\n\n      const url = this.#document.URL;\n      if (url !== this.#document.baseURI) {\n        if (isDataScheme(url)) {\n          warn('#createUrl: ignore \"data:\"-URL for performance reasons.');\n        } else {\n          this.#baseUrl = updateUrlHash(url, \"\");\n        }\n      }\n    }\n    return `url(${this.#baseUrl}#${id})`;\n  }\n\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n\n    const [tableR, tableG, tableB] = this.#createTables(maps);\n    const key = maps.length === 1 ? tableR : `${tableR}${tableG}${tableB}`;\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n\n    // We create a SVG filter: feComponentTransferElement\n    //  https://www.w3.org/TR/SVG11/filters.html#feComponentTransferElement\n\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n\n    return url;\n  }\n\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null,\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n\n    if (\n      (fgColor === \"#000000\" && bgColor === \"#ffffff\") ||\n      fgColor === bgColor\n    ) {\n      return info.url;\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/Accessibility/Understanding_Colors_and_Luminance\n    //\n    // Relative luminance:\n    // https://www.w3.org/TR/WCAG20/#relativeluminancedef\n    //\n    // We compute the rounded luminance of the default background color.\n    // Then for every color in the pdf, if its rounded luminance is the\n    // same as the background one then it's replaced by the new\n    // background color else by the foreground one.\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = (info.filter = this.#createFilter(id));\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + (i / n) * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(\n      getSteps(0, 5),\n      getSteps(1, 5),\n      getSteps(2, 5),\n      filter\n    );\n\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n\n  addAlphaFilter(map) {\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(map);\n    if (value) {\n      return value;\n    }\n\n    const [tableA] = this.#createTables([map]);\n    const key = `alpha_${tableA}`;\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n\n    const id = `g_${this.#docId}_alpha_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addTransferMapAlphaConversion(tableA, filter);\n\n    return url;\n  }\n\n  addLuminosityFilter(map) {\n    // When a page is zoomed the page is re-drawn but the maps are likely\n    // the same.\n    let value = this.#cache.get(map || \"luminosity\");\n    if (value) {\n      return value;\n    }\n\n    let tableA, key;\n    if (map) {\n      [tableA] = this.#createTables([map]);\n      key = `luminosity_${tableA}`;\n    } else {\n      key = \"luminosity\";\n    }\n\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(map, value);\n      return value;\n    }\n\n    const id = `g_${this.#docId}_luminosity_map_${this.#id++}`;\n    const url = this.#createUrl(id);\n    this.#cache.set(map, url);\n    this.#cache.set(key, url);\n\n    const filter = this.#createFilter(id);\n    this.#addLuminosityConversion(filter);\n    if (map) {\n      this.#addTransferMapAlphaConversion(tableA, filter);\n    }\n\n    return url;\n  }\n\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null,\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(\n      0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]\n    );\n    let bgGray = Math.round(\n      0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]\n    );\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(\n      this.#getRGB.bind(this)\n    );\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [\n        bgGray,\n        fgGray,\n        newBgRGB,\n        newFgRGB,\n      ];\n    }\n    this.#defs.style.color = \"\";\n\n    // Now we can create the filters to highlight some canvas parts.\n    // The colors in the pdf will almost be Canvas and CanvasText, hence we\n    // want to filter them to finally get Highlight and HighlightText.\n    // Since we're in HCM the background color and the foreground color should\n    // be really different when converted to grayscale (if they're not then it\n    // means that we've a poor contrast). Once the canvas colors are converted\n    // to grayscale we can easily map them on their new colors.\n    // The grayscale step is important because if we've something like:\n    //   fgColor = #FF....\n    //   bgColor = #FF....\n    //   then we are enable to map the red component on the new red components\n    //   which can be different.\n\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = (info.filter = this.#createFilter(id));\n\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(\n      getSteps(newFgRGB[0], newBgRGB[0], 5),\n      getSteps(newFgRGB[1], newBgRGB[1], 5),\n      getSteps(newFgRGB[2], newBgRGB[2], 5),\n      filter\n    );\n\n    info.url = this.#createUrl(id);\n    return info.url;\n  }\n\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#_hcmCache?.size) {\n      return;\n    }\n    this.#_defs?.parentNode.parentNode.remove();\n    this.#_defs = null;\n\n    this.#_cache?.clear();\n    this.#_cache = null;\n\n    this.#_hcmCache?.clear();\n    this.#_hcmCache = null;\n\n    this.#id = 0;\n  }\n\n  #addLuminosityConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(\n      SVG_NS,\n      \"feColorMatrix\"\n    );\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\n      \"values\",\n      \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0\"\n    );\n    filter.append(feColorMatrix);\n  }\n\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(\n      SVG_NS,\n      \"feColorMatrix\"\n    );\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\n      \"values\",\n      \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\"\n    );\n    filter.append(feColorMatrix);\n  }\n\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n\n    return filter;\n  }\n\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(\n      SVG_NS,\n      \"feComponentTransfer\"\n    );\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n\n  #addTransferMapAlphaConversion(aTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(\n      SVG_NS,\n      \"feComponentTransfer\"\n    );\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncA\", aTable);\n  }\n\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\n\nexport { BaseFilterFactory, DOMFilterFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fetchData } from \"./display_utils.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseStandardFontDataFactory {\n  constructor({ baseUrl = null }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseStandardFontDataFactory\n    ) {\n      unreachable(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\n        \"Ensure that the `standardFontDataUrl` API parameter is provided.\"\n      );\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n\n  /**\n   * @ignore\n   * @returns {Promise<Uint8Array>}\n   */\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\n\nclass DOMStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    const data = await fetchData(url, /* type = */ \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\nexport { BaseStandardFontDataFactory, DOMStandardFontDataFactory };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fetchData } from \"./display_utils.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseWasmFactory {\n  constructor({ baseUrl = null }) {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseWasmFactory\n    ) {\n      unreachable(\"Cannot initialize BaseWasmFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n\n  async fetch({ filename }) {\n    if (!this.baseUrl) {\n      throw new Error(\"Ensure that the `wasmUrl` API parameter is provided.\");\n    }\n    if (!filename) {\n      throw new Error(\"Wasm filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n\n    return this._fetch(url).catch(reason => {\n      throw new Error(`Unable to load wasm data at: ${url}`);\n    });\n  }\n\n  /**\n   * @ignore\n   * @returns {Promise<Uint8Array>}\n   */\n  async _fetch(url) {\n    unreachable(\"Abstract method `_fetch` called.\");\n  }\n}\n\nclass DOMWasmFactory extends BaseWasmFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    const data = await fetchData(url, /* type = */ \"arraybuffer\");\n    return new Uint8Array(data);\n  }\n}\n\nexport { BaseWasmFactory, DOMWasmFactory };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\nimport { isNodeJS, warn } from \"../shared/util.js\";\nimport { BaseCanvasFactory } from \"./canvas_factory.js\";\nimport { BaseCMapReaderFactory } from \"./cmap_reader_factory.js\";\nimport { BaseFilterFactory } from \"./filter_factory.js\";\nimport { BaseStandardFontDataFactory } from \"./standard_fontdata_factory.js\";\nimport { BaseWasmFactory } from \"./wasm_factory.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_utils.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nif (isNodeJS) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"SKIP_BABEL\")) {\n    warn(\"Please use the `legacy` build in Node.js environments.\");\n  } else {\n    let canvas;\n    try {\n      const require = process\n        .getBuiltinModule(\"module\")\n        .createRequire(import.meta.url);\n\n      try {\n        canvas = require(\"@napi-rs/canvas\");\n      } catch (ex) {\n        warn(`Cannot load \"@napi-rs/canvas\" package: \"${ex}\".`);\n      }\n    } catch (ex) {\n      warn(`Cannot access the \\`require\\` function: \"${ex}\".`);\n    }\n\n    if (!globalThis.DOMMatrix) {\n      if (canvas?.DOMMatrix) {\n        globalThis.DOMMatrix = canvas.DOMMatrix;\n      } else {\n        warn(\"Cannot polyfill `DOMMatrix`, rendering may be broken.\");\n      }\n    }\n    if (!globalThis.ImageData) {\n      if (canvas?.ImageData) {\n        globalThis.ImageData = canvas.ImageData;\n      } else {\n        warn(\"Cannot polyfill `ImageData`, rendering may be broken.\");\n      }\n    }\n    if (!globalThis.Path2D) {\n      if (canvas?.Path2D) {\n        globalThis.Path2D = canvas.Path2D;\n      } else {\n        warn(\"Cannot polyfill `Path2D`, rendering may be broken.\");\n      }\n    }\n    if (!globalThis.navigator?.language) {\n      globalThis.navigator = {\n        language: \"en-US\",\n        platform: \"\",\n        userAgent: \"\",\n      };\n    }\n  }\n}\n\nasync function fetchData(url) {\n  const fs = process.getBuiltinModule(\"fs\");\n  const data = await fs.promises.readFile(url);\n  return new Uint8Array(data);\n}\n\nclass NodeFilterFactory extends BaseFilterFactory {}\n\nclass NodeCanvasFactory extends BaseCanvasFactory {\n  /**\n   * @ignore\n   */\n  _createCanvas(width, height) {\n    const require = process\n      .getBuiltinModule(\"module\")\n      .createRequire(import.meta.url);\n    const canvas = require(\"@napi-rs/canvas\");\n    return canvas.createCanvas(width, height);\n  }\n}\n\nclass NodeCMapReaderFactory extends BaseCMapReaderFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    return fetchData(url);\n  }\n}\n\nclass NodeStandardFontDataFactory extends BaseStandardFontDataFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    return fetchData(url);\n  }\n}\n\nclass NodeWasmFactory extends BaseWasmFactory {\n  /**\n   * @ignore\n   */\n  async _fetch(url) {\n    return fetchData(url);\n  }\n}\n\nexport {\n  fetchData,\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodeStandardFontDataFactory,\n  NodeWasmFactory,\n};\n","import { Util } from \"../shared/util.js\";\n\nconst FORCED_DEPENDENCY_LABEL = \"__forcedDependency\";\n\n/**\n * @typedef {\"lineWidth\" | \"lineCap\" | \"lineJoin\" | \"miterLimit\" | \"dash\" |\n * \"strokeAlpha\" | \"fillColor\" | \"fillAlpha\" | \"globalCompositeOperation\" |\n * \"path\" | \"filter\"} SimpleDependency\n */\n\n/**\n * @typedef {\"transform\" | \"moveText\" | \"sameLineText\"} IncrementalDependency\n */\n\n/**\n * @typedef {IncrementalDependency |\n * typeof FORCED_DEPENDENCY_LABEL} InternalIncrementalDependency\n */\nclass CanvasDependencyTracker {\n  /** @type {Record<SimpleDependency, number>} */\n  #simple = { __proto__: null };\n\n  /** @type {Record<InternalIncrementalDependency , number[]>} */\n  #incremental = {\n    __proto__: null,\n    transform: [],\n    moveText: [],\n    sameLineText: [],\n    [FORCED_DEPENDENCY_LABEL]: [],\n  };\n\n  #namedDependencies = new Map();\n\n  #savesStack = [];\n\n  #markedContentStack = [];\n\n  #baseTransformStack = [[1, 0, 0, 1, 0, 0]];\n\n  #clipBox = [-Infinity, -Infinity, Infinity, Infinity];\n\n  // Float32Array<minX, minY, maxX, maxY>\n  #pendingBBox = new Float64Array([Infinity, Infinity, -Infinity, -Infinity]);\n\n  #pendingBBoxIdx = -1;\n\n  #pendingDependencies = new Set();\n\n  #operations = new Map();\n\n  #fontBBoxTrustworthy = new Map();\n\n  #canvasWidth;\n\n  #canvasHeight;\n\n  constructor(canvas) {\n    this.#canvasWidth = canvas.width;\n    this.#canvasHeight = canvas.height;\n  }\n\n  save(opIdx) {\n    this.#simple = { __proto__: this.#simple };\n    this.#incremental = {\n      __proto__: this.#incremental,\n      transform: { __proto__: this.#incremental.transform },\n      moveText: { __proto__: this.#incremental.moveText },\n      sameLineText: { __proto__: this.#incremental.sameLineText },\n      [FORCED_DEPENDENCY_LABEL]: {\n        __proto__: this.#incremental[FORCED_DEPENDENCY_LABEL],\n      },\n    };\n    this.#clipBox = { __proto__: this.#clipBox };\n    this.#savesStack.push([opIdx, null]);\n\n    return this;\n  }\n\n  restore(opIdx) {\n    const previous = Object.getPrototypeOf(this.#simple);\n    if (previous === null) {\n      // Sometimes we call more .restore() than .save(), for\n      // example when using CanvasGraphics' #restoreInitialState()\n      return this;\n    }\n    this.#simple = previous;\n    this.#incremental = Object.getPrototypeOf(this.#incremental);\n    this.#clipBox = Object.getPrototypeOf(this.#clipBox);\n\n    const lastPair = this.#savesStack.pop();\n    if (lastPair !== undefined) {\n      lastPair[1] = opIdx;\n    }\n\n    return this;\n  }\n\n  /**\n   * @param {number} idx\n   */\n  recordOpenMarker(idx) {\n    this.#savesStack.push([idx, null]);\n    return this;\n  }\n\n  getOpenMarker() {\n    if (this.#savesStack.length === 0) {\n      return null;\n    }\n    return this.#savesStack.at(-1)[0];\n  }\n\n  recordCloseMarker(idx) {\n    const lastPair = this.#savesStack.pop();\n    if (lastPair !== undefined) {\n      lastPair[1] = idx;\n    }\n    return this;\n  }\n\n  // Marked content needs a separate stack from save/restore, because they\n  // form two independent trees.\n  beginMarkedContent(opIdx) {\n    this.#markedContentStack.push([opIdx, null]);\n    return this;\n  }\n\n  endMarkedContent(opIdx) {\n    const lastPair = this.#markedContentStack.pop();\n    if (lastPair !== undefined) {\n      lastPair[1] = opIdx;\n    }\n    return this;\n  }\n\n  pushBaseTransform(ctx) {\n    this.#baseTransformStack.push(\n      Util.multiplyByDOMMatrix(\n        this.#baseTransformStack.at(-1),\n        ctx.getTransform()\n      )\n    );\n    return this;\n  }\n\n  popBaseTransform() {\n    if (this.#baseTransformStack.length > 1) {\n      this.#baseTransformStack.pop();\n    }\n    return this;\n  }\n\n  /**\n   * @param {SimpleDependency} name\n   * @param {number} idx\n   */\n  recordSimpleData(name, idx) {\n    this.#simple[name] = idx;\n    return this;\n  }\n\n  /**\n   * @param {IncrementalDependency} name\n   * @param {number} idx\n   */\n  recordIncrementalData(name, idx) {\n    this.#incremental[name].push(idx);\n    return this;\n  }\n\n  /**\n   * @param {IncrementalDependency} name\n   * @param {number} idx\n   */\n  resetIncrementalData(name, idx) {\n    this.#incremental[name].length = 0;\n    return this;\n  }\n\n  recordNamedData(name, idx) {\n    this.#namedDependencies.set(name, idx);\n    return this;\n  }\n\n  // All next operations, until the next .restore(), will depend on this\n  recordFutureForcedDependency(name, idx) {\n    this.recordIncrementalData(FORCED_DEPENDENCY_LABEL, idx);\n    return this;\n  }\n\n  // All next operations, until the next .restore(), will depend on all\n  // the already recorded data with the given names.\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    for (const name of names) {\n      if (name in this.#simple) {\n        this.recordFutureForcedDependency(name, this.#simple[name]);\n      }\n    }\n    return this;\n  }\n\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    for (const dep of this.#pendingDependencies) {\n      this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL, dep);\n    }\n    return this;\n  }\n\n  resetBBox(idx) {\n    this.#pendingBBoxIdx = idx;\n    this.#pendingBBox[0] = Infinity;\n    this.#pendingBBox[1] = Infinity;\n    this.#pendingBBox[2] = -Infinity;\n    this.#pendingBBox[3] = -Infinity;\n    return this;\n  }\n\n  get hasPendingBBox() {\n    return this.#pendingBBoxIdx !== -1;\n  }\n\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    const transform = Util.multiplyByDOMMatrix(\n      this.#baseTransformStack.at(-1),\n      ctx.getTransform()\n    );\n    const clipBox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, clipBox);\n    const intersection = Util.intersect(this.#clipBox, clipBox);\n    if (intersection) {\n      this.#clipBox[0] = intersection[0];\n      this.#clipBox[1] = intersection[1];\n      this.#clipBox[2] = intersection[2];\n      this.#clipBox[3] = intersection[3];\n    } else {\n      this.#clipBox[0] = this.#clipBox[1] = Infinity;\n      this.#clipBox[2] = this.#clipBox[3] = -Infinity;\n    }\n    return this;\n  }\n\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    const clipBox = this.#clipBox;\n    if (clipBox[0] === Infinity) {\n      return this;\n    }\n\n    const transform = Util.multiplyByDOMMatrix(\n      this.#baseTransformStack.at(-1),\n      ctx.getTransform()\n    );\n    if (clipBox[0] === -Infinity) {\n      Util.axialAlignedBoundingBox(\n        [minX, minY, maxX, maxY],\n        transform,\n        this.#pendingBBox\n      );\n      return this;\n    }\n\n    const bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    Util.axialAlignedBoundingBox([minX, minY, maxX, maxY], transform, bbox);\n    this.#pendingBBox[0] = Math.min(\n      this.#pendingBBox[0],\n      Math.max(bbox[0], clipBox[0])\n    );\n    this.#pendingBBox[1] = Math.min(\n      this.#pendingBBox[1],\n      Math.max(bbox[1], clipBox[1])\n    );\n    this.#pendingBBox[2] = Math.max(\n      this.#pendingBBox[2],\n      Math.min(bbox[2], clipBox[2])\n    );\n    this.#pendingBBox[3] = Math.max(\n      this.#pendingBBox[3],\n      Math.min(bbox[3], clipBox[3])\n    );\n    return this;\n  }\n\n  recordCharacterBBox(idx, ctx, font, scale = 1, x = 0, y = 0, getMeasure) {\n    const fontBBox = font.bbox;\n    let isBBoxTrustworthy;\n    let computedBBox;\n\n    if (fontBBox) {\n      isBBoxTrustworthy =\n        // Only use the bounding box defined by the font if it\n        // has a non-empty area.\n        fontBBox[2] !== fontBBox[0] &&\n        fontBBox[3] !== fontBBox[1] &&\n        this.#fontBBoxTrustworthy.get(font);\n\n      if (isBBoxTrustworthy !== false) {\n        computedBBox = [0, 0, 0, 0];\n        Util.axialAlignedBoundingBox(fontBBox, font.fontMatrix, computedBBox);\n        if (scale !== 1 || x !== 0 || y !== 0) {\n          Util.scaleMinMax([scale, 0, 0, -scale, x, y], computedBBox);\n        }\n\n        if (isBBoxTrustworthy) {\n          return this.recordBBox(\n            idx,\n            ctx,\n            computedBBox[0],\n            computedBBox[2],\n            computedBBox[1],\n            computedBBox[3]\n          );\n        }\n      }\n    }\n\n    if (!getMeasure) {\n      // We have no way of telling how big this character actually is, record\n      // a full page bounding box.\n      return this.recordFullPageBBox(idx);\n    }\n\n    const measure = getMeasure();\n\n    if (fontBBox && computedBBox && isBBoxTrustworthy === undefined) {\n      // If it's the first time we can compare the font bbox with the actual\n      // bbox measured when drawing it, check if the one recorded in the font\n      // is large enough to cover the actual bbox. If it is, we assume that the\n      // font is well-formed and we can use the declared bbox without having to\n      // measure it again for every character.\n      isBBoxTrustworthy =\n        computedBBox[0] <= x - measure.actualBoundingBoxLeft &&\n        computedBBox[2] >= x + measure.actualBoundingBoxRight &&\n        computedBBox[1] <= y - measure.actualBoundingBoxAscent &&\n        computedBBox[3] >= y + measure.actualBoundingBoxDescent;\n      this.#fontBBoxTrustworthy.set(font, isBBoxTrustworthy);\n      if (isBBoxTrustworthy) {\n        return this.recordBBox(\n          idx,\n          ctx,\n          computedBBox[0],\n          computedBBox[2],\n          computedBBox[1],\n          computedBBox[3]\n        );\n      }\n    }\n\n    // The font has no bbox or it is not trustworthy, so we need to\n    // return the bounding box based on .measureText().\n    return this.recordBBox(\n      idx,\n      ctx,\n      x - measure.actualBoundingBoxLeft,\n      x + measure.actualBoundingBoxRight,\n      y - measure.actualBoundingBoxAscent,\n      y + measure.actualBoundingBoxDescent\n    );\n  }\n\n  recordFullPageBBox(idx) {\n    this.#pendingBBox[0] = Math.max(0, this.#clipBox[0]);\n    this.#pendingBBox[1] = Math.max(0, this.#clipBox[1]);\n    this.#pendingBBox[2] = Math.min(this.#canvasWidth, this.#clipBox[2]);\n    this.#pendingBBox[3] = Math.min(this.#canvasHeight, this.#clipBox[3]);\n\n    return this;\n  }\n\n  getSimpleIndex(dependencyName) {\n    return this.#simple[dependencyName];\n  }\n\n  recordDependencies(idx, dependencyNames) {\n    const pendingDependencies = this.#pendingDependencies;\n    const simple = this.#simple;\n    const incremental = this.#incremental;\n    for (const name of dependencyNames) {\n      if (name in this.#simple) {\n        pendingDependencies.add(simple[name]);\n      } else if (name in incremental) {\n        incremental[name].forEach(pendingDependencies.add, pendingDependencies);\n      }\n    }\n\n    return this;\n  }\n\n  copyDependenciesFromIncrementalOperation(idx, name) {\n    const operations = this.#operations;\n    const pendingDependencies = this.#pendingDependencies;\n    for (const depIdx of this.#incremental[name]) {\n      operations\n        .get(depIdx)\n        .dependencies.forEach(\n          pendingDependencies.add,\n          pendingDependencies.add(depIdx)\n        );\n    }\n    return this;\n  }\n\n  recordNamedDependency(idx, name) {\n    if (this.#namedDependencies.has(name)) {\n      this.#pendingDependencies.add(this.#namedDependencies.get(name));\n    }\n\n    return this;\n  }\n\n  /**\n   * @param {number} idx\n   */\n  recordOperation(idx, preserveBbox = false) {\n    this.recordDependencies(idx, [FORCED_DEPENDENCY_LABEL]);\n    const dependencies = new Set(this.#pendingDependencies);\n    const pairs = this.#savesStack.concat(this.#markedContentStack);\n    const bbox =\n      this.#pendingBBoxIdx === idx\n        ? {\n            minX: this.#pendingBBox[0],\n            minY: this.#pendingBBox[1],\n            maxX: this.#pendingBBox[2],\n            maxY: this.#pendingBBox[3],\n          }\n        : null;\n    this.#operations.set(idx, { bbox, pairs, dependencies });\n    if (!preserveBbox) {\n      this.#pendingBBoxIdx = -1;\n    }\n    this.#pendingDependencies.clear();\n\n    return this;\n  }\n\n  bboxToClipBoxDropOperation(idx) {\n    if (this.#pendingBBoxIdx !== -1) {\n      this.#pendingBBoxIdx = -1;\n\n      this.#clipBox[0] = Math.max(this.#clipBox[0], this.#pendingBBox[0]);\n      this.#clipBox[1] = Math.max(this.#clipBox[1], this.#pendingBBox[1]);\n      this.#clipBox[2] = Math.min(this.#clipBox[2], this.#pendingBBox[2]);\n      this.#clipBox[3] = Math.min(this.#clipBox[3], this.#pendingBBox[3]);\n    }\n    this.#pendingDependencies.clear();\n    return this;\n  }\n\n  _takePendingDependencies() {\n    const pendingDependencies = this.#pendingDependencies;\n    this.#pendingDependencies = new Set();\n    return pendingDependencies;\n  }\n\n  _extractOperation(idx) {\n    const operation = this.#operations.get(idx);\n    this.#operations.delete(idx);\n    return operation;\n  }\n\n  _pushPendingDependencies(dependencies) {\n    for (const dep of dependencies) {\n      this.#pendingDependencies.add(dep);\n    }\n  }\n\n  take() {\n    this.#fontBBoxTrustworthy.clear();\n    return Array.from(\n      this.#operations,\n      ([idx, { bbox, pairs, dependencies }]) => {\n        pairs.forEach(pair => pair.forEach(dependencies.add, dependencies));\n        dependencies.delete(idx);\n        return {\n          minX: (bbox?.minX ?? 0) / this.#canvasWidth,\n          maxX: (bbox?.maxX ?? this.#canvasWidth) / this.#canvasWidth,\n          minY: (bbox?.minY ?? 0) / this.#canvasHeight,\n          maxY: (bbox?.maxY ?? this.#canvasHeight) / this.#canvasHeight,\n          dependencies: Array.from(dependencies).sort((a, b) => a - b),\n          idx,\n        };\n      }\n    );\n  }\n}\n\n/**\n * Used to track dependencies of nested operations list, that\n * should actually all map to the index of the operation that\n * contains the nested list.\n *\n * @implements {CanvasDependencyTracker}\n */\nclass CanvasNestedDependencyTracker {\n  /** @type {CanvasDependencyTracker} */\n  #dependencyTracker;\n\n  /** @type {number} */\n  #opIdx;\n\n  #nestingLevel = 0;\n\n  #outerDependencies;\n\n  #savesLevel = 0;\n\n  constructor(dependencyTracker, opIdx) {\n    if (dependencyTracker instanceof CanvasNestedDependencyTracker) {\n      // The goal of CanvasNestedDependencyTracker is to collapse all operations\n      // into a single one. If we are already in a\n      // CanvasNestedDependencyTracker, that is already happening.\n      return dependencyTracker;\n    }\n\n    this.#dependencyTracker = dependencyTracker;\n    this.#outerDependencies = dependencyTracker._takePendingDependencies();\n    this.#opIdx = opIdx;\n  }\n\n  save(opIdx) {\n    this.#savesLevel++;\n    this.#dependencyTracker.save(this.#opIdx);\n    return this;\n  }\n\n  restore(opIdx) {\n    if (this.#savesLevel > 0) {\n      this.#dependencyTracker.restore(this.#opIdx);\n      this.#savesLevel--;\n    }\n    return this;\n  }\n\n  recordOpenMarker(idx) {\n    this.#nestingLevel++;\n    return this;\n  }\n\n  getOpenMarker() {\n    return this.#nestingLevel > 0\n      ? this.#opIdx\n      : this.#dependencyTracker.getOpenMarker();\n  }\n\n  recordCloseMarker(idx) {\n    this.#nestingLevel--;\n    return this;\n  }\n\n  beginMarkedContent(opIdx) {\n    return this;\n  }\n\n  endMarkedContent(opIdx) {\n    return this;\n  }\n\n  pushBaseTransform(ctx) {\n    this.#dependencyTracker.pushBaseTransform(ctx);\n    return this;\n  }\n\n  popBaseTransform() {\n    this.#dependencyTracker.popBaseTransform();\n    return this;\n  }\n\n  /**\n   * @param {SimpleDependency} name\n   * @param {number} idx\n   */\n  recordSimpleData(name, idx) {\n    this.#dependencyTracker.recordSimpleData(name, this.#opIdx);\n    return this;\n  }\n\n  /**\n   * @param {IncrementalDependency} name\n   * @param {number} idx\n   */\n  recordIncrementalData(name, idx) {\n    this.#dependencyTracker.recordIncrementalData(name, this.#opIdx);\n    return this;\n  }\n\n  /**\n   * @param {IncrementalDependency} name\n   * @param {number} idx\n   */\n  resetIncrementalData(name, idx) {\n    this.#dependencyTracker.resetIncrementalData(name, this.#opIdx);\n    return this;\n  }\n\n  recordNamedData(name, idx) {\n    // Nested dependencies are not visible to the outside.\n    return this;\n  }\n\n  // All next operations, until the next .restore(), will depend on this\n  recordFutureForcedDependency(name, idx) {\n    this.#dependencyTracker.recordFutureForcedDependency(name, this.#opIdx);\n    return this;\n  }\n\n  // All next operations, until the next .restore(), will depend on all\n  // the already recorded data with the given names.\n  inheritSimpleDataAsFutureForcedDependencies(names) {\n    this.#dependencyTracker.inheritSimpleDataAsFutureForcedDependencies(names);\n    return this;\n  }\n\n  inheritPendingDependenciesAsFutureForcedDependencies() {\n    this.#dependencyTracker.inheritPendingDependenciesAsFutureForcedDependencies();\n    return this;\n  }\n\n  resetBBox(idx) {\n    if (!this.#dependencyTracker.hasPendingBBox) {\n      this.#dependencyTracker.resetBBox(this.#opIdx);\n    }\n    return this;\n  }\n\n  get hasPendingBBox() {\n    return this.#dependencyTracker.hasPendingBBox;\n  }\n\n  recordClipBox(idx, ctx, minX, maxX, minY, maxY) {\n    this.#dependencyTracker.recordClipBox(\n      this.#opIdx,\n      ctx,\n      minX,\n      maxX,\n      minY,\n      maxY\n    );\n    return this;\n  }\n\n  recordBBox(idx, ctx, minX, maxX, minY, maxY) {\n    this.#dependencyTracker.recordBBox(\n      this.#opIdx,\n      ctx,\n      minX,\n      maxX,\n      minY,\n      maxY\n    );\n    return this;\n  }\n\n  recordCharacterBBox(idx, ctx, font, scale, x, y, getMeasure) {\n    this.#dependencyTracker.recordCharacterBBox(\n      this.#opIdx,\n      ctx,\n      font,\n      scale,\n      x,\n      y,\n      getMeasure\n    );\n    return this;\n  }\n\n  recordFullPageBBox(idx) {\n    this.#dependencyTracker.recordFullPageBBox(this.#opIdx);\n    return this;\n  }\n\n  getSimpleIndex(dependencyName) {\n    return this.#dependencyTracker.getSimpleIndex(dependencyName);\n  }\n\n  recordDependencies(idx, dependencyNames) {\n    this.#dependencyTracker.recordDependencies(this.#opIdx, dependencyNames);\n    return this;\n  }\n\n  copyDependenciesFromIncrementalOperation(idx, name) {\n    this.#dependencyTracker.copyDependenciesFromIncrementalOperation(\n      this.#opIdx,\n      name\n    );\n    return this;\n  }\n\n  recordNamedDependency(idx, name) {\n    this.#dependencyTracker.recordNamedDependency(this.#opIdx, name);\n    return this;\n  }\n\n  /**\n   * @param {number} idx\n   * @param {SimpleDependency[]} dependencyNames\n   */\n  recordOperation(idx) {\n    this.#dependencyTracker.recordOperation(this.#opIdx, true);\n    const operation = this.#dependencyTracker._extractOperation(this.#opIdx);\n    for (const depIdx of operation.dependencies) {\n      this.#outerDependencies.add(depIdx);\n    }\n    this.#outerDependencies.delete(this.#opIdx);\n    this.#outerDependencies.delete(null);\n    return this;\n  }\n\n  bboxToClipBoxDropOperation(idx) {\n    this.#dependencyTracker.bboxToClipBoxDropOperation(this.#opIdx);\n    return this;\n  }\n\n  recordNestedDependencies() {\n    this.#dependencyTracker._pushPendingDependencies(this.#outerDependencies);\n  }\n\n  take() {\n    throw new Error(\"Unreachable\");\n  }\n}\n\n/** @satisfies {Record<string, SimpleDependency | IncrementalDependency>} */\nconst Dependencies = {\n  stroke: [\n    \"path\",\n    \"transform\",\n    \"filter\",\n    \"strokeColor\",\n    \"strokeAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"dash\",\n  ],\n  fill: [\n    \"path\",\n    \"transform\",\n    \"filter\",\n    \"fillColor\",\n    \"fillAlpha\",\n    \"globalCompositeOperation\",\n    \"SMask\",\n  ],\n  imageXObject: [\n    \"transform\",\n    \"SMask\",\n    \"filter\",\n    \"fillAlpha\",\n    \"strokeAlpha\",\n    \"globalCompositeOperation\",\n  ],\n  rawFillPath: [\"filter\", \"fillColor\", \"fillAlpha\"],\n  showText: [\n    \"transform\",\n    \"leading\",\n    \"charSpacing\",\n    \"wordSpacing\",\n    \"hScale\",\n    \"textRise\",\n    \"moveText\",\n    \"textMatrix\",\n    \"font\",\n    \"filter\",\n    \"fillColor\",\n    \"textRenderingMode\",\n    \"SMask\",\n    \"fillAlpha\",\n    \"strokeAlpha\",\n    \"globalCompositeOperation\",\n    // TODO: More\n  ],\n  transform: [\"transform\"],\n  transformAndFill: [\"transform\", \"fillColor\"],\n};\n\nexport { CanvasDependencyTracker, CanvasNestedDependencyTracker, Dependencies };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FormatError, info, unreachable, Util } from \"../shared/util.js\";\nimport { getCurrentTransform } from \"./display_utils.js\";\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\",\n};\n\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\n\nclass BaseShadingPattern {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseShadingPattern\n    ) {\n      unreachable(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n\n  isModifyingCurrentTransform() {\n    return false;\n  }\n\n  getPattern() {\n    unreachable(\"Abstract method `getPattern` called.\");\n  }\n}\n\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(\n        this._p0[0],\n        this._p0[1],\n        this._p1[0],\n        this._p1[1]\n      );\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(\n        this._p0[0],\n        this._p0[1],\n        this._r0,\n        this._p1[0],\n        this._p1[1],\n        this._r1\n      );\n    }\n\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(\n        pathType,\n        getCurrentTransform(ctx)\n      ) || [0, 0, 0, 0];\n      // Create a canvas that is only as big as the current path. This doesn't\n      // allow us to cache the pattern, but it generally creates much smaller\n      // canvases and saves memory use. See bug 1722807 for an example.\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\n        \"pattern\",\n        width,\n        height\n      );\n\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      // Non shading fill patterns are positioned relative to the base transform\n      // (usually the page's initial transform), but we may have created a\n      // smaller canvas based on the path, so we must account for the shift.\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = Util.transform(inverse, [\n        1,\n        0,\n        0,\n        1,\n        ownerBBox[0],\n        ownerBBox[1],\n      ]);\n\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      // Shading fills are applied relative to the current matrix which is also\n      // how canvas gradients work, so there's no need to do anything special\n      // here.\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\n\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  // Very basic Gouraud-shaded triangle rasterization algorithm.\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = (car - (car - cbr) * k) | 0;\n      bytes[j++] = (cag - (cag - cbg) * k) | 0;\n      bytes[j++] = (cab - (cab - cbb) * k) | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\n\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(\n            data,\n            context,\n            ps[q],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n          drawTriangle(\n            data,\n            context,\n            ps[q + verticesPerRow + 1],\n            ps[q + 1],\n            ps[q + verticesPerRow],\n            cs[q + verticesPerRow + 1],\n            cs[q + 1],\n            cs[q + verticesPerRow]\n          );\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(\n          data,\n          context,\n          ps[i],\n          ps[i + 1],\n          ps[i + 2],\n          cs[i],\n          cs[i + 1],\n          cs[i + 2]\n        );\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\n\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[6];\n    this._background = IR[7];\n    this.matrix = null;\n  }\n\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    // we will increase scale on some weird factor to let antialiasing take\n    // care of \"rough\" edges\n    const EXPECTED_SCALE = 1.1;\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    const MAX_PATTERN_SIZE = 3000; // 10in @ 300dpi shall be enough\n    // We need to keep transparent border around our pattern for fill():\n    // createPattern with 'no-repeat' will bleed edges across entire area.\n    const BORDER_SIZE = 2;\n\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n\n    const width = Math.min(\n      Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const height = Math.min(\n      Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)),\n      MAX_PATTERN_SIZE\n    );\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY,\n    };\n\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n\n    const tmpCanvas = cachedCanvases.getCanvas(\n      \"mesh\",\n      paddedWidth,\n      paddedHeight\n    );\n    const tmpCtx = tmpCanvas.context;\n\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY,\n    };\n  }\n\n  isModifyingCurrentTransform() {\n    return true;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    const scale = new Float32Array(2);\n    if (pathType === PathType.SHADING) {\n      Util.singularValueDecompose2dScale(getCurrentTransform(ctx), scale);\n    } else if (this.matrix) {\n      // Obtain scale from matrix and current transformation matrix.\n      Util.singularValueDecompose2dScale(this.matrix, scale);\n      const [matrixScaleX, matrixScaleY] = scale;\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n      scale[0] *= matrixScaleX;\n      scale[1] *= matrixScaleY;\n    } else {\n      Util.singularValueDecompose2dScale(owner.baseTransform, scale);\n    }\n\n    // Rasterizing on the main thread since sending/queue large canvases\n    // might cause OOM.\n    const temporaryPatternCanvas = this._createMeshCanvas(\n      scale,\n      pathType === PathType.SHADING ? null : this._background,\n      owner.cachedCanvases\n    );\n\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n\n    ctx.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\n\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\n\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\n\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2,\n};\n\nclass TilingPattern {\n  // 10in @ 300dpi shall be enough.\n  static MAX_PATTERN_SIZE = 3000;\n\n  constructor(IR, ctx, canvasGraphicsFactory, baseTransform) {\n    this.color = IR[1];\n    this.operatorList = IR[2];\n    this.matrix = IR[3];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n\n  createPatternCanvas(owner) {\n    const {\n      bbox,\n      operatorList,\n      paintType,\n      tilingType,\n      color,\n      canvasGraphicsFactory,\n    } = this;\n    let { xstep, ystep } = this;\n    xstep = Math.abs(xstep);\n    ystep = Math.abs(ystep);\n\n    info(\"TilingType: \" + tilingType);\n\n    // A tiling pattern as defined by PDF spec 8.7.2 is a cell whose size is\n    // described by bbox, and may repeat regularly by shifting the cell by\n    // xstep and ystep.\n    // Because the HTML5 canvas API does not support pattern repetition with\n    // gaps in between, we use the xstep/ystep instead of the bbox's size.\n    //\n    // This has the following consequences (similarly for ystep):\n    //\n    // - If xstep is the same as bbox, then there is no observable difference.\n    //\n    // - If xstep is larger than bbox, then the pattern canvas is partially\n    //   empty: the area bounded by bbox is painted, the outside area is void.\n    //\n    // - If xstep is smaller than bbox, then the pixels between xstep and the\n    //   bbox boundary will be missing. This is INCORRECT behavior.\n    //   \"Figures on adjacent tiles should not overlap\" (PDF spec 8.7.3.1),\n    //   but overlapping cells without common pixels are still valid.\n\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const width = x1 - x0;\n    const height = y1 - y0;\n\n    // Obtain scale from matrix and current transformation matrix.\n    const scale = new Float32Array(2);\n    Util.singularValueDecompose2dScale(this.matrix, scale);\n    const [matrixScaleX, matrixScaleY] = scale;\n    Util.singularValueDecompose2dScale(this.baseTransform, scale);\n    const combinedScaleX = matrixScaleX * scale[0];\n    const combinedScaleY = matrixScaleY * scale[1];\n\n    let canvasWidth = width,\n      canvasHeight = height,\n      redrawHorizontally = false,\n      redrawVertically = false;\n\n    const xScaledStep = Math.ceil(xstep * combinedScaleX);\n    const yScaledStep = Math.ceil(ystep * combinedScaleY);\n    const xScaledWidth = Math.ceil(width * combinedScaleX);\n    const yScaledHeight = Math.ceil(height * combinedScaleY);\n\n    if (xScaledStep >= xScaledWidth) {\n      canvasWidth = xstep;\n    } else {\n      redrawHorizontally = true;\n    }\n    if (yScaledStep >= yScaledHeight) {\n      canvasHeight = ystep;\n    } else {\n      redrawVertically = true;\n    }\n\n    // Use width and height values that are as close as possible to the end\n    // result when the pattern is used. Too low value makes the pattern look\n    // blurry. Too large value makes it look too crispy.\n    const dimx = this.getSizeAndScale(\n      canvasWidth,\n      this.ctx.canvas.width,\n      combinedScaleX\n    );\n    const dimy = this.getSizeAndScale(\n      canvasHeight,\n      this.ctx.canvas.height,\n      combinedScaleY\n    );\n\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\n      \"pattern\",\n      dimx.size,\n      dimy.size\n    );\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n\n    tmpCtx.translate(-dimx.scale * x0, -dimy.scale * y0);\n    graphics.transform(\n      // We pass 0 as the 'opIdx' argument, but the value is irrelevant.\n      // We know that we are in a 'CanvasNestedDependencyTracker' that captures\n      // all the sub-operations needed to create this pattern canvas and uses\n      // the top-level operation index as their index.\n      0,\n      dimx.scale,\n      0,\n      0,\n      dimy.scale,\n      0,\n      0\n    );\n\n    // To match CanvasGraphics beginDrawing we must save the context here or\n    // else we end up with unbalanced save/restores.\n    tmpCtx.save();\n    graphics.dependencyTracker?.save();\n\n    this.clipBbox(graphics, x0, y0, x1, y1);\n\n    graphics.baseTransform = getCurrentTransform(graphics.ctx);\n\n    graphics.executeOperatorList(operatorList);\n\n    graphics.endDrawing();\n\n    graphics.dependencyTracker?.restore().recordNestedDependencies?.();\n    tmpCtx.restore();\n\n    if (redrawHorizontally || redrawVertically) {\n      // The tile is overlapping itself, so we create a new tile with\n      // dimensions xstep * ystep.\n      // Then we draw the overlapping parts of the original tile on the new\n      // tile.\n      // Just as a side note, the code here works correctly even if we don't\n      // have to redraw the tile horizontally or vertically. In that case, the\n      // original tile is drawn on the new tile only once, but it's useless.\n      const image = tmpCanvas.canvas;\n      if (redrawHorizontally) {\n        canvasWidth = xstep;\n      }\n      if (redrawVertically) {\n        canvasHeight = ystep;\n      }\n\n      const dimx2 = this.getSizeAndScale(\n        canvasWidth,\n        this.ctx.canvas.width,\n        combinedScaleX\n      );\n      const dimy2 = this.getSizeAndScale(\n        canvasHeight,\n        this.ctx.canvas.height,\n        combinedScaleY\n      );\n\n      const xSize = dimx2.size;\n      const ySize = dimy2.size;\n      const tmpCanvas2 = owner.cachedCanvases.getCanvas(\n        \"pattern-workaround\",\n        xSize,\n        ySize\n      );\n      const tmpCtx2 = tmpCanvas2.context;\n      const ii = redrawHorizontally ? Math.floor(width / xstep) : 0;\n      const jj = redrawVertically ? Math.floor(height / ystep) : 0;\n\n      // Draw the overlapping parts of the original tile on the new tile.\n      for (let i = 0; i <= ii; i++) {\n        for (let j = 0; j <= jj; j++) {\n          tmpCtx2.drawImage(\n            image,\n            xSize * i,\n            ySize * j,\n            xSize,\n            ySize,\n            0,\n            0,\n            xSize,\n            ySize\n          );\n        }\n      }\n      return {\n        canvas: tmpCanvas2.canvas,\n        scaleX: dimx2.scale,\n        scaleY: dimy2.scale,\n        offsetX: x0,\n        offsetY: y0,\n      };\n    }\n\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: x0,\n      offsetY: y0,\n    };\n  }\n\n  getSizeAndScale(step, realOutputSize, scale) {\n    // MAX_PATTERN_SIZE is used to avoid OOM situation.\n    // Use the destination canvas's size if it is bigger than the hard-coded\n    // limit of MAX_PATTERN_SIZE to avoid clipping patterns that cover the\n    // whole canvas.\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return { scale, size };\n  }\n\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    Util.axialAlignedBoundingBox(\n      [x0, y0, x1, y1],\n      getCurrentTransform(graphics.ctx),\n      graphics.current.minMax\n    );\n    graphics.clip();\n    graphics.endPath();\n  }\n\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const { fillStyle, strokeStyle } = this.ctx;\n        context.fillStyle = current.fillColor = fillStyle;\n        context.strokeStyle = current.strokeColor = strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        context.fillStyle = context.strokeStyle = color;\n        // Set color needed by image masks (fixes issues 3226 and 8741).\n        current.fillColor = current.strokeColor = color;\n        break;\n      default:\n        throw new FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n\n  isModifyingCurrentTransform() {\n    return false;\n  }\n\n  getPattern(ctx, owner, inverse, pathType) {\n    // PDF spec 8.7.2 NOTE 1: pattern's matrix is relative to initial matrix.\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = Util.transform(matrix, this.matrix);\n      }\n    }\n\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n\n    let domMatrix = new DOMMatrix(matrix);\n    // Rescale and so that the ctx.createPattern call generates a pattern with\n    // the desired size.\n    domMatrix = domMatrix.translate(\n      temporaryPatternCanvas.offsetX,\n      temporaryPatternCanvas.offsetY\n    );\n    domMatrix = domMatrix.scale(\n      1 / temporaryPatternCanvas.scaleX,\n      1 / temporaryPatternCanvas.scaleY\n    );\n\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n\n    return pattern;\n  }\n}\n\nexport { getShadingPattern, PathType, TilingPattern };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FeatureTest, ImageKind } from \"./util.js\";\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n\n  return null;\n}\n\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false,\n}) {\n  const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode\n    ? [nonBlackColor, black]\n    : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & (1 << (7 - j)) ? oneMapping : zeroMapping;\n    }\n  }\n  return { srcPos, destPos };\n}\n\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height,\n}) {\n  let i = 0;\n  const len = width * height * 3;\n  const len32 = len >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n\n  if (FeatureTest.isLittleEndian) {\n    // It's a way faster to do the shuffle manually instead of working\n    // component by component with some Uint8 arrays.\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R2B1G1R1\n      const s2 = src32[i + 1]; // G3R3B2G2\n      const s3 = src32[i + 2]; // B4G4R4B3\n\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = (s1 >>> 24) | (s2 << 8) | 0xff000000;\n      dest[destPos + 2] = (s2 >>> 16) | (s3 << 16) | 0xff000000;\n      dest[destPos + 3] = (s3 >>> 8) | 0xff000000;\n    }\n\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] =\n        src[j] | (src[j + 1] << 8) | (src[j + 2] << 16) | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i]; // R1G1B1R2\n      const s2 = src32[i + 1]; // G2B2R3G3\n      const s3 = src32[i + 2]; // B3R4G4B4\n\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = (s1 << 24) | (s2 >>> 8) | 0xff;\n      dest[destPos + 2] = (s2 << 16) | (s3 >>> 16) | 0xff;\n      dest[destPos + 3] = (s3 << 8) | 0xff;\n    }\n\n    for (let j = i * 4, jj = srcPos + len; j < jj; j += 3) {\n      dest[destPos++] =\n        (src[j] << 24) | (src[j + 1] << 16) | (src[j + 2] << 8) | 0xff;\n    }\n  }\n\n  return { srcPos: srcPos + len, destPos };\n}\n\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x10101) | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = (src[i] * 0x1010100) | 0x000000ff;\n    }\n  }\n}\n\nexport { convertBlackAndWhiteToRGBA, convertToRGBA, grayToRGBA };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  CanvasNestedDependencyTracker,\n  Dependencies,\n} from \"./canvas_dependency_tracker.js\";\nimport {\n  DrawOPS,\n  FeatureTest,\n  FONT_IDENTITY_MATRIX,\n  ImageKind,\n  info,\n  OPS,\n  shadow,\n  TextRenderingMode,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  getCurrentTransform,\n  getCurrentTransformInverse,\n  OutputScale,\n  PixelsPerInch,\n} from \"./display_utils.js\";\nimport {\n  getShadingPattern,\n  PathType,\n  TilingPattern,\n} from \"./pattern_helper.js\";\nimport { convertBlackAndWhiteToRGBA } from \"../shared/image_utils.js\";\n\n// <canvas> contexts store most of the state we need natively.\n// However, PDF needs a bit more state, which we store here.\n// Minimal font size that would be used during canvas fillText operations.\nconst MIN_FONT_SIZE = 16;\n// Maximum font size that would be used during canvas fillText operations.\nconst MAX_FONT_SIZE = 100;\n\n// Defines the time the `executeOperatorList`-method is going to be executing\n// before it stops and schedules a continue of execution.\nconst EXECUTION_TIME = 15; // ms\n// Defines the number of steps before checking the execution time.\nconst EXECUTION_STEPS = 10;\n\nconst FULL_CHUNK_HEIGHT = 16;\n\n// Only used in rescaleAndStroke. The goal is to avoid\n// creating a new DOMMatrix object each time we need it.\nconst SCALE_MATRIX = new DOMMatrix();\n\n// Used to get some coordinates.\nconst XY = new Float32Array(2);\n\n// Initial rectangle values for the minMax array.\nconst MIN_MAX_INIT = new Float32Array([\n  Infinity,\n  Infinity,\n  -Infinity,\n  -Infinity,\n]);\n\n/**\n * Overrides certain methods on a 2d ctx so that when they are called they\n * will also call the same method on the destCtx. The methods that are\n * overridden are all the transformation state modifiers, path creation, and\n * save/restore. We only forward these specific methods because they are the\n * only state modifiers that we cannot copy over when we switch contexts.\n *\n * To remove mirroring call `ctx._removeMirroring()`.\n *\n * @param {Object} ctx - The 2d canvas context that will duplicate its calls on\n *   the destCtx.\n * @param {Object} destCtx - The 2d canvas context that will receive the\n *   forwarded calls.\n */\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n\n  ctx.save = function () {\n    destCtx.save();\n    this.__originalSave();\n  };\n\n  ctx.restore = function () {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n\n  ctx.translate = function (x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n\n  ctx.scale = function (x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n\n  ctx.transform = function (a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n\n  ctx.setTransform = function (a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n\n  ctx.resetTransform = function () {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n\n  ctx.rotate = function (angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n\n  ctx.clip = function (rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\n\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n\n  delete(id) {\n    delete this.cache[id];\n  }\n\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\n\nfunction drawImageAtIntegerCoords(\n  ctx,\n  srcImg,\n  srcX,\n  srcY,\n  srcW,\n  srcH,\n  destX,\n  destY,\n  destW,\n  destH\n) {\n  const [a, b, c, d, tx, ty] = getCurrentTransform(ctx);\n  if (b === 0 && c === 0) {\n    // top-left corner is at (X, Y) and\n    // bottom-right one is at (X + width, Y + height).\n\n    // If leftX is 4.321 then it's rounded to 4.\n    // If width is 10.432 then it's rounded to 11 because\n    // rightX = leftX + width = 14.753 which is rounded to 15\n    // so after rounding the total width is 11 (15 - 4).\n    // It's why we can't just floor/ceil uniformly, it just depends\n    // on the values we've.\n\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n\n    // Some pdf contains images with 1x1 images so in case of 0-width after\n    // scaling we must fallback on 1 to be sure there is something.\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    // We must apply a transformation in order to apply it on the image itself.\n    // For example if a == 1 && d == -1, it means that the image itself is\n    // mirrored w.r.t. the x-axis.\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rWidth, rHeight];\n  }\n\n  if (a === 0 && d === 0) {\n    // This path is taken in issue9462.pdf (page 3).\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n\n    return [rHeight, rWidth];\n  }\n\n  // Not a scale matrix so let the render handle the case without rounding.\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\n\nclass CanvasExtraState {\n  // Are soft masks and alpha values shapes or opacities?\n  alphaIsShape = false;\n\n  fontSize = 0;\n\n  fontSizeScale = 1;\n\n  textMatrix = null;\n\n  textMatrixScale = 1;\n\n  fontMatrix = FONT_IDENTITY_MATRIX;\n\n  leading = 0;\n\n  // Current point (in user coordinates)\n  x = 0;\n\n  y = 0;\n\n  // Start of text line (in text coordinates)\n  lineX = 0;\n\n  lineY = 0;\n\n  // Character and word spacing\n  charSpacing = 0;\n\n  wordSpacing = 0;\n\n  textHScale = 1;\n\n  textRenderingMode = TextRenderingMode.FILL;\n\n  textRise = 0;\n\n  // Default fore and background colors\n  fillColor = \"#000000\";\n\n  strokeColor = \"#000000\";\n\n  patternFill = false;\n\n  patternStroke = false;\n\n  // Note: fill alpha applies to all non-stroking operations\n  fillAlpha = 1;\n\n  strokeAlpha = 1;\n\n  lineWidth = 1;\n\n  activeSMask = null;\n\n  transferMaps = \"none\";\n\n  constructor(width, height, preInit) {\n    preInit?.(this);\n\n    this.clipBox = new Float32Array([0, 0, width, height]);\n    this.minMax = MIN_MAX_INIT.slice();\n  }\n\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    clone.minMax = this.minMax.slice();\n    return clone;\n  }\n\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = this.minMax.slice();\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        unreachable(\"Stroke bounding box must include transform.\");\n      }\n      // Stroked paths can be outside of the path bounding box by 1/2 the line\n      // width.\n      Util.singularValueDecompose2dScale(transform, XY);\n      const xStrokePad = (XY[0] * this.lineWidth) / 2;\n      const yStrokePad = (XY[1] * this.lineWidth) / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n\n  updateClipFromPath() {\n    const intersect = Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n\n  isEmptyClip() {\n    return this.minMax[0] === Infinity;\n  }\n\n  startNewPathAndClipBox(box) {\n    this.clipBox.set(box, 0);\n    this.minMax.set(MIN_MAX_INIT, 0);\n  }\n\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return Util.intersect(\n      this.clipBox,\n      this.getPathBoundingBox(pathType, transform)\n    );\n  }\n}\n\nfunction putBinaryImageData(ctx, imgData) {\n  if (imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n\n  // Put the image data to the canvas in chunks, rather than putting the\n  // whole image at once.  This saves JS memory, because the ImageData object\n  // is smaller. It also possibly saves C++ memory within the implementation\n  // of putImageData(). (E.g. in Firefox we make two short-lived copies of\n  // the data passed to putImageData()). |n| shouldn't be too small, however,\n  // because too many putImageData() calls will slow things down.\n  //\n  // Note: as written, if the last chunk is partial, the putImageData() call\n  // will (conceptually) put pixels past the bounds of the canvas.  But\n  // that's ok; any such pixels are ignored.\n\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n\n  // There are multiple forms in which the pixel data can be passed, and\n  // imgData.kind tells us which one this is.\n  if (imgData.kind === ImageKind.GRAYSCALE_1BPP) {\n    // Grayscale, 1 bit per pixel (i.e. black-and-white).\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = (width + 7) >> 3;\n    const white = 0xffffffff;\n    const black = FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      // We ran out of input. Make all remaining pixels transparent.\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === ImageKind.RGBA_32BPP) {\n    // RGBA, 32-bits per pixel.\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === ImageKind.RGB_24BPP) {\n    // RGB, 24-bits per pixel.\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n\n      destPos = 0;\n      for (j = elemsInThisChunk; j--; ) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\n\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    // The bitmap has been created in the worker.\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n\n  // Slow path: OffscreenCanvas isn't available in the worker.\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight =\n      i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n\n    // Expand the mask so it can be used by the canvas.  Any required\n    // inversion has already been handled.\n\n    ({ srcPos } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0,\n    }));\n\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\n\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\n    \"strokeStyle\",\n    \"fillStyle\",\n    \"fillRule\",\n    \"globalAlpha\",\n    \"lineWidth\",\n    \"lineCap\",\n    \"lineJoin\",\n    \"miterLimit\",\n    \"globalCompositeOperation\",\n    \"font\",\n    \"filter\",\n  ];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\n\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  const { filter } = ctx;\n  if (filter !== \"none\" && filter !== \"\") {\n    ctx.filter = \"none\";\n  }\n}\n\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  // In section 8.9.5.3 of the PDF spec, it's mentioned that the interpolate\n  // flag should be used when the image is upscaled.\n  // In Firefox, smoothing is always used when downscaling images (bug 1360415).\n\n  if (interpolate) {\n    return true;\n  }\n\n  Util.singularValueDecompose2dScale(transform, XY);\n  // Round to a 32bit float so that `<=` check below will pass for numbers that\n  // are very close, but not exactly the same 64bit floats.\n  const actualScale = Math.fround(\n    OutputScale.pixelRatio * PixelsPerInch.PDF_TO_CSS_UNITS\n  );\n  // `XY` is a Float32Array.\n  return XY[0] <= actualScale && XY[1] <= actualScale;\n}\n\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\n\nclass CanvasGraphics {\n  constructor(\n    canvasCtx,\n    commonObjs,\n    objs,\n    canvasFactory,\n    filterFactory,\n    { optionalContentConfig, markedContentStack = null },\n    annotationCanvasMap,\n    pageColors,\n    dependencyTracker\n  ) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    // Patterns are painted relative to the initial page/form transform, see\n    // PDF spec 8.7.2 NOTE 1.\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n\n    this.dependencyTracker = dependencyTracker ?? null;\n  }\n\n  getObject(opIdx, data, fallback = null) {\n    if (typeof data === \"string\") {\n      this.dependencyTracker?.recordNamedDependency(opIdx, data);\n      return data.startsWith(\"g_\")\n        ? this.commonObjs.get(data)\n        : this.objs.get(data);\n    }\n    return fallback;\n  }\n\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null,\n  }) {\n    // For pdfs that use blend modes we have to clear the canvas else certain\n    // blend modes can look wrong since we'd be blending with a white\n    // backdrop. The problem with a transparent backdrop though is we then\n    // don't get sub pixel anti aliasing on text, creating temporary\n    // transparent canvas when we have blend modes.\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\n        \"transparent\",\n        width,\n        height\n      );\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      // The transform can be applied before rendering, transferring it to\n      // the new canvas.\n      this.ctx.transform(...getCurrentTransform(this.compositeCtx));\n    }\n\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n\n    this.baseTransform = getCurrentTransform(this.ctx);\n  }\n\n  executeOperatorList(\n    operatorList,\n    executionStartIdx,\n    continueCallback,\n    stepper,\n    filteredOperationIndexes\n  ) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n\n    // Sometimes the OperatorList to execute is empty.\n    if (argsArrayLen === i) {\n      return i;\n    }\n\n    const chunkOperations =\n      argsArrayLen - i > EXECUTION_STEPS &&\n      typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId, fnArgs;\n\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n\n      if (!filteredOperationIndexes || filteredOperationIndexes.has(i)) {\n        fnId = fnArray[i];\n        // TODO: There is a `undefined` coming from somewhere.\n        fnArgs = argsArray[i] ?? null;\n\n        if (fnId !== OPS.dependency) {\n          if (fnArgs === null) {\n            this[fnId](i);\n          } else {\n            this[fnId](i, ...fnArgs);\n          }\n        } else {\n          for (const depObjId of fnArgs) {\n            this.dependencyTracker?.recordNamedData(depObjId, i);\n            const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n\n            // If the promise isn't resolved yet, add the continueCallback\n            // to the promise and bail out.\n            if (!objsPool.has(depObjId)) {\n              objsPool.get(depObjId, continueCallback);\n              return i;\n            }\n          }\n        }\n      }\n\n      i++;\n\n      // If the entire operatorList was executed, stop as were done.\n      if (i === argsArrayLen) {\n        return i;\n      }\n\n      // If the execution took longer then a certain amount of time and\n      // `continueCallback` is specified, interrupt the execution.\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n\n      // If the operatorList isn't executed completely yet OR the execution\n      // time was short enough, do another execution round.\n    }\n  }\n\n  #restoreInitialState() {\n    // Finishing all opened operations such as SMask group painting.\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n\n    this.current.activeSMask = null;\n    this.ctx.restore();\n\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0); // Avoid apply transform twice\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n\n  endDrawing() {\n    this.#restoreInitialState();\n\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (\n          typeof HTMLCanvasElement !== \"undefined\" &&\n          canvas instanceof HTMLCanvasElement\n        ) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(\n        this.pageColors.foreground,\n        this.pageColors.background\n      );\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n\n  _scaleImage(img, inverseTransform) {\n    // Vertical or horizontal scaling shall not be more than 2 to not lose the\n    // pixels during drawImage operation, painting on the temporary canvas(es)\n    // that are twice smaller in size.\n\n    // displayWidth and displayHeight are used for VideoFrame.\n    const width = img.width ?? img.displayWidth;\n    const height = img.height ?? img.displayHeight;\n    let widthScale = Math.max(\n      Math.hypot(inverseTransform[0], inverseTransform[1]),\n      1\n    );\n    let heightScale = Math.max(\n      Math.hypot(inverseTransform[2], inverseTransform[3]),\n      1\n    );\n\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (\n      (widthScale > 2 && paintWidth > 1) ||\n      (heightScale > 2 && paintHeight > 1)\n    ) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(paintWidth / 2);\n        newWidth =\n          paintWidth >= 16384\n            ? Math.floor(paintWidth / 2) - 1 || 1\n            : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        // TODO: see the comment above.\n        newHeight =\n          paintHeight >= 16384\n            ? Math.floor(paintHeight / 2) - 1 || 1\n            : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(\n        tmpCanvasId,\n        newWidth,\n        newHeight\n      );\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(\n        img,\n        0,\n        0,\n        paintWidth,\n        paintHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight,\n    };\n  }\n\n  _createMaskCanvas(opIdx, img) {\n    const ctx = this.ctx;\n    const { width, height } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = getCurrentTransform(ctx);\n\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      // We're reusing the same image several times, so we can cache it.\n      // In case we've a pattern fill we just keep the scaled version of\n      // the image.\n      // Only the scaling part matters, the translation part is just used\n      // to compute offsets (but not when filling patterns see #15573).\n      // TODO: handle the case of a pattern fill if it's possible.\n      cacheKey = JSON.stringify(\n        isPatternFill\n          ? currentTransform\n          : [currentTransform.slice(0, 4), fillColor]\n      );\n\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(\n          Math.min(currentTransform[0], currentTransform[2]) +\n            currentTransform[4]\n        );\n        const offsetY = Math.round(\n          Math.min(currentTransform[1], currentTransform[3]) +\n            currentTransform[5]\n        );\n\n        this.dependencyTracker?.recordDependencies(\n          opIdx,\n          Dependencies.transformAndFill\n        );\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY,\n        };\n      }\n      scaled = cachedImage;\n    }\n\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n\n    // Create the mask canvas at the size it will be drawn at and also set\n    // its transform to match the current transform so if there are any\n    // patterns applied they will be applied relative to the correct\n    // transform.\n\n    let maskToCanvas = Util.transform(currentTransform, [\n      1 / width,\n      0,\n      0,\n      -1 / height,\n      0,\n      0,\n    ]);\n    maskToCanvas = Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const minMax = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox([0, 0, width, height], maskToCanvas, minMax);\n    const [minX, minY, maxX, maxY] = minMax;\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\n      \"fillCanvas\",\n      drawnWidth,\n      drawnHeight\n    );\n    const fillCtx = fillCanvas.context;\n\n    // The offset will be the top-left coordinate mask.\n    // If objToCanvas is [a,b,c,d,e,f] then:\n    //   - offsetX = min(a, c) + e\n    //   - offsetY = min(b, d) + f\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n\n    if (!scaled) {\n      // Pre-scale if needed to improve image smoothing.\n      scaled = this._scaleImage(\n        maskCanvas.canvas,\n        getCurrentTransformInverse(fillCtx)\n      );\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(fillCtx),\n      img.interpolate\n    );\n\n    drawImageAtIntegerCoords(\n      fillCtx,\n      scaled,\n      0,\n      0,\n      scaled.width,\n      scaled.height,\n      0,\n      0,\n      width,\n      height\n    );\n    fillCtx.globalCompositeOperation = \"source-in\";\n\n    const inverse = Util.transform(getCurrentTransformInverse(fillCtx), [\n      1,\n      0,\n      0,\n      1,\n      -offsetX,\n      -offsetY,\n    ]);\n    fillCtx.fillStyle = isPatternFill\n      ? fillColor.getPattern(ctx, this, inverse, PathType.FILL)\n      : fillColor;\n\n    fillCtx.fillRect(0, 0, width, height);\n\n    if (cache && !isPatternFill) {\n      // The fill canvas is put in the cache associated to the mask image\n      // so we must remove from the cached canvas: it mustn't be used again.\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n\n    this.dependencyTracker?.recordDependencies(\n      opIdx,\n      Dependencies.transformAndFill\n    );\n\n    // Round the offsets to avoid drawing fractional pixels.\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY),\n    };\n  }\n\n  // Graphics state\n  setLineWidth(opIdx, width) {\n    this.dependencyTracker?.recordSimpleData(\"lineWidth\", opIdx);\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n\n  setLineCap(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineCap\", opIdx);\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n\n  setLineJoin(opIdx, style) {\n    this.dependencyTracker?.recordSimpleData(\"lineJoin\", opIdx);\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n\n  setMiterLimit(opIdx, limit) {\n    this.dependencyTracker?.recordSimpleData(\"miterLimit\", opIdx);\n    this.ctx.miterLimit = limit;\n  }\n\n  setDash(opIdx, dashArray, dashPhase) {\n    this.dependencyTracker?.recordSimpleData(\"dash\", opIdx);\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n\n  setRenderingIntent(opIdx, intent) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setFlatness(opIdx, flatness) {\n    // This operation is ignored since we haven't found a use case for it yet.\n  }\n\n  setGState(opIdx, states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(opIdx, value);\n          break;\n        case \"LC\":\n          this.setLineCap(opIdx, value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(opIdx, value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(opIdx, value);\n          break;\n        case \"D\":\n          this.setDash(opIdx, value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(opIdx, value);\n          break;\n        case \"FL\":\n          this.setFlatness(opIdx, value);\n          break;\n        case \"Font\":\n          this.setFont(opIdx, value[0], value[1]);\n          break;\n        case \"CA\":\n          this.dependencyTracker?.recordSimpleData(\"strokeAlpha\", opIdx);\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.dependencyTracker?.recordSimpleData(\"fillAlpha\", opIdx);\n          this.ctx.globalAlpha = this.current.fillAlpha = value;\n          break;\n        case \"BM\":\n          this.dependencyTracker?.recordSimpleData(\n            \"globalCompositeOperation\",\n            opIdx\n          );\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.dependencyTracker?.recordSimpleData(\"SMask\", opIdx);\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.dependencyTracker?.recordSimpleData(\"filter\", opIdx);\n          this.ctx.filter = this.current.transferMaps =\n            this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n    // Else, the state is okay and nothing needs to be done.\n  }\n\n  /**\n   * Soft mask mode takes the current main drawing canvas and replaces it with\n   * a temporary canvas. Any drawing operations that happen on the temporary\n   * canvas need to be composed with the main canvas that was suspended (see\n   * `compose()`). The temporary canvas also duplicates many of its operations\n   * on the suspended canvas to keep them in sync, so that when the soft mask\n   * mode ends any clipping paths or transformations will still be active and in\n   * the right order on the canvas' graphics state stack.\n   */\n  beginSMaskMode(opIdx) {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    this.suspendedCtx = this.ctx;\n    const ctx = (this.ctx = scratchCanvas.context);\n    ctx.setTransform(this.suspendedCtx.getTransform());\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n\n    this.setGState(opIdx, [[\"BM\", \"source-over\"]]);\n  }\n\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    // The soft mask is done, now restore the suspended canvas as the main\n    // drawing canvas.\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n\n    this.suspendedCtx = null;\n  }\n\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n\n    this.composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    // Whatever was drawn has been moved to the suspended canvas, now clear it\n    // out of the current canvas.\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n\n  composeSMask(ctx, smask, layerCtx, layerBox) {\n    const layerOffsetX = layerBox[0];\n    const layerOffsetY = layerBox[1];\n    const layerWidth = layerBox[2] - layerOffsetX;\n    const layerHeight = layerBox[3] - layerOffsetY;\n    if (layerWidth === 0 || layerHeight === 0) {\n      return;\n    }\n    this.genericComposeSMask(\n      smask.context,\n      layerCtx,\n      layerWidth,\n      layerHeight,\n      smask.subtype,\n      smask.backdrop,\n      smask.transferMap,\n      layerOffsetX,\n      layerOffsetY,\n      smask.offsetX,\n      smask.offsetY\n    );\n    ctx.save();\n    ctx.globalAlpha = 1;\n    ctx.globalCompositeOperation = \"source-over\";\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(layerCtx.canvas, 0, 0);\n    ctx.restore();\n  }\n\n  genericComposeSMask(\n    maskCtx,\n    layerCtx,\n    width,\n    height,\n    subtype,\n    backdrop,\n    transferMap,\n    layerOffsetX,\n    layerOffsetY,\n    maskOffsetX,\n    maskOffsetY\n  ) {\n    let maskCanvas = maskCtx.canvas;\n    let maskX = layerOffsetX - maskOffsetX;\n    let maskY = layerOffsetY - maskOffsetY;\n\n    if (backdrop) {\n      if (\n        maskX < 0 ||\n        maskY < 0 ||\n        maskX + width > maskCanvas.width ||\n        maskY + height > maskCanvas.height\n      ) {\n        const canvas = this.cachedCanvases.getCanvas(\n          \"maskExtension\",\n          width,\n          height\n        );\n        const ctx = canvas.context;\n        ctx.drawImage(maskCanvas, -maskX, -maskY);\n        ctx.globalCompositeOperation = \"destination-atop\";\n        ctx.fillStyle = backdrop;\n        ctx.fillRect(0, 0, width, height);\n        ctx.globalCompositeOperation = \"source-over\";\n\n        maskCanvas = canvas.canvas;\n        maskX = maskY = 0;\n      } else {\n        maskCtx.save();\n        maskCtx.globalAlpha = 1;\n        maskCtx.setTransform(1, 0, 0, 1, 0, 0);\n        const clip = new Path2D();\n        clip.rect(maskX, maskY, width, height);\n        maskCtx.clip(clip);\n        maskCtx.globalCompositeOperation = \"destination-atop\";\n        maskCtx.fillStyle = backdrop;\n        maskCtx.fillRect(maskX, maskY, width, height);\n        maskCtx.restore();\n      }\n    }\n\n    layerCtx.save();\n    layerCtx.globalAlpha = 1;\n    layerCtx.setTransform(1, 0, 0, 1, 0, 0);\n\n    if (subtype === \"Alpha\" && transferMap) {\n      layerCtx.filter = this.filterFactory.addAlphaFilter(transferMap);\n    } else if (subtype === \"Luminosity\") {\n      layerCtx.filter = this.filterFactory.addLuminosityFilter(transferMap);\n    }\n\n    const clip = new Path2D();\n    clip.rect(layerOffsetX, layerOffsetY, width, height);\n    layerCtx.clip(clip);\n    layerCtx.globalCompositeOperation = \"destination-in\";\n    layerCtx.drawImage(\n      maskCanvas,\n      maskX,\n      maskY,\n      width,\n      height,\n      layerOffsetX,\n      layerOffsetY,\n      width,\n      height\n    );\n    layerCtx.restore();\n  }\n\n  save(opIdx) {\n    if (this.inSMaskMode) {\n      // SMask mode may be turned on/off causing us to lose graphics state.\n      // Copy the temporary canvas state to the main(suspended) canvas to keep\n      // it in sync.\n      copyCtxState(this.ctx, this.suspendedCtx);\n    }\n    this.ctx.save();\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n    this.dependencyTracker?.save(opIdx);\n  }\n\n  restore(opIdx) {\n    this.dependencyTracker?.restore(opIdx);\n\n    if (this.stateStack.length === 0) {\n      if (this.inSMaskMode) {\n        this.endSMaskMode();\n      }\n      return;\n    }\n\n    this.current = this.stateStack.pop();\n    this.ctx.restore();\n    if (this.inSMaskMode) {\n      // Graphics state is stored on the main(suspended) canvas. Restore its\n      // state then copy it over to the temporary canvas.\n      copyCtxState(this.suspendedCtx, this.ctx);\n    }\n    this.checkSMaskState();\n\n    // Ensure that the clipping path is reset (fixes issue6413.pdf).\n    this.pendingClip = null;\n\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  transform(opIdx, a, b, c, d, e, f) {\n    this.dependencyTracker?.recordIncrementalData(\"transform\", opIdx);\n    this.ctx.transform(a, b, c, d, e, f);\n\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n\n  // Path\n  constructPath(opIdx, op, data, minMax) {\n    let [path] = data;\n    if (!minMax) {\n      // The path is empty, so no need to update the current minMax.\n      path ||= data[0] = new Path2D();\n      this[op](opIdx, path);\n      return;\n    }\n\n    if (this.dependencyTracker !== null) {\n      const outerExtraSize = op === OPS.stroke ? this.current.lineWidth / 2 : 0;\n      this.dependencyTracker\n        .resetBBox(opIdx)\n        .recordBBox(\n          opIdx,\n          this.ctx,\n          minMax[0] - outerExtraSize,\n          minMax[2] + outerExtraSize,\n          minMax[1] - outerExtraSize,\n          minMax[3] + outerExtraSize\n        )\n        .recordDependencies(opIdx, [\"transform\"]);\n    }\n\n    if (!(path instanceof Path2D)) {\n      // Using a SVG string is slightly slower than using the following loop.\n      const path2d = (data[0] = new Path2D());\n      for (let i = 0, ii = path.length; i < ii; ) {\n        switch (path[i++]) {\n          case DrawOPS.moveTo:\n            path2d.moveTo(path[i++], path[i++]);\n            break;\n          case DrawOPS.lineTo:\n            path2d.lineTo(path[i++], path[i++]);\n            break;\n          case DrawOPS.curveTo:\n            path2d.bezierCurveTo(\n              path[i++],\n              path[i++],\n              path[i++],\n              path[i++],\n              path[i++],\n              path[i++]\n            );\n            break;\n          case DrawOPS.closePath:\n            path2d.closePath();\n            break;\n          default:\n            warn(`Unrecognized drawing path operator: ${path[i - 1]}`);\n            break;\n        }\n      }\n      path = path2d;\n    }\n    Util.axialAlignedBoundingBox(\n      minMax,\n      getCurrentTransform(this.ctx),\n      this.current.minMax\n    );\n    this[op](opIdx, path);\n\n    this._pathStartIdx = opIdx;\n  }\n\n  closePath(opIdx) {\n    this.ctx.closePath();\n  }\n\n  stroke(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    // For stroke we want to temporarily change the global alpha to the\n    // stroking alpha.\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        const baseTransform = strokeColor.isModifyingCurrentTransform()\n          ? ctx.getTransform()\n          : null;\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(\n          ctx,\n          this,\n          getCurrentTransformInverse(ctx),\n          PathType.STROKE\n        );\n        if (baseTransform) {\n          const newPath = new Path2D();\n          newPath.addPath(\n            path,\n            ctx.getTransform().invertSelf().multiplySelf(baseTransform)\n          );\n          path = newPath;\n        }\n        this.rescaleAndStroke(path, /* saveRestore */ false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(path, /* saveRestore */ true);\n      }\n    }\n\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.stroke);\n\n    if (consumePath) {\n      this.consumePath(\n        opIdx,\n        path,\n        this.current.getClippedPathBoundingBox(\n          PathType.STROKE,\n          getCurrentTransform(this.ctx)\n        )\n      );\n    }\n\n    // Restore the global alpha to the fill alpha\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n\n  closeStroke(opIdx, path) {\n    this.stroke(opIdx, path);\n  }\n\n  fill(opIdx, path, consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n\n    if (isPatternFill) {\n      const baseTransform = fillColor.isModifyingCurrentTransform()\n        ? ctx.getTransform()\n        : null;\n      this.dependencyTracker?.save(opIdx);\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      if (baseTransform) {\n        const newPath = new Path2D();\n        newPath.addPath(\n          path,\n          ctx.getTransform().invertSelf().multiplySelf(baseTransform)\n        );\n        path = newPath;\n      }\n      needRestore = true;\n    }\n\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(path, \"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill(path);\n      }\n    }\n\n    this.dependencyTracker?.recordDependencies(opIdx, Dependencies.fill);\n\n    if (needRestore) {\n      ctx.restore();\n      this.dependencyTracker?.restore(opIdx);\n    }\n    if (consumePath) {\n      this.consumePath(opIdx, path, intersect);\n    }\n  }\n\n  eoFill(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fill(opIdx, path);\n  }\n\n  fillStroke(opIdx, path) {\n    this.fill(opIdx, path, false);\n    this.stroke(opIdx, path, false);\n\n    this.consumePath(opIdx, path);\n  }\n\n  eoFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n\n  closeFillStroke(opIdx, path) {\n    this.fillStroke(opIdx, path);\n  }\n\n  closeEOFillStroke(opIdx, path) {\n    this.pendingEOFill = true;\n    this.fillStroke(opIdx, path);\n  }\n\n  endPath(opIdx, path) {\n    this.consumePath(opIdx, path);\n  }\n\n  rawFillPath(opIdx, path) {\n    this.ctx.fill(path);\n    this.dependencyTracker\n      ?.recordDependencies(opIdx, Dependencies.rawFillPath)\n      .recordOperation(opIdx);\n  }\n\n  // Clipping\n  clip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = NORMAL_CLIP;\n  }\n\n  eoClip(opIdx) {\n    this.dependencyTracker?.recordFutureForcedDependency(\"clipMode\", opIdx);\n    this.pendingClip = EO_CLIP;\n  }\n\n  // Text\n  beginText(opIdx) {\n    this.current.textMatrix = null;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n\n    this.dependencyTracker\n      ?.recordOpenMarker(opIdx)\n      .resetIncrementalData(\"sameLineText\")\n      .resetIncrementalData(\"moveText\", opIdx);\n  }\n\n  endText(opIdx) {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n\n    if (this.dependencyTracker) {\n      const { dependencyTracker } = this;\n      if (paths !== undefined) {\n        dependencyTracker\n          .recordFutureForcedDependency(\n            \"textClip\",\n            dependencyTracker.getOpenMarker()\n          )\n          .recordFutureForcedDependency(\"textClip\", opIdx);\n      }\n      dependencyTracker.recordCloseMarker(opIdx);\n    }\n\n    if (paths !== undefined) {\n      const newPath = new Path2D();\n      const invTransf = ctx.getTransform().invertSelf();\n      for (const { transform, x, y, fontSize, path } of paths) {\n        if (!path) {\n          continue; // Skip empty paths.\n        }\n        newPath.addPath(\n          path,\n          new DOMMatrix(transform)\n            .preMultiplySelf(invTransf)\n            .translate(x, y)\n            .scale(fontSize, -fontSize)\n        );\n      }\n\n      ctx.clip(newPath);\n    }\n    delete this.pendingTextPaths;\n  }\n\n  setCharSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"charSpacing\", opIdx);\n    this.current.charSpacing = spacing;\n  }\n\n  setWordSpacing(opIdx, spacing) {\n    this.dependencyTracker?.recordSimpleData(\"wordSpacing\", opIdx);\n    this.current.wordSpacing = spacing;\n  }\n\n  setHScale(opIdx, scale) {\n    this.dependencyTracker?.recordSimpleData(\"hScale\", opIdx);\n    this.current.textHScale = scale / 100;\n  }\n\n  setLeading(opIdx, leading) {\n    this.dependencyTracker?.recordSimpleData(\"leading\", opIdx);\n    this.current.leading = -leading;\n  }\n\n  setFont(opIdx, fontRefName, size) {\n    this.dependencyTracker\n      ?.recordSimpleData(\"font\", opIdx)\n      .recordNamedDependency(opIdx, fontRefName);\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || FONT_IDENTITY_MATRIX;\n\n    // A valid matrix needs all main diagonal elements to be non-zero\n    // This also ensures we bypass FF bugzilla bug #719844.\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      warn(\"Invalid font matrix for font \" + fontRefName);\n    }\n\n    // The spec for Tf (setFont) says that 'size' specifies the font 'scale',\n    // and in some docs this can be negative (inverted x-y axes).\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n\n    if (fontObj.isType3Font) {\n      return; // we don't need ctx.font for Type3 fonts\n    }\n\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface =\n      fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n\n    // Some font backends cannot handle fonts below certain size.\n    // Keeping the font at minimal size and using the fontSizeScale to change\n    // the current transformation matrix before the fillText/strokeText.\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=726227\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n\n  setTextRenderingMode(opIdx, mode) {\n    this.dependencyTracker?.recordSimpleData(\"textRenderingMode\", opIdx);\n    this.current.textRenderingMode = mode;\n  }\n\n  setTextRise(opIdx, rise) {\n    this.dependencyTracker?.recordSimpleData(\"textRise\", opIdx);\n    this.current.textRise = rise;\n  }\n\n  moveText(opIdx, x, y) {\n    this.dependencyTracker\n      ?.resetIncrementalData(\"sameLineText\")\n      .recordIncrementalData(\"moveText\", opIdx);\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n\n  setLeadingMoveText(opIdx, x, y) {\n    this.setLeading(opIdx, -y);\n    this.moveText(opIdx, x, y);\n  }\n\n  setTextMatrix(opIdx, matrix) {\n    this.dependencyTracker?.recordSimpleData(\"textMatrix\", opIdx);\n    const { current } = this;\n    current.textMatrix = matrix;\n    current.textMatrixScale = Math.hypot(matrix[0], matrix[1]);\n\n    current.x = current.lineX = 0;\n    current.y = current.lineY = 0;\n  }\n\n  nextLine(opIdx) {\n    this.moveText(opIdx, 0, this.current.leading);\n\n    this.dependencyTracker?.recordIncrementalData(\n      \"moveText\",\n      // 'leading' affects 'nextLine' operations. Rather than dealing\n      // with transitive dependencies, just mark everything that depends on\n      // the 'moveText' operation as depending on the 'leading' value.\n      this.dependencyTracker.getSimpleIndex(\"leading\") ?? opIdx\n    );\n  }\n\n  #getScaledPath(path, currentTransform, transform) {\n    const newPath = new Path2D();\n    newPath.addPath(\n      path,\n      new DOMMatrix(transform).invertSelf().multiplySelf(currentTransform)\n    );\n    return newPath;\n  }\n\n  paintChar(\n    opIdx,\n    character,\n    x,\n    y,\n    patternFillTransform,\n    patternStrokeTransform\n  ) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode =\n      textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(\n      textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG\n    );\n    const patternFill = current.patternFill && !font.missingFile;\n    const patternStroke = current.patternStroke && !font.missingFile;\n\n    let path;\n    if (\n      (font.disableFontFace ||\n        isAddToPathSet ||\n        patternFill ||\n        patternStroke) &&\n      !font.missingFile\n    ) {\n      path = font.getPathGenerator(this.commonObjs, character);\n    }\n\n    if (path && (font.disableFontFace || patternFill || patternStroke)) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.scale(fontSize, -fontSize);\n\n      this.dependencyTracker?.recordCharacterBBox(opIdx, ctx, font);\n\n      let currentTransform;\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (patternFillTransform) {\n          currentTransform = ctx.getTransform();\n          ctx.setTransform(...patternFillTransform);\n          const scaledPath = this.#getScaledPath(\n            path,\n            currentTransform,\n            patternFillTransform\n          );\n          ctx.fill(scaledPath);\n        } else {\n          ctx.fill(path);\n        }\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (patternStrokeTransform) {\n          currentTransform ||= ctx.getTransform();\n          ctx.setTransform(...patternStrokeTransform);\n          const { a, b, c, d } = currentTransform;\n          const invPatternTransform = Util.inverseTransform(\n            patternStrokeTransform\n          );\n          const transf = Util.transform(\n            [a, b, c, d, 0, 0],\n            invPatternTransform\n          );\n          Util.singularValueDecompose2dScale(transf, XY);\n\n          // Cancel the pattern scaling of the line width.\n          // If sx and sy are different, unfortunately we can't do anything and\n          // we'll have a rendering bug.\n          ctx.lineWidth *= Math.max(XY[0], XY[1]) / fontSize;\n          ctx.stroke(\n            this.#getScaledPath(path, currentTransform, patternStrokeTransform)\n          );\n        } else {\n          ctx.lineWidth /= fontSize;\n          ctx.stroke(path);\n        }\n      }\n      ctx.restore();\n    } else {\n      if (\n        fillStrokeMode === TextRenderingMode.FILL ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        ctx.fillText(character, x, y);\n        this.dependencyTracker?.recordCharacterBBox(\n          opIdx,\n          ctx,\n          font,\n          fontSize,\n          x,\n          y,\n          () => ctx.measureText(character)\n        );\n      }\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        if (this.dependencyTracker) {\n          this.dependencyTracker\n            ?.recordCharacterBBox(opIdx, ctx, font, fontSize, x, y, () =>\n              ctx.measureText(character)\n            )\n            .recordDependencies(opIdx, Dependencies.stroke);\n        }\n        ctx.strokeText(character, x, y);\n      }\n    }\n\n    if (isAddToPathSet) {\n      const paths = (this.pendingTextPaths ||= []);\n      paths.push({\n        transform: getCurrentTransform(ctx),\n        x,\n        y,\n        fontSize,\n        path,\n      });\n      this.dependencyTracker?.recordCharacterBBox(\n        opIdx,\n        ctx,\n        font,\n        fontSize,\n        x,\n        y\n      );\n    }\n  }\n\n  get isFontSubpixelAAEnabled() {\n    // Checks if anti-aliasing is enabled when scaled text is painted.\n    // On Windows GDI scaled fonts looks bad.\n    const { context: ctx } = this.cachedCanvases.getCanvas(\n      \"isFontSubpixelAAEnabled\",\n      10,\n      10\n    );\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return shadow(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n\n  showText(opIdx, glyphs) {\n    if (this.dependencyTracker) {\n      this.dependencyTracker\n        .recordDependencies(opIdx, Dependencies.showText)\n        .copyDependenciesFromIncrementalOperation(opIdx, \"sameLineText\")\n        .resetBBox(opIdx);\n      if (this.current.textRenderingMode & TextRenderingMode.ADD_TO_PATH_FLAG) {\n        this.dependencyTracker\n          .recordFutureForcedDependency(\"textClip\", opIdx)\n          .inheritPendingDependenciesAsFutureForcedDependencies();\n      }\n    }\n\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      this.showType3Text(opIdx, glyphs);\n      this.dependencyTracker\n        ?.recordOperation(opIdx)\n        .recordIncrementalData(\"sameLineText\", opIdx);\n      return undefined;\n    }\n\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      this.dependencyTracker?.recordOperation(opIdx);\n      return undefined;\n    }\n\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n\n    const simpleFillText =\n      current.textRenderingMode === TextRenderingMode.FILL &&\n      !font.disableFontFace &&\n      !current.patternFill;\n\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n\n    let patternFillTransform, patternStrokeTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.FILL\n      );\n      patternFillTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n\n    if (current.patternStroke) {\n      ctx.save();\n      const pattern = current.strokeColor.getPattern(\n        ctx,\n        this,\n        getCurrentTransformInverse(ctx),\n        PathType.STROKE\n      );\n      patternStrokeTransform = getCurrentTransform(ctx);\n      ctx.restore();\n      ctx.strokeStyle = pattern;\n    }\n\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode =\n        current.textRenderingMode & TextRenderingMode.FILL_STROKE_MASK;\n      if (\n        fillStrokeMode === TextRenderingMode.STROKE ||\n        fillStrokeMode === TextRenderingMode.FILL_STROKE\n      ) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n\n    ctx.lineWidth = lineWidth;\n\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      const joinedChars = chars.join(\"\");\n      ctx.fillText(joinedChars, 0, 0);\n      if (this.dependencyTracker !== null) {\n        const measure = ctx.measureText(joinedChars);\n        this.dependencyTracker\n          .recordBBox(\n            opIdx,\n            this.ctx,\n            -measure.actualBoundingBoxLeft,\n            measure.actualBoundingBoxRight,\n            -measure.actualBoundingBoxAscent,\n            measure.actualBoundingBoxDescent\n          )\n          .recordOperation(opIdx)\n          .recordIncrementalData(\"sameLineText\", opIdx);\n      }\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += (spacingDir * glyph * fontSize) / 1000;\n        continue;\n      }\n\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx =\n          -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n\n      let measure;\n\n      if (font.remeasure && width > 0) {\n        measure = ctx.measureText(character);\n\n        // Some standard fonts may not have the exact width: rescale per\n        // character if measured width is greater than expected glyph width\n        // and subpixel-aa is enabled, otherwise just center the glyph.\n        const measuredWidth =\n          ((measure.width * 1000) / fontSize) * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX +=\n            (((width - measuredWidth) / 2000) * fontSize) / fontSizeScale;\n        }\n      }\n\n      // Only attempt to draw the glyph if it is actually in the embedded font\n      // file or if there isn't a font file so the fallback font is shown.\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          // common case\n          ctx.fillText(character, scaledX, scaledY);\n\n          this.dependencyTracker?.recordCharacterBBox(\n            opIdx,\n            ctx,\n            // If we already measured the character, force usage of that\n            measure ? { bbox: null } : font,\n            fontSize / fontSizeScale,\n            scaledX,\n            scaledY,\n            () => measure ?? ctx.measureText(character)\n          );\n        } else {\n          this.paintChar(\n            opIdx,\n            character,\n            scaledX,\n            scaledY,\n            patternFillTransform,\n            patternStrokeTransform\n          );\n          if (accent) {\n            const scaledAccentX =\n              scaledX + (fontSize * accent.offset.x) / fontSizeScale;\n            const scaledAccentY =\n              scaledY - (fontSize * accent.offset.y) / fontSizeScale;\n            this.paintChar(\n              opIdx,\n              accent.fontChar,\n              scaledAccentX,\n              scaledAccentY,\n              patternFillTransform,\n              patternStrokeTransform\n            );\n          }\n        }\n      }\n\n      const charWidth = vertical\n        ? width * widthAdvanceScale - spacing * fontDirection\n        : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n\n    this.dependencyTracker\n      ?.recordOperation(opIdx)\n      .recordIncrementalData(\"sameLineText\", opIdx);\n    return undefined;\n  }\n\n  showType3Text(opIdx, glyphs) {\n    // Type3 fonts - each glyph is a \"mini-PDF\"\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible =\n      current.textRenderingMode === TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n\n    ctx.save();\n    if (current.textMatrix) {\n      ctx.transform(...current.textMatrix);\n    }\n    ctx.translate(current.x, current.y + current.textRise);\n\n    ctx.scale(textHScale, fontDirection);\n\n    // Type3 fonts have their own operator list. Avoid mixing it up with the\n    // dependency tracker of the main operator list.\n    const dependencyTracker = this.dependencyTracker;\n    this.dependencyTracker = dependencyTracker\n      ? new CanvasNestedDependencyTracker(dependencyTracker, opIdx)\n      : null;\n\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = (spacingDir * glyph * fontSize) / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        warn(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n      } else if (this.contentVisible) {\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n\n      const p = [glyph.width, 0];\n      Util.applyTransform(p, fontMatrix);\n      width = p[0] * fontSize + spacing;\n\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    if (dependencyTracker) {\n      this.dependencyTracker.recordNestedDependencies();\n      this.dependencyTracker = dependencyTracker;\n    }\n  }\n\n  // Type3 fonts\n  setCharWidth(opIdx, xWidth, yWidth) {\n    // We can safely ignore this since the width should be the same\n    // as the width in the Widths array.\n  }\n\n  setCharWidthAndBounds(opIdx, xWidth, yWidth, llx, lly, urx, ury) {\n    const clip = new Path2D();\n    clip.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip(clip);\n    this.dependencyTracker\n      ?.recordBBox(opIdx, this.ctx, llx, urx, lly, ury)\n      .recordClipBox(opIdx, this.ctx, llx, urx, lly, ury);\n    this.endPath(opIdx);\n  }\n\n  // Color\n  getColorN_Pattern(opIdx, IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const baseTransform = this.baseTransform || getCurrentTransform(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx =>\n          new CanvasGraphics(\n            ctx,\n            this.commonObjs,\n            this.objs,\n            this.canvasFactory,\n            this.filterFactory,\n            {\n              optionalContentConfig: this.optionalContentConfig,\n              markedContentStack: this.markedContentStack,\n            },\n            undefined,\n            undefined,\n            this.dependencyTracker\n              ? new CanvasNestedDependencyTracker(this.dependencyTracker, opIdx)\n              : null\n          ),\n      };\n      pattern = new TilingPattern(\n        IR,\n        this.ctx,\n        canvasGraphicsFactory,\n        baseTransform\n      );\n    } else {\n      pattern = this._getPattern(opIdx, IR[1], IR[2]);\n    }\n    return pattern;\n  }\n\n  setStrokeColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.current.strokeColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternStroke = true;\n  }\n\n  setFillColorN(opIdx, ...args) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.current.fillColor = this.getColorN_Pattern(opIdx, args);\n    this.current.patternFill = true;\n  }\n\n  setStrokeRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = color;\n    this.current.patternStroke = false;\n  }\n\n  setStrokeTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"strokeColor\", opIdx);\n    this.ctx.strokeStyle = this.current.strokeColor = \"transparent\";\n    this.current.patternStroke = false;\n  }\n\n  setFillRGBColor(opIdx, color) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n\n  setFillTransparent(opIdx) {\n    this.dependencyTracker?.recordSimpleData(\"fillColor\", opIdx);\n    this.ctx.fillStyle = this.current.fillColor = \"transparent\";\n    this.current.patternFill = false;\n  }\n\n  _getPattern(opIdx, objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(opIdx, objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n\n  shadingFill(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    this.save(opIdx);\n    const pattern = this._getPattern(opIdx, objId);\n    ctx.fillStyle = pattern.getPattern(\n      ctx,\n      this,\n      getCurrentTransformInverse(ctx),\n      PathType.SHADING\n    );\n\n    const inv = getCurrentTransformInverse(ctx);\n    if (inv) {\n      const { width, height } = ctx.canvas;\n      const minMax = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox([0, 0, width, height], inv, minMax);\n      const [x0, y0, x1, y1] = minMax;\n\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      // HACK to draw the gradient onto an infinite rectangle.\n      // PDF gradients are drawn across the entire image while\n      // Canvas only allows gradients to be drawn in a rectangle\n      // The following bug should allow us to remove this.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=664884\n\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n\n    this.dependencyTracker\n      ?.resetBBox(opIdx)\n      // TODO: Track proper bbox\n      .recordFullPageBBox(opIdx)\n      .recordDependencies(opIdx, Dependencies.transform)\n      .recordDependencies(opIdx, Dependencies.fill)\n      .recordOperation(opIdx);\n\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore(opIdx);\n  }\n\n  // Images\n  beginInlineImage() {\n    unreachable(\"Should not call beginInlineImage\");\n  }\n\n  beginImageData() {\n    unreachable(\"Should not call beginImageData\");\n  }\n\n  paintFormXObjectBegin(opIdx, matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save(opIdx);\n    this.baseTransformStack.push(this.baseTransform);\n\n    if (matrix) {\n      this.transform(opIdx, ...matrix);\n    }\n    this.baseTransform = getCurrentTransform(this.ctx);\n\n    if (bbox) {\n      Util.axialAlignedBoundingBox(\n        bbox,\n        this.baseTransform,\n        this.current.minMax\n      );\n      const [x0, y0, x1, y1] = bbox;\n      const clip = new Path2D();\n      clip.rect(x0, y0, x1 - x0, y1 - y0);\n      this.ctx.clip(clip);\n      this.dependencyTracker?.recordClipBox(opIdx, this.ctx, x0, x1, y0, y1);\n      this.endPath(opIdx);\n    }\n  }\n\n  paintFormXObjectEnd(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore(opIdx);\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n\n  beginGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    this.save(opIdx);\n    // If there's an active soft mask we don't want it enabled for the group, so\n    // clear it out. The mask and suspended canvas will be restored in endGroup.\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n\n    const currentCtx = this.ctx;\n    // TODO non-isolated groups - according to Rik at adobe non-isolated\n    // group results aren't usually that different and they even have tools\n    // that ignore this setting. Notes from Rik on implementing:\n    // - When you encounter an transparency group, create a new canvas with\n    // the dimensions of the bbox\n    // - copy the content from the previous canvas to the new canvas\n    // - draw as usual\n    // - remove the backdrop alpha:\n    // alphaNew = 1 - (1 - alpha)/(1 - alphaBackdrop) with 'alpha' the alpha\n    // value of your transparency group and 'alphaBackdrop' the alpha of the\n    // backdrop\n    // - remove background color:\n    // colorNew = color - alphaNew *colorBackdrop /(1 - alphaNew)\n    if (!group.isolated) {\n      info(\"TODO: Support non-isolated groups.\");\n    }\n\n    // TODO knockout - supposedly possible with the clever use of compositing\n    // modes.\n    if (group.knockout) {\n      warn(\"Knockout groups not supported.\");\n    }\n\n    const currentTransform = getCurrentTransform(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n\n    // Based on the current transform figure out how big the bounding box\n    // will actually be.\n    let bounds = MIN_MAX_INIT.slice();\n    Util.axialAlignedBoundingBox(\n      group.bbox,\n      getCurrentTransform(currentCtx),\n      bounds\n    );\n\n    // Clip the bounding box to the current canvas.\n    const canvasBounds = [\n      0,\n      0,\n      currentCtx.canvas.width,\n      currentCtx.canvas.height,\n    ];\n    bounds = Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    // Use ceil in case we're between sizes so we don't create canvas that is\n    // too small and make the canvas at least 1x1 pixels.\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    const drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    const drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      // Using two cache entries is case if masks are used one after another.\n      cacheId += \"_smask_\" + (this.smaskCounter++ % 2);\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(\n      cacheId,\n      drawnWidth,\n      drawnHeight\n    );\n    const groupCtx = scratchCanvas.context;\n\n    // Since we created a new canvas that is just the size of the bounding box\n    // we have to translate the group ctx.\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n\n    // Apply the bbox to the group context.\n    let clip = new Path2D();\n    const [x0, y0, x1, y1] = group.bbox;\n    clip.rect(x0, y0, x1 - x0, y1 - y0);\n    if (group.matrix) {\n      const path = new Path2D();\n      path.addPath(clip, new DOMMatrix(group.matrix));\n      clip = path;\n    }\n    groupCtx.clip(clip);\n\n    if (group.smask) {\n      // Saving state and cached mask to be used in setGState.\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null, // used during suspend operation\n      });\n    }\n    if (\n      !group.smask ||\n      // When this is not an SMask group, we only need to update the current\n      // transform if recording operations bboxes, so they the bboxes have the\n      // correct transform applied.\n      this.dependencyTracker\n    ) {\n      // Setup the current ctx so when the group is popped we draw it at the\n      // right location.\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.save();\n    }\n    // The transparency group inherits all off the current graphics state\n    // except the blend mode, soft mask, and alpha constants.\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.dependencyTracker\n      ?.inheritSimpleDataAsFutureForcedDependencies([\n        \"fillAlpha\",\n        \"strokeAlpha\",\n        \"globalCompositeOperation\",\n      ])\n      .pushBaseTransform(currentCtx);\n    this.setGState(opIdx, [\n      [\"BM\", \"source-over\"],\n      [\"ca\", 1],\n      [\"CA\", 1],\n    ]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n\n  endGroup(opIdx, group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    // Turn off image smoothing to avoid sub pixel interpolation which can\n    // look kind of blurry for some pdfs.\n    this.ctx.imageSmoothingEnabled = false;\n\n    this.dependencyTracker?.popBaseTransform();\n\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore(opIdx);\n      if (this.dependencyTracker) {\n        this.ctx.restore();\n      }\n    } else {\n      this.ctx.restore();\n      const currentMtx = getCurrentTransform(this.ctx);\n      this.restore(opIdx);\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = MIN_MAX_INIT.slice();\n      Util.axialAlignedBoundingBox(\n        [0, 0, groupCtx.canvas.width, groupCtx.canvas.height],\n        currentMtx,\n        dirtyBox\n      );\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n\n  beginAnnotation(opIdx, id, rect, transform, matrix, hasOwnCanvas) {\n    // The annotations are drawn just after the page content.\n    // The page content drawing can potentially have set a transform,\n    // a clipping path, whatever...\n    // So in order to have something clean, we restore the initial state.\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n\n    this.ctx.save();\n    this.save(opIdx);\n\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n\n    if (rect) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n\n        Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx), XY);\n        const { viewportScale } = this;\n        const canvasWidth = Math.ceil(\n          width * this.outputScaleX * viewportScale\n        );\n        const canvasHeight = Math.ceil(\n          height * this.outputScaleY * viewportScale\n        );\n\n        this.annotationCanvas = this.canvasFactory.create(\n          canvasWidth,\n          canvasHeight\n        );\n        const { canvas, context } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(XY[0], 0, 0, -XY[1], 0, height * XY[1]);\n\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n\n        // Consume a potential path before clipping.\n        this.endPath(opIdx);\n\n        const clip = new Path2D();\n        clip.rect(rect[0], rect[1], width, height);\n        this.ctx.clip(clip);\n      }\n    }\n\n    this.current = new CanvasExtraState(\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n\n    this.transform(opIdx, ...transform);\n    this.transform(opIdx, ...matrix);\n  }\n\n  endAnnotation(opIdx) {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n\n  paintImageMaskXObject(opIdx, img) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    const count = img.count;\n    img = this.getObject(opIdx, img.data, img);\n    img.count = count;\n\n    const ctx = this.ctx;\n    const mask = this._createMaskCanvas(opIdx, img);\n    const maskCanvas = mask.canvas;\n\n    ctx.save();\n    // The mask is drawn with the transform applied. Reset the current\n    // transform to draw to the identity.\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    this.dependencyTracker\n      ?.resetBBox(opIdx)\n      .recordBBox(\n        opIdx,\n        this.ctx,\n        mask.offsetX,\n        mask.offsetX + maskCanvas.width,\n        mask.offsetY,\n        mask.offsetY + maskCanvas.height\n      )\n      .recordOperation(opIdx);\n    ctx.restore();\n    this.compose();\n  }\n\n  paintImageMaskXObjectRepeat(\n    opIdx,\n    img,\n    scaleX,\n    skewX = 0,\n    skewY = 0,\n    scaleY,\n    positions\n  ) {\n    if (!this.contentVisible) {\n      return;\n    }\n\n    img = this.getObject(opIdx, img.data, img);\n\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = getCurrentTransform(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(opIdx, img);\n\n    ctx.setTransform(\n      1,\n      0,\n      0,\n      1,\n      mask.offsetX - currentTransform[4],\n      mask.offsetY - currentTransform[5]\n    );\n    this.dependencyTracker?.resetBBox(opIdx);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = Util.transform(currentTransform, [\n        scaleX,\n        skewX,\n        skewY,\n        scaleY,\n        positions[i],\n        positions[i + 1],\n      ]);\n\n      // Here we want to apply the transform at the origin,\n      // hence no additional computation is necessary.\n      ctx.drawImage(mask.canvas, trans[4], trans[5]);\n      this.dependencyTracker?.recordBBox(\n        opIdx,\n        this.ctx,\n        trans[4],\n        trans[4] + mask.canvas.width,\n        trans[5],\n        trans[5] + mask.canvas.height\n      );\n    }\n    ctx.restore();\n    this.compose();\n\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n\n  paintImageMaskXObjectGroup(opIdx, images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n\n    this.dependencyTracker\n      ?.resetBBox(opIdx)\n      .recordDependencies(opIdx, Dependencies.transformAndFill);\n\n    for (const image of images) {\n      const { data, width, height, transform } = image;\n\n      const maskCanvas = this.cachedCanvases.getCanvas(\n        \"maskCanvas\",\n        width,\n        height\n      );\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n\n      const img = this.getObject(opIdx, data, image);\n      putBinaryImageMask(maskCtx, img);\n\n      maskCtx.globalCompositeOperation = \"source-in\";\n\n      maskCtx.fillStyle = isPatternFill\n        ? fillColor.getPattern(\n            maskCtx,\n            this,\n            getCurrentTransformInverse(ctx),\n            PathType.FILL\n          )\n        : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n\n      maskCtx.restore();\n\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        maskCanvas.canvas,\n        0,\n        0,\n        width,\n        height,\n        0,\n        -1,\n        1,\n        1\n      );\n\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, width, 0, height);\n      ctx.restore();\n    }\n    this.compose();\n    this.dependencyTracker?.recordOperation(opIdx);\n  }\n\n  paintImageXObject(opIdx, objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    this.paintInlineImageXObject(opIdx, imgData);\n  }\n\n  paintImageXObjectRepeat(opIdx, objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(opIdx, objId);\n    if (!imgData) {\n      warn(\"Dependent image isn't ready yet\");\n      return;\n    }\n\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n      });\n    }\n    this.paintInlineImageXObjectGroup(opIdx, imgData, map);\n  }\n\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const { bitmap, width, height } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\n      \"inlineImage\",\n      width,\n      height\n    );\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n\n    return tmpCanvas.canvas;\n  }\n\n  paintInlineImageXObject(opIdx, imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n\n    this.save(opIdx);\n\n    // The filter, if any, will be applied in applyTransferMapsToBitmap.\n    // It must be applied to the image before rescaling else some artifacts\n    // could appear.\n    // The final restore will reset it to its value.\n    const { filter } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n\n    // scale the image to the unit square\n    ctx.scale(1 / width, -1 / height);\n\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (\n      (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement) ||\n      !imgData.data\n    ) {\n      // typeof check is needed due to node.js support, see issue #8489\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\n        \"inlineImage\",\n        width,\n        height\n      );\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    const scaled = this._scaleImage(\n      imgToPaint,\n      getCurrentTransformInverse(ctx)\n    );\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled(\n      getCurrentTransform(ctx),\n      imgData.interpolate\n    );\n\n    this.dependencyTracker\n      ?.resetBBox(opIdx)\n      .recordBBox(opIdx, ctx, 0, width, -height, 0)\n      .recordDependencies(opIdx, Dependencies.imageXObject)\n      .recordOperation(opIdx);\n\n    drawImageAtIntegerCoords(\n      ctx,\n      scaled.img,\n      0,\n      0,\n      scaled.paintWidth,\n      scaled.paintHeight,\n      0,\n      -height,\n      width,\n      height\n    );\n    this.compose();\n    this.restore(opIdx);\n  }\n\n  paintInlineImageXObjectGroup(opIdx, imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n\n    this.dependencyTracker?.resetBBox(opIdx);\n\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(\n        ctx,\n        imgToPaint,\n        entry.x,\n        entry.y,\n        entry.w,\n        entry.h,\n        0,\n        -1,\n        1,\n        1\n      );\n      this.dependencyTracker?.recordBBox(opIdx, ctx, 0, 1, -1, 0);\n      ctx.restore();\n    }\n    this.dependencyTracker?.recordOperation(opIdx);\n    this.compose();\n  }\n\n  paintSolidColorImageMask(opIdx) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.dependencyTracker\n      ?.resetBBox(opIdx)\n      .recordBBox(opIdx, this.ctx, 0, 1, 0, 1)\n      .recordDependencies(opIdx, Dependencies.fill)\n      .recordOperation(opIdx);\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n\n  // Marked content\n\n  markPoint(opIdx, tag) {\n    // TODO Marked content.\n  }\n\n  markPointProps(opIdx, tag, properties) {\n    // TODO Marked content.\n  }\n\n  beginMarkedContent(opIdx, tag) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    this.markedContentStack.push({\n      visible: true,\n    });\n  }\n\n  beginMarkedContentProps(opIdx, tag, properties) {\n    this.dependencyTracker?.beginMarkedContent(opIdx);\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties),\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true,\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n\n  endMarkedContent(opIdx) {\n    this.dependencyTracker?.endMarkedContent(opIdx);\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n\n  // Compatibility\n\n  beginCompat(opIdx) {\n    // TODO ignore undefined operators (should we do that anyway?)\n  }\n\n  endCompat(opIdx) {\n    // TODO stop ignoring undefined operators\n  }\n\n  // Helper functions\n\n  consumePath(opIdx, path, clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(path, \"evenodd\");\n        } else {\n          ctx.clip(path);\n        }\n      }\n      this.pendingClip = null;\n      this.dependencyTracker\n        ?.bboxToClipBoxDropOperation(opIdx)\n        .recordFutureForcedDependency(\"clipPath\", opIdx);\n    } else {\n      this.dependencyTracker?.recordOperation(opIdx);\n    }\n\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n  }\n\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = getCurrentTransform(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        // Fast path\n        this._cachedGetSinglePixelWidth =\n          1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n\n  getScaleForStroking() {\n    // A pixel has thicknessX = thicknessY = 1;\n    // A transformed pixel is a parallelogram and the thicknesses\n    // corresponds to the heights.\n    // The goal of this function is to rescale before setting the\n    // lineWidth in order to have both thicknesses greater or equal\n    // to 1 after transform.\n    if (this._cachedScaleForStroking[0] === -1) {\n      const { lineWidth } = this.current;\n      const { a, b, c, d } = this.ctx.getTransform();\n      let scaleX, scaleY;\n\n      if (b === 0 && c === 0) {\n        // Fast path\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        // A pixel (base (x, y)) is transformed by M into a parallelogram:\n        //  - its area is |det(M)|;\n        //  - heightY (orthogonal to Mx) has a length: |det(M)| / norm(Mx);\n        //  - heightX (orthogonal to My) has a length: |det(M)| / norm(My).\n        // heightX and heightY are the thicknesses of the transformed pixel\n        // and they must be both greater or equal to 1.\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n\n  // Rescale before stroking in order to have a final lineWidth\n  // with both thicknesses greater or equal to 1.\n  rescaleAndStroke(path, saveRestore) {\n    const {\n      ctx,\n      current: { lineWidth },\n    } = this;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n\n    if (scaleX === scaleY) {\n      ctx.lineWidth = (lineWidth || 1) * scaleX;\n      ctx.stroke(path);\n      return;\n    }\n\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n\n    ctx.scale(scaleX, scaleY);\n    SCALE_MATRIX.a = 1 / scaleX;\n    SCALE_MATRIX.d = 1 / scaleY;\n    const newPath = new Path2D();\n    newPath.addPath(path, SCALE_MATRIX);\n\n    // How the dashed line is rendered depends on the current transform...\n    // so we added a rescale to handle too thin lines and consequently\n    // the way the line is dashed will be modified.\n    // If scaleX === scaleY, the dashed lines will be rendered correctly\n    // else we'll have some bugs (but only with too thin lines).\n    // Here we take the max... why not taking the min... or something else.\n    // Anyway, as said it's buggy when scaleX !== scaleY.\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n\n    ctx.lineWidth = lineWidth || 1;\n    ctx.stroke(newPath);\n\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfor (const op in OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\nexport { CanvasGraphics };\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass GlobalWorkerOptions {\n  static #port = null;\n\n  static #src = \"\";\n\n  /**\n   * @type {Worker | null}\n   */\n  static get workerPort() {\n    return this.#port;\n  }\n\n  /**\n   * @param {Worker | null} workerPort - Defines global port for worker process.\n   *   Overrides the `workerSrc` option.\n   */\n  static set workerPort(val) {\n    if (\n      !(typeof Worker !== \"undefined\" && val instanceof Worker) &&\n      val !== null\n    ) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n\n  /**\n   * @type {string}\n   */\n  static get workerSrc() {\n    return this.#src;\n  }\n\n  /**\n   * @param {string} workerSrc - A string containing the path and filename of\n   *   the worker file.\n   *\n   *   NOTE: The `workerSrc` option should always be set, in order to prevent\n   *         any issues when using the PDF.js library.\n   */\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\nexport { GlobalWorkerOptions };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass Metadata {\n  #map;\n\n  #data;\n\n  constructor({ parsedData, rawData }) {\n    this.#map = parsedData;\n    this.#data = rawData;\n  }\n\n  getRaw() {\n    return this.#data;\n  }\n\n  get(name) {\n    return this.#map.get(name) ?? null;\n  }\n\n  [Symbol.iterator]() {\n    return this.#map.entries();\n  }\n}\n\nexport { Metadata };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  info,\n  RenderingIntentFlag,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport { MurmurHash3_64 } from \"../shared/murmurhash3.js\";\n\nconst INTERNAL = Symbol(\"INTERNAL\");\n\nclass OptionalContentGroup {\n  #isDisplay = false;\n\n  #isPrint = false;\n\n  #userSet = false;\n\n  #visible = true;\n\n  constructor(renderingIntent, { name, intent, usage, rbGroups }) {\n    this.#isDisplay = !!(renderingIntent & RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n    this.rbGroups = rbGroups;\n  }\n\n  /**\n   * @type {boolean}\n   */\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const { print, view } = this.usage;\n\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n\n  /**\n   * @ignore\n   */\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      unreachable(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\n\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n\n  #groups = new Map();\n\n  #initialHash = null;\n\n  #order = null;\n\n  constructor(data, renderingIntent = RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n\n    this.name = null;\n    this.creator = null;\n\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(\n        group.id,\n        new OptionalContentGroup(renderingIntent, group)\n      );\n    }\n\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n\n    // The following code must always run *last* in the constructor.\n    this.#initialHash = this.getHash();\n  }\n\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        warn(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      info(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        warn(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      // Per the spec, the expression should be preferred if available.\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        // Default\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            warn(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      warn(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    warn(`Unknown group type ${group.type}.`);\n    return true;\n  }\n\n  setVisibility(id, visible = true, preserveRB = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      warn(`Optional content group not found: ${id}`);\n      return;\n    }\n\n    // If the visibility is about to be set to `true` and the group belongs to\n    // any radiobutton groups, hide all other OCGs in these radiobutton groups,\n    // provided that radiobutton state relationships are to be preserved.\n    if (preserveRB && visible && group.rbGroups.length) {\n      for (const rbGroup of group.rbGroups) {\n        for (const otherId of rbGroup) {\n          if (otherId !== id) {\n            this.#groups.get(otherId)?._setVisible(INTERNAL, false, true);\n          }\n        }\n      }\n    }\n\n    group._setVisible(INTERNAL, !!visible, /* userSet = */ true);\n\n    this.#cachedGetHash = null;\n  }\n\n  setOCGState({ state, preserveRB }) {\n    let operator;\n\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          this.setVisibility(elem, true, preserveRB);\n          break;\n        case \"OFF\":\n          this.setVisibility(elem, false, preserveRB);\n          break;\n        case \"Toggle\":\n          this.setVisibility(elem, !group.visible, preserveRB);\n          break;\n      }\n    }\n\n    this.#cachedGetHash = null;\n  }\n\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new MurmurHash3_64();\n\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return (this.#cachedGetHash = hash.hexdigest());\n  }\n\n  [Symbol.iterator]() {\n    return this.#groups.entries();\n  }\n}\n\nexport { OptionalContentConfig };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"../interfaces\").IPDFStream} IPDFStream */\n/** @typedef {import(\"../interfaces\").IPDFStreamReader} IPDFStreamReader */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../interfaces\").IPDFStreamRangeReader} IPDFStreamRangeReader */\n\nimport { assert } from \"../shared/util.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\n/** @implements {IPDFStream} */\nclass PDFDataTransportStream {\n  constructor(\n    pdfDataRangeTransport,\n    { disableRange = false, disableStream = false }\n  ) {\n    assert(\n      pdfDataRangeTransport,\n      'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'\n    );\n    const { length, initialData, progressiveDone, contentDispositionFilename } =\n      pdfDataRangeTransport;\n\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n\n    if (initialData?.length > 0) {\n      // Prevent any possible issues by only transferring a Uint8Array that\n      // completely \"utilizes\" its underlying ArrayBuffer.\n      const buffer =\n        initialData instanceof Uint8Array &&\n        initialData.byteLength === initialData.buffer.byteLength\n          ? initialData.buffer\n          : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({ begin, chunk });\n    });\n\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({ loaded, total });\n    });\n\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({ chunk });\n    });\n\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n\n    pdfDataRangeTransport.transportReady();\n  }\n\n  _onReceiveData({ begin, chunk }) {\n    // Prevent any possible issues by only transferring a Uint8Array that\n    // completely \"utilizes\" its underlying ArrayBuffer.\n    const buffer =\n      chunk instanceof Uint8Array &&\n      chunk.byteLength === chunk.buffer.byteLength\n        ? chunk.buffer\n        : new Uint8Array(chunk).buffer;\n\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      assert(\n        found,\n        \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"\n      );\n    }\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      // Reporting to first range reader, if it exists.\n      this._rangeReaders[0]?.onProgress?.({ loaded: evt.loaded });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total,\n      });\n    }\n  }\n\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFDataTransportStream.getFullReader can only be called once.\"\n    );\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(\n      this,\n      queuedChunks,\n      this._progressiveDone,\n      this._contentDispositionFilename\n    );\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFDataTransportStreamReader {\n  constructor(\n    stream,\n    queuedChunks,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = isPdfFile(contentDispositionFilename)\n      ? contentDispositionFilename\n      : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // Ignore new data.\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n\n  get headersReady() {\n    return this._headersReady;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n\n    this.onProgress = null;\n  }\n\n  _enqueue(chunk) {\n    if (this._done) {\n      return; // ignore new data\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({ value: chunk, done: false });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({ value: undefined, done: true });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\nexport { PDFDataTransportStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, ResponseException } from \"../shared/util.js\";\nimport { getFilenameFromContentDispositionHeader } from \"./content_disposition.js\";\nimport { isPdfFile } from \"./display_utils.js\";\n\nfunction createHeaders(isHttp, httpHeaders) {\n  const headers = new Headers();\n\n  if (!isHttp || !httpHeaders || typeof httpHeaders !== \"object\") {\n    return headers;\n  }\n  for (const key in httpHeaders) {\n    const val = httpHeaders[key];\n    if (val !== undefined) {\n      headers.append(key, val);\n    }\n  }\n  return headers;\n}\n\nfunction getResponseOrigin(url) {\n  // Notably, null is distinct from \"null\" string (e.g. from file:-URLs).\n  return URL.parse(url)?.origin ?? null;\n}\n\nfunction validateRangeRequestCapabilities({\n  responseHeaders,\n  isHttp,\n  rangeChunkSize,\n  disableRange,\n}) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n    assert(\n      Number.isInteger(rangeChunkSize) && rangeChunkSize > 0,\n      \"rangeChunkSize must be an integer larger than zero.\"\n    );\n  }\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined,\n  };\n\n  const length = parseInt(responseHeaders.get(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n\n  returnValues.suggestedLength = length;\n\n  if (length <= 2 * rangeChunkSize) {\n    // The file size is smaller than the size of two chunks, so it does not\n    // make any sense to abort the request and retry with a range request.\n    return returnValues;\n  }\n\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (responseHeaders.get(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n\n  const contentEncoding = responseHeaders.get(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\n\nfunction extractFilenameFromHeader(responseHeaders) {\n  const contentDisposition = responseHeaders.get(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if (isPdfFile(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\n\nfunction createResponseError(status, url) {\n  return new ResponseException(\n    `Unexpected server response (${status}) while retrieving PDF \"${url}\".`,\n    status,\n    /* missing = */ status === 404 || (status === 0 && url.startsWith(\"file:\"))\n  );\n}\n\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\nexport {\n  createHeaders,\n  createResponseError,\n  extractFilenameFromHeader,\n  getResponseOrigin,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringToBytes } from \"../shared/util.js\";\n\n// This getFilenameFromContentDispositionHeader function is adapted from\n// https://github.com/Rob--W/open-in-browser/blob/7e2e35a38b8b4e981b11da7b2f01df0149049e92/extension/content-disposition.js\n// with the following changes:\n// - Modified to conform to PDF.js's coding style.\n// - Move return to the end of the function to prevent Babel from dropping the\n//   function declarations.\n\n/**\n * Extract file name from the Content-Disposition HTTP response header.\n *\n * @param {string} contentDisposition\n * @returns {string} Filename, if found in the Content-Disposition header.\n */\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n\n  // filename*=ext-value (\"ext-value\" from RFC 5987, referenced by RFC 6266).\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // Continuations (RFC 2231 section 3, referenced by RFC 5987 section 3.1).\n  // filename*n*=part\n  // filename*n=part\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    // RFC 2047, section\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n\n  // filename=value (RFC 5987, section 4.1).\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n\n  // After this line there are only function declarations. We cannot put\n  // \"return\" here for readability because babel would then drop the function\n  // declarations...\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\n      \"(?:^|;)\\\\s*\" +\n        attributePattern +\n        \"\\\\s*=\\\\s*\" +\n        // Captures: value = token | quoted-string\n        // (RFC 2616, section 3.6 and referenced by RFC 6266 4.1)\n        \"(\" +\n        '[^\";\\\\s][^;\\\\s]*' +\n        \"|\" +\n        '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' +\n        \")\",\n      flags\n    );\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, { fatal: true });\n        const buffer = stringToBytes(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {\n        // TextDecoder constructor threw - unrecognized encoding.\n      }\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      // Maybe multi-byte UTF-8.\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        // Try iso-8859-1 encoding.\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    // Iterate over all filename*n= and filename*n*= with n being an integer\n    // of at least zero. Any non-zero number must not start with '0'.\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match; // eslint-disable-line prefer-const\n      n = parseInt(n, 10);\n      if (n in matches) {\n        // Ignore anything after the invalid second filename*0.\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        // Numbers must be consecutive. Truncate when there is a hole.\n        break;\n      }\n      let [quot, part] = matches[n]; // eslint-disable-line prefer-const\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      // Find the first unescaped \" and terminate there.\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1; // Truncates and stop the iteration.\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    // Decodes \"ext-value\" from RFC 5987.\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      // Some servers send \"filename*=\" without encoding 'language' prefix,\n      // e.g. in https://github.com/Rob--W/open-in-browser/issues/26\n      // Let's accept the value like Firefox (57) (Chrome 62 rejects it).\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    // Ignore language (RFC 5987 section 3.2.1, and RFC 6266 section 4.1 ).\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    // RFC 2047-decode the result. Firefox tried to drop support for it, but\n    // backed out because some servers use it - https://bugzil.la/875615\n    // Firefox's condition for decoding is here: https://searchfox.org/mozilla-central/rev/4a590a5a15e35d88a3b23dd6ac3c471cf85b04a8/netwerk/mime/nsMIMEHeaderParamImpl.cpp#742-748\n\n    // We are more strict and only recognize RFC 2047-encoding if the value\n    // starts with \"=?\", since then it is likely that the full value is\n    // RFC 2047-encoded.\n\n    // Firefox also decodes words even where RFC 2047 section 5 states:\n    // \"An 'encoded-word' MUST NOT appear within a 'quoted-string'.\"\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    // RFC 2047, section 2.4\n    // encoded-word = \"=?\" charset \"?\" encoding \"?\" encoded-text \"?=\"\n    // charset = token (but let's restrict to characters that denote a\n    //       possibly valid encoding).\n    // encoding = q or b\n    // encoded-text = any printable ASCII character other than ? or space.\n    //        ... but Firefox permits ? and space.\n    return value.replaceAll(\n      /=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g,\n      function (matches, charset, encoding, text) {\n        if (encoding === \"q\" || encoding === \"Q\") {\n          // RFC 2047 section 4.2.\n          text = text.replaceAll(\"_\", \" \");\n          text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n            return String.fromCharCode(parseInt(hex, 16));\n          });\n          return textdecode(charset, text);\n        } // else encoding is b or B - base64 (RFC 2047 section 4.1)\n        try {\n          text = atob(text);\n        } catch {}\n        return textdecode(charset, text);\n      }\n    );\n  }\n\n  return \"\";\n}\n\nexport { getFilenameFromContentDispositionHeader };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AbortException, assert, warn } from \"../shared/util.js\";\nimport {\n  createHeaders,\n  createResponseError,\n  extractFilenameFromHeader,\n  getResponseOrigin,\n  validateRangeRequestCapabilities,\n  validateResponseStatus,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./fetch_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\",\n  };\n}\n\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  warn(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\n\n/** @implements {IPDFStream} */\nclass PDFFetchStream {\n  _responseOrigin = null;\n\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.headers = createHeaders(this.isHttp, source.httpHeaders);\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFFetchStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    // Always create a copy of the headers.\n    const headers = new Headers(stream.headers);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(headers, this._withCredentials, this._abortController)\n    )\n      .then(response => {\n        stream._responseOrigin = getResponseOrigin(response.url);\n\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseError(response.status, url);\n        }\n        this._reader = response.body.getReader();\n        this._headersCapability.resolve();\n\n        const responseHeaders = response.headers;\n\n        const { allowRangeRequests, suggestedLength } =\n          validateRangeRequestCapabilities({\n            responseHeaders,\n            isHttp: stream.isHttp,\n            rangeChunkSize: this._rangeChunkSize,\n            disableRange: this._disableRange,\n          });\n\n        this._isRangeSupported = allowRangeRequests;\n        // Setting right content length.\n        this._contentLength = suggestedLength || this._contentLength;\n\n        this._filename = extractFilenameFromHeader(responseHeaders);\n\n        // We need to stop reading when range is supported and streaming is\n        // disabled.\n        if (!this._isStreamingSupported && this._isRangeSupported) {\n          this.cancel(new AbortException(\"Streaming is disabled.\"));\n        }\n      })\n      .catch(this._headersCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n\n    this._abortController = new AbortController();\n    // Always create a copy of the headers.\n    const headers = new Headers(stream.headers);\n    headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n\n    const url = source.url;\n    fetch(\n      url,\n      createFetchOptions(headers, this._withCredentials, this._abortController)\n    )\n      .then(response => {\n        const responseOrigin = getResponseOrigin(response.url);\n\n        if (responseOrigin !== stream._responseOrigin) {\n          throw new Error(\n            `Expected range response-origin \"${responseOrigin}\" to match \"${stream._responseOrigin}\".`\n          );\n        }\n        if (!validateResponseStatus(response.status)) {\n          throw createResponseError(response.status, url);\n        }\n        this._readCapability.resolve();\n        this._reader = response.body.getReader();\n      })\n      .catch(this._readCapability.reject);\n\n    this.onProgress = null;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    const { value, done } = await this._reader.read();\n    if (done) {\n      return { value, done };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({ loaded: this._loaded });\n\n    return { value: getArrayBuffer(value), done: false };\n  }\n\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\nexport { PDFFetchStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, stringToBytes, warn } from \"../shared/util.js\";\nimport {\n  createHeaders,\n  createResponseError,\n  extractFilenameFromHeader,\n  getResponseOrigin,\n  validateRangeRequestCapabilities,\n} from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./network.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\n\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return stringToBytes(data).buffer;\n}\n\nclass NetworkManager {\n  _responseOrigin = null;\n\n  constructor({ url, httpHeaders, withCredentials }) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.headers = createHeaders(this.isHttp, httpHeaders);\n    this.withCredentials = withCredentials || false;\n\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = (this.pendingRequests[xhrId] = { xhr });\n\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const [key, val] of this.headers) {\n      xhr.setRequestHeader(key, val);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n\n    assert(args.onError, \"Expected `onError` callback to be provided.\");\n    xhr.onerror = () => {\n      args.onError(xhr.status);\n    };\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n\n    xhr.send(null);\n\n    return xhrId;\n  }\n\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return; // Maybe abortRequest was called...\n    }\n\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (!(xhrId in this.pendingRequests)) {\n      // The XHR request might have been aborted in onHeadersReceived()\n      // callback, in which case we should abort request.\n      return;\n    }\n\n    delete this.pendingRequests[xhrId];\n\n    // Success status == 0 can be on ftp, file and other protocols.\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n\n    // From http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.2:\n    // \"A server MAY ignore the Range header\". This means it's possible to\n    // get a 200 rather than a 206 response from a range request.\n    const ok_response_on_range_request =\n      xhrStatus === OK_RESPONSE &&\n      pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n\n    if (\n      !ok_response_on_range_request &&\n      xhrStatus !== pendingRequest.expectedStatus\n    ) {\n      pendingRequest.onError(xhr.status);\n      return;\n    }\n\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      if (matches) {\n        pendingRequest.onDone({\n          begin: parseInt(matches[1], 10),\n          chunk,\n        });\n      } else {\n        warn(`Missing or invalid \"Content-Range\" header.`);\n        pendingRequest.onError(0);\n      }\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk,\n      });\n    } else {\n      pendingRequest.onError(xhr.status);\n    }\n  }\n\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\n\n/** @implements {IPDFStream} */\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source);\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNetworkStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(\n      this._manager,\n      this._source\n    );\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(\n      this._manager,\n      begin,\n      end\n    );\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\n/** @implements {IPDFStreamReader} */\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n\n    this._url = source.url;\n    this._fullRequestId = manager.request({\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    });\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length; // Optional\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n\n    this.onProgress = null;\n  }\n\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n\n    this._manager._responseOrigin = getResponseOrigin(\n      fullRequestXhr.responseURL\n    );\n\n    const rawResponseHeaders = fullRequestXhr.getAllResponseHeaders();\n    const responseHeaders = new Headers(\n      rawResponseHeaders\n        ? rawResponseHeaders\n            .trimStart()\n            .replace(/[^\\S ]+$/, \"\") // Not `trimEnd`, to keep regular spaces.\n            .split(/[\\r\\n]+/)\n            .map(x => {\n              const [key, ...val] = x.split(\": \");\n              return [key, val.join(\": \")];\n            })\n        : []\n    );\n\n    const { allowRangeRequests, suggestedLength } =\n      validateRangeRequestCapabilities({\n        responseHeaders,\n        isHttp: this._manager.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange,\n      });\n\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    // Setting right content length.\n    this._contentLength = suggestedLength || this._contentLength;\n\n    this._filename = extractFilenameFromHeader(responseHeaders);\n\n    if (this._isRangeSupported) {\n      // NOTE: by cancelling the full request, and then issuing range\n      // requests, there will be an issue for sites where you can only\n      // request the pdf once. However, if this is the case, then the\n      // server should not be returning that it can support range requests.\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n\n    this._headersCapability.resolve();\n  }\n\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({ value: data.chunk, done: false });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n  }\n\n  _onError(status) {\n    this._storedError = createResponseError(status, this._url);\n    this._headersCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength,\n    });\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  async read() {\n    await this._headersCapability.promise;\n\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    this._headersCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\n\n/** @implements {IPDFStreamRangeReader} */\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n\n    this._url = manager.url;\n    this._requestId = manager.request({\n      begin,\n      end,\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this),\n    });\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n\n  _onHeadersReceived() {\n    const responseOrigin = getResponseOrigin(\n      this._manager.getRequestXhr(this._requestId)?.responseURL\n    );\n\n    if (responseOrigin !== this._manager._responseOrigin) {\n      this._storedError = new Error(\n        `Expected range response-origin \"${responseOrigin}\" to match \"${this._manager._responseOrigin}\".`\n      );\n      this._onError(0);\n    }\n  }\n\n  _close() {\n    this.onClosed?.(this);\n  }\n\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({ value: chunk, done: false });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n\n  _onError(status) {\n    this._storedError ??= createResponseError(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({ loaded: evt.loaded });\n    }\n  }\n\n  get isStreamingSupported() {\n    return false;\n  }\n\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return { value: chunk, done: false };\n    }\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({ value: undefined, done: true });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\nexport { PDFNetworkStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\nimport { AbortException, assert } from \"../shared/util.js\";\nimport { createResponseError } from \"./network_utils.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n  throw new Error(\n    'Module \"./node_stream.js\" shall not be used with MOZCENTRAL builds.'\n  );\n}\n\nconst urlRegex = /^[a-z][a-z0-9\\-+.]+:/i;\n\nfunction parseUrlOrPath(sourceUrl) {\n  if (urlRegex.test(sourceUrl)) {\n    return new URL(sourceUrl);\n  }\n  const url = process.getBuiltinModule(\"url\");\n  return new URL(url.pathToFileURL(sourceUrl));\n}\n\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrlOrPath(source.url);\n    assert(\n      this.url.protocol === \"file:\",\n      \"PDFNodeStream only supports file:// URLs.\"\n    );\n\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n\n  getFullReader() {\n    assert(\n      !this._fullRequestReader,\n      \"PDFNodeStream.getFullReader can only be called once.\"\n    );\n    this._fullRequestReader = new PDFNodeStreamFsFullReader(this);\n    return this._fullRequestReader;\n  }\n\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = new PDFNodeStreamFsRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\n\nclass PDFNodeStreamFsFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length; // optional\n    this._loaded = 0;\n    this._filename = null;\n\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n\n    const fs = process.getBuiltinModule(\"fs\");\n    fs.promises.lstat(this._url).then(\n      stat => {\n        // Setting right content length.\n        this._contentLength = stat.size;\n\n        this._setReadableStream(fs.createReadStream(this._url));\n        this._headersCapability.resolve();\n      },\n      error => {\n        if (error.code === \"ENOENT\") {\n          error = createResponseError(/* status = */ 0, this._url.href);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n      }\n    );\n  }\n\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n\n  get filename() {\n    return this._filename;\n  }\n\n  get contentLength() {\n    return this._contentLength;\n  }\n\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength,\n    });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readable to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // We need to stop reading when range is supported and streaming is\n    // disabled.\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new AbortException(\"streaming is disabled\"));\n    }\n\n    // Destroy ReadableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nclass PDFNodeStreamFsRangeReader {\n  constructor(stream, start, end) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n\n    const fs = process.getBuiltinModule(\"fs\");\n    this._setReadableStream(\n      fs.createReadStream(this._url, { start, end: end - 1 })\n    );\n  }\n\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return { value: undefined, done: true };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({ loaded: this._loaded });\n\n    // Ensure that `read()` method returns ArrayBuffer.\n    const buffer = new Uint8Array(chunk).buffer;\n    return { value: buffer, done: false };\n  }\n\n  cancel(reason) {\n    // Call `this._error()` method when cancel is called\n    // before _readableStream is set.\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"end\", () => {\n      // Destroy readableStream to minimize resource usage.\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n\n    // Destroy readableStream if already in errored state.\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\n\nexport { PDFNodeStream };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\n\n/**\n * A PDF document and page is built of many objects. E.g. there are objects for\n * fonts, images, rendering code, etc. These objects may get processed inside of\n * a worker. This class implements some basic methods to manage these objects.\n */\nclass PDFObjects {\n  #objs = Object.create(null);\n\n  /**\n   * Ensures there is an object defined for `objId`.\n   *\n   * @param {string} objId\n   * @returns {Object}\n   */\n  #ensureObj(objId) {\n    return (this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA,\n    });\n  }\n\n  /**\n   * If called *without* callback, this returns the data of `objId` but the\n   * object needs to be resolved. If it isn't, this method throws.\n   *\n   * If called *with* a callback, the callback is called with the data of the\n   * object once the object is resolved. That means, if you call this method\n   * and the object is already resolved, the callback gets called right away.\n   *\n   * @param {string} objId\n   * @param {function} [callback]\n   * @returns {any}\n   */\n  get(objId, callback = null) {\n    // If there is a callback, then the get can be async and the object is\n    // not required to be resolved right now.\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    // If there isn't a callback, the user expects to get the resolved data\n    // directly.\n    const obj = this.#objs[objId];\n    // If there isn't an object yet or the object isn't resolved, then the\n    // data isn't ready yet!\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n\n  /**\n   * @param {string} objId\n   * @returns {boolean}\n   */\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n\n  /**\n   * @param {string} objId\n   * @returns {boolean}\n   */\n  delete(objId) {\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      // Only allow removing the object *after* it's been resolved.\n      return false;\n    }\n    delete this.#objs[objId];\n    return true;\n  }\n\n  /**\n   * Resolves the object `objId` with optional `data`.\n   *\n   * @param {string} objId\n   * @param {any} [data]\n   */\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n\n  clear() {\n    for (const objId in this.#objs) {\n      const { data } = this.#objs[objId];\n      data?.bitmap?.close(); // Release any `ImageBitmap` data.\n    }\n    this.#objs = Object.create(null);\n  }\n\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const { data } = this.#objs[objId];\n\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\n\nexport { PDFObjects };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nimport {\n  AbortException,\n  FeatureTest,\n  shadow,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { OutputScale, setLayerDimensions } from \"./display_utils.js\";\n\n/**\n * @typedef {Object} TextLayerParameters\n * @property {ReadableStream | TextContent} textContentSource - Text content to\n *   render, i.e. the value returned by the page's `streamTextContent` or\n *   `getTextContent` method.\n * @property {HTMLElement} container - The DOM node that will contain the text\n *   runs.\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n */\n\n/**\n * @typedef {Object} TextLayerUpdateParameters\n * @property {PageViewport} viewport - The target viewport to properly layout\n *   the text runs.\n * @property {function} [onBefore] - Callback invoked before the textLayer is\n *   updated in the DOM.\n */\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\n\nclass TextLayer {\n  #capability = Promise.withResolvers();\n\n  #container = null;\n\n  #disableProcessItems = false;\n\n  #fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n\n  #lang = null;\n\n  #layoutTextParams = null;\n\n  #pageHeight = 0;\n\n  #pageWidth = 0;\n\n  #reader = null;\n\n  #rootContainer = null;\n\n  #rotation = 0;\n\n  #scale = 0;\n\n  #styleCache = Object.create(null);\n\n  #textContentItemsStr = [];\n\n  #textContentSource = null;\n\n  #textDivs = [];\n\n  #textDivProperties = new WeakMap();\n\n  #transform = null;\n\n  static #ascentCache = new Map();\n\n  static #canvasContexts = new Map();\n\n  static #canvasCtxFonts = new WeakMap();\n\n  static #minFontSize = null;\n\n  static #pendingTextLayers = new Set();\n\n  /**\n   * @param {TextLayerParameters} options\n   */\n  constructor({ textContentSource, container, viewport }) {\n    if (textContentSource instanceof ReadableStream) {\n      this.#textContentSource = textContentSource;\n    } else if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) &&\n      typeof textContentSource === \"object\"\n    ) {\n      this.#textContentSource = new ReadableStream({\n        start(controller) {\n          controller.enqueue(textContentSource);\n          controller.close();\n        },\n      });\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    this.#container = this.#rootContainer = container;\n\n    this.#scale = viewport.scale * OutputScale.pixelRatio;\n    this.#rotation = viewport.rotation;\n    this.#layoutTextParams = {\n      div: null,\n      properties: null,\n      ctx: null,\n    };\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n    this.#transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this.#pageWidth = pageWidth;\n    this.#pageHeight = pageHeight;\n\n    TextLayer.#ensureMinFontSizeComputed();\n\n    setLayerDimensions(container, viewport);\n\n    // Always clean-up the temporary canvas once rendering is no longer pending.\n    this.#capability.promise\n      .finally(() => {\n        TextLayer.#pendingTextLayers.delete(this);\n        this.#layoutTextParams = null;\n        this.#styleCache = null;\n      })\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"pageWidth\", {\n        get() {\n          return this.#pageWidth;\n        },\n      });\n      Object.defineProperty(this, \"pageHeight\", {\n        get() {\n          return this.#pageHeight;\n        },\n      });\n    }\n  }\n\n  static get fontFamilyMap() {\n    const { isWindows, isFirefox } = FeatureTest.platform;\n    return shadow(\n      this,\n      \"fontFamilyMap\",\n      new Map([\n        [\n          \"sans-serif\",\n          `${isWindows && isFirefox ? \"Calibri, \" : \"\"}sans-serif`,\n        ],\n        [\n          \"monospace\",\n          `${isWindows && isFirefox ? \"Lucida Console, \" : \"\"}monospace`,\n        ],\n      ])\n    );\n  }\n\n  /**\n   * Render the textLayer.\n   * @returns {Promise}\n   */\n  render() {\n    const pump = () => {\n      this.#reader.read().then(({ value, done }) => {\n        if (done) {\n          this.#capability.resolve();\n          return;\n        }\n        this.#lang ??= value.lang;\n        Object.assign(this.#styleCache, value.styles);\n        this.#processItems(value.items);\n        pump();\n      }, this.#capability.reject);\n    };\n    this.#reader = this.#textContentSource.getReader();\n    TextLayer.#pendingTextLayers.add(this);\n    pump();\n\n    return this.#capability.promise;\n  }\n\n  /**\n   * Update a previously rendered textLayer, if necessary.\n   * @param {TextLayerUpdateParameters} options\n   * @returns {undefined}\n   */\n  update({ viewport, onBefore = null }) {\n    const scale = viewport.scale * OutputScale.pixelRatio;\n    const rotation = viewport.rotation;\n\n    if (rotation !== this.#rotation) {\n      onBefore?.();\n      this.#rotation = rotation;\n      setLayerDimensions(this.#rootContainer, { rotation });\n    }\n\n    if (scale !== this.#scale) {\n      onBefore?.();\n      this.#scale = scale;\n      const params = {\n        div: null,\n        properties: null,\n        ctx: TextLayer.#getCtx(this.#lang),\n      };\n      for (const div of this.#textDivs) {\n        params.properties = this.#textDivProperties.get(div);\n        params.div = div;\n        this.#layout(params);\n      }\n    }\n  }\n\n  /**\n   * Cancel rendering of the textLayer.\n   * @returns {undefined}\n   */\n  cancel() {\n    const abortEx = new AbortException(\"TextLayer task cancelled.\");\n\n    this.#reader?.cancel(abortEx).catch(() => {\n      // Avoid \"Uncaught promise\" messages in the console.\n    });\n    this.#reader = null;\n\n    this.#capability.reject(abortEx);\n  }\n\n  /**\n   * @type {Array<HTMLElement>} HTML elements that correspond to the text items\n   *   of the textContent input.\n   *   This is output and will initially be set to an empty array.\n   */\n  get textDivs() {\n    return this.#textDivs;\n  }\n\n  /**\n   * @type {Array<string>} Strings that correspond to the `str` property of\n   *   the text items of the textContent input.\n   *   This is output and will initially be set to an empty array\n   */\n  get textContentItemsStr() {\n    return this.#textContentItemsStr;\n  }\n\n  #processItems(items) {\n    if (this.#disableProcessItems) {\n      return;\n    }\n    this.#layoutTextParams.ctx ??= TextLayer.#getCtx(this.#lang);\n\n    const textDivs = this.#textDivs,\n      textContentItemsStr = this.#textContentItemsStr;\n\n    for (const item of items) {\n      // No point in rendering many divs as it would make the browser\n      // unusable even after the divs are rendered.\n      if (textDivs.length > MAX_TEXT_DIVS_TO_RENDER) {\n        warn(\"Ignoring additional textDivs for performance reasons.\");\n\n        this.#disableProcessItems = true; // Avoid multiple warnings for one page.\n        return;\n      }\n\n      if (item.str === undefined) {\n        if (\n          item.type === \"beginMarkedContentProps\" ||\n          item.type === \"beginMarkedContent\"\n        ) {\n          const parent = this.#container;\n          this.#container = document.createElement(\"span\");\n          this.#container.classList.add(\"markedContent\");\n          if (item.id) {\n            this.#container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this.#container);\n        } else if (item.type === \"endMarkedContent\") {\n          this.#container = this.#container.parentNode;\n        }\n        continue;\n      }\n      textContentItemsStr.push(item.str);\n      this.#appendText(item);\n    }\n  }\n\n  #appendText(geom) {\n    // Initialize all used properties to keep the caches monomorphic.\n    const textDiv = document.createElement(\"span\");\n    const textDivProperties = {\n      angle: 0,\n      canvasWidth: 0,\n      hasText: geom.str !== \"\",\n      hasEOL: geom.hasEOL,\n      fontSize: 0,\n    };\n    this.#textDivs.push(textDiv);\n\n    const tx = Util.transform(this.#transform, geom.transform);\n    let angle = Math.atan2(tx[1], tx[0]);\n    const style = this.#styleCache[geom.fontName];\n    if (style.vertical) {\n      angle += Math.PI / 2;\n    }\n\n    let fontFamily =\n      (this.#fontInspectorEnabled && style.fontSubstitution) ||\n      style.fontFamily;\n\n    // Workaround for bug 1922063.\n    fontFamily = TextLayer.fontFamilyMap.get(fontFamily) || fontFamily;\n    const fontHeight = Math.hypot(tx[2], tx[3]);\n    const fontAscent =\n      fontHeight * TextLayer.#getAscent(fontFamily, style, this.#lang);\n\n    let left, top;\n    if (angle === 0) {\n      left = tx[4];\n      top = tx[5] - fontAscent;\n    } else {\n      left = tx[4] + fontAscent * Math.sin(angle);\n      top = tx[5] - fontAscent * Math.cos(angle);\n    }\n\n    const scaleFactorStr = \"calc(var(--total-scale-factor) *\";\n    const divStyle = textDiv.style;\n    // Setting the style properties individually, rather than all at once,\n    // should be OK since the `textDiv` isn't appended to the document yet.\n    if (this.#container === this.#rootContainer) {\n      divStyle.left = `${((100 * left) / this.#pageWidth).toFixed(2)}%`;\n      divStyle.top = `${((100 * top) / this.#pageHeight).toFixed(2)}%`;\n    } else {\n      // We're in a marked content span, hence we can't use percents.\n      divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n      divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n    }\n    // We multiply the font size by #minFontSize, and then #layout will\n    // scale the element by 1/#minFontSize. This allows us to effectively\n    // ignore the minimum font size enforced by the browser, so that the text\n    // layer <span>s can always match the size of the text in the canvas.\n    divStyle.fontSize = `${scaleFactorStr}${(TextLayer.#minFontSize * fontHeight).toFixed(2)}px)`;\n    divStyle.fontFamily = fontFamily;\n\n    textDivProperties.fontSize = fontHeight;\n\n    // Keeps screen readers from pausing on every new text span.\n    textDiv.setAttribute(\"role\", \"presentation\");\n\n    textDiv.textContent = geom.str;\n    // geom.dir may be 'ttb' for vertical texts.\n    textDiv.dir = geom.dir;\n\n    // `fontName` is only used by the FontInspector, and we only use `dataset`\n    // here to make the font name available in the debugger.\n    if (this.#fontInspectorEnabled) {\n      textDiv.dataset.fontName =\n        style.fontSubstitutionLoadedName || geom.fontName;\n    }\n    if (angle !== 0) {\n      textDivProperties.angle = angle * (180 / Math.PI);\n    }\n    // We don't bother scaling single-char text divs, because it has very\n    // little effect on text highlighting. This makes scrolling on docs with\n    // lots of such divs a lot faster.\n    let shouldScaleText = false;\n    if (geom.str.length > 1) {\n      shouldScaleText = true;\n    } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n      const absScaleX = Math.abs(geom.transform[0]),\n        absScaleY = Math.abs(geom.transform[3]);\n      // When the horizontal/vertical scaling differs significantly, also scale\n      // even single-char text to improve highlighting (fixes issue11713.pdf).\n      if (\n        absScaleX !== absScaleY &&\n        Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5\n      ) {\n        shouldScaleText = true;\n      }\n    }\n    if (shouldScaleText) {\n      textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n    }\n    this.#textDivProperties.set(textDiv, textDivProperties);\n\n    // Finally, layout and append the text to the DOM.\n    this.#layoutTextParams.div = textDiv;\n    this.#layoutTextParams.properties = textDivProperties;\n    this.#layout(this.#layoutTextParams);\n\n    if (textDivProperties.hasText) {\n      this.#container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this.#container.append(br);\n    }\n  }\n\n  #layout(params) {\n    const { div, properties, ctx } = params;\n    const { style } = div;\n\n    let transform = \"\";\n    if (TextLayer.#minFontSize > 1) {\n      transform = `scale(${1 / TextLayer.#minFontSize})`;\n    }\n\n    if (properties.canvasWidth !== 0 && properties.hasText) {\n      const { fontFamily } = style;\n      const { canvasWidth, fontSize } = properties;\n\n      TextLayer.#ensureCtxFont(ctx, fontSize * this.#scale, fontFamily);\n      // Only measure the width for multi-char text divs, see `appendText`.\n      const { width } = ctx.measureText(div.textContent);\n\n      if (width > 0) {\n        transform = `scaleX(${(canvasWidth * this.#scale) / width}) ${transform}`;\n      }\n    }\n    if (properties.angle !== 0) {\n      transform = `rotate(${properties.angle}deg) ${transform}`;\n    }\n    if (transform.length > 0) {\n      style.transform = transform;\n    }\n  }\n\n  /**\n   * Clean-up global textLayer data.\n   * @returns {undefined}\n   */\n  static cleanup() {\n    if (this.#pendingTextLayers.size > 0) {\n      return;\n    }\n    this.#ascentCache.clear();\n\n    for (const { canvas } of this.#canvasContexts.values()) {\n      canvas.remove();\n    }\n    this.#canvasContexts.clear();\n  }\n\n  static #getCtx(lang = null) {\n    let ctx = this.#canvasContexts.get((lang ||= \"\"));\n    if (!ctx) {\n      // We don't use an OffscreenCanvas here because we use serif/sans serif\n      // fonts with it and they depends on the locale.\n      // In Firefox, the <html> element get a lang attribute that depends on\n      // what Fluent returns for the locale and the OffscreenCanvas uses\n      // the OS locale.\n      // Those two locales can be different and consequently the used fonts will\n      // be different (see bug 1869001).\n      // Ideally, we should use in the text layer the fonts we've in the pdf (or\n      // their replacements when they aren't embedded) and then we can use an\n      // OffscreenCanvas.\n      const canvas = document.createElement(\"canvas\");\n      canvas.className = \"hiddenCanvasElement\";\n      canvas.lang = lang;\n      document.body.append(canvas);\n      ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: true,\n      });\n      this.#canvasContexts.set(lang, ctx);\n\n      // Also, initialize state for the `#ensureCtxFont` method.\n      this.#canvasCtxFonts.set(ctx, { size: 0, family: \"\" });\n    }\n    return ctx;\n  }\n\n  static #ensureCtxFont(ctx, size, family) {\n    const cached = this.#canvasCtxFonts.get(ctx);\n    if (size === cached.size && family === cached.family) {\n      return; // The font is already set.\n    }\n    ctx.font = `${size}px ${family}`;\n    cached.size = size;\n    cached.family = family;\n  }\n\n  /**\n   * Compute the minimum font size enforced by the browser.\n   */\n  static #ensureMinFontSizeComputed() {\n    if (this.#minFontSize !== null) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.style.opacity = 0;\n    div.style.lineHeight = 1;\n    div.style.fontSize = \"1px\";\n    div.style.position = \"absolute\";\n    div.textContent = \"X\";\n    document.body.append(div);\n    // In `display:block` elements contain a single line of text,\n    // the height matches the line height (which, when set to 1,\n    // matches the actual font size).\n    this.#minFontSize = div.getBoundingClientRect().height;\n    div.remove();\n  }\n\n  static #getAscent(fontFamily, style, lang) {\n    const cachedAscent = this.#ascentCache.get(fontFamily);\n    if (cachedAscent) {\n      return cachedAscent;\n    }\n    const ctx = this.#getCtx(lang);\n\n    ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n    this.#ensureCtxFont(ctx, DEFAULT_FONT_SIZE, fontFamily);\n    const metrics = ctx.measureText(\"\");\n\n    const ascent = metrics.fontBoundingBoxAscent;\n    const descent = Math.abs(metrics.fontBoundingBoxDescent);\n\n    ctx.canvas.width = ctx.canvas.height = 0;\n    let ratio = 0.8; // DEFAULT_FONT_ASCENT\n\n    if (ascent) {\n      ratio = ascent / (ascent + descent);\n    } else {\n      if (\n        (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        FeatureTest.platform.isFirefox\n      ) {\n        warn(\n          \"Enable the `dom.textMetrics.fontBoundingBox.enabled` preference \" +\n            \"in `about:config` to improve TextLayer rendering.\"\n        );\n      }\n      if (style.ascent) {\n        ratio = style.ascent;\n      } else if (style.descent) {\n        ratio = 1 + style.descent;\n      }\n    }\n\n    this.#ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n}\n\nexport { TextLayer };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").TextContent} TextContent */\n\nclass XfaText {\n  /**\n   * Walk an XFA tree and create an array of text nodes that is compatible\n   * with a regular PDFs TextContent. Currently, only TextItem.str is supported,\n   * all other fields and styles haven't been implemented.\n   *\n   * @param {Object} xfa - An XFA fake DOM object.\n   *\n   * @returns {TextContent}\n   */\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null),\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str,\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n\n  /**\n   * @param {string} name - DOM node name. (lower case)\n   *\n   * @returns {boolean} true if the DOM node should have a corresponding text\n   * node.\n   */\n  static shouldBuildText(name) {\n    return !(\n      name === \"textarea\" ||\n      name === \"input\" ||\n      name === \"option\" ||\n      name === \"select\"\n    );\n  }\n}\n\nexport { XfaText };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module pdfjsLib\n */\n\nimport {\n  AbortException,\n  AnnotationMode,\n  assert,\n  FeatureTest,\n  getVerbosityLevel,\n  info,\n  isNodeJS,\n  RenderingIntentFlag,\n  setVerbosityLevel,\n  shadow,\n  unreachable,\n  warn,\n} from \"../shared/util.js\";\nimport {\n  AnnotationStorage,\n  PrintAnnotationStorage,\n  SerializableEmpty,\n} from \"./annotation_storage.js\";\nimport {\n  deprecated,\n  isDataScheme,\n  isValidFetchUrl,\n  PageViewport,\n  RenderingCancelledException,\n  StatTimer,\n} from \"./display_utils.js\";\nimport { FontFaceObject, FontLoader } from \"./font_loader.js\";\nimport {\n  getDataProp,\n  getFactoryUrlProp,\n  getUrlProp,\n  isRefProxy,\n  LoopbackPort,\n} from \"./api_utils.js\";\nimport { MessageHandler, wrapReason } from \"../shared/message_handler.js\";\nimport {\n  NodeCanvasFactory,\n  NodeCMapReaderFactory,\n  NodeFilterFactory,\n  NodeStandardFontDataFactory,\n  NodeWasmFactory,\n} from \"display-node_utils\";\nimport { CanvasDependencyTracker } from \"./canvas_dependency_tracker.js\";\nimport { CanvasGraphics } from \"./canvas.js\";\nimport { DOMCanvasFactory } from \"./canvas_factory.js\";\nimport { DOMCMapReaderFactory } from \"display-cmap_reader_factory\";\nimport { DOMFilterFactory } from \"./filter_factory.js\";\nimport { DOMStandardFontDataFactory } from \"display-standard_fontdata_factory\";\nimport { DOMWasmFactory } from \"display-wasm_factory\";\nimport { GlobalWorkerOptions } from \"./worker_options.js\";\nimport { Metadata } from \"./metadata.js\";\nimport { OptionalContentConfig } from \"./optional_content_config.js\";\nimport { PDFDataTransportStream } from \"./transport_stream.js\";\nimport { PDFFetchStream } from \"display-fetch_stream\";\nimport { PDFNetworkStream } from \"display-network\";\nimport { PDFNodeStream } from \"display-node_stream\";\nimport { PDFObjects } from \"./pdf_objects.js\";\nimport { TextLayer } from \"./text_layer.js\";\nimport { XfaText } from \"./xfa_text.js\";\n\nconst RENDERING_CANCELLED_TIMEOUT = 100; // ms\n\n/**\n * @typedef { Int8Array | Uint8Array | Uint8ClampedArray |\n *            Int16Array | Uint16Array |\n *            Int32Array | Uint32Array | Float32Array |\n *            Float64Array\n * } TypedArray\n */\n\n/**\n * @typedef {Object} RefProxy\n * @property {number} num\n * @property {number} gen\n */\n\n/**\n * Document initialization / loading parameters object.\n *\n * @typedef {Object} DocumentInitParameters\n * @property {string | URL} [url] - The URL of the PDF.\n * @property {TypedArray | ArrayBuffer | Array<number> | string} [data] -\n *   Binary PDF data.\n *   Use TypedArrays (Uint8Array) to improve the memory usage. If PDF data is\n *   BASE64-encoded, use `atob()` to convert it to a binary string first.\n *\n *   NOTE: If TypedArrays are used they will generally be transferred to the\n *   worker-thread. This will help reduce main-thread memory usage, however\n *   it will take ownership of the TypedArrays.\n * @property {Object} [httpHeaders] - Basic authentication headers.\n * @property {boolean} [withCredentials] - Indicates whether or not\n *   cross-site Access-Control requests should be made using credentials such\n *   as cookies or authorization headers. The default is `false`.\n * @property {string} [password] - For decrypting password-protected PDFs.\n * @property {number} [length] - The PDF file length. It's used for progress\n *   reports and range requests operations.\n * @property {PDFDataRangeTransport} [range] - Allows for using a custom range\n *   transport implementation.\n * @property {number} [rangeChunkSize] - Specify maximum number of bytes fetched\n *   per range request. The default value is 65536 (= 2^16).\n * @property {PDFWorker} [worker] - The worker that will be used for loading and\n *   parsing the PDF data.\n * @property {number} [verbosity] - Controls the logging level; the constants\n *   from {@link VerbosityLevel} should be used.\n * @property {string} [docBaseUrl] - The base URL of the document, used when\n *   attempting to recover valid absolute URLs for annotations, and outline\n *   items, that (incorrectly) only specify relative URLs.\n * @property {string} [cMapUrl] - The URL where the predefined Adobe CMaps are\n *   located. Include the trailing slash.\n * @property {boolean} [cMapPacked] - Specifies if the Adobe CMaps are binary\n *   packed or not. The default value is `true`.\n * @property {Object} [CMapReaderFactory] - The factory that will be used when\n *   reading built-in CMap files.\n *   The default value is {DOMCMapReaderFactory}.\n * @property {string} [iccUrl] - The URL where the predefined ICC profiles are\n *   located. Include the trailing slash.\n * @property {boolean} [useSystemFonts] - When `true`, fonts that aren't\n *   embedded in the PDF document will fallback to a system font.\n *   The default value is `true` in web environments and `false` in Node.js;\n *   unless `disableFontFace === true` in which case this defaults to `false`\n *   regardless of the environment (to prevent completely broken fonts).\n * @property {string} [standardFontDataUrl] - The URL where the standard font\n *   files are located. Include the trailing slash.\n * @property {Object} [StandardFontDataFactory] - The factory that will be used\n *   when reading the standard font files.\n *   The default value is {DOMStandardFontDataFactory}.\n * @property {string} [wasmUrl] - The URL where the wasm files are located.\n *   Include the trailing slash.\n * @property {Object} [WasmFactory] - The factory that will be used\n *   when reading the wasm files.\n *   The default value is {DOMWasmFactory}.\n * @property {boolean} [useWorkerFetch] - Enable using the Fetch API in the\n *   worker-thread when reading CMap and standard font files. When `true`,\n *   the `CMapReaderFactory`, `StandardFontDataFactory`, and `WasmFactory`\n *   options are ignored.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [useWasm] - Attempt to use WebAssembly in order to\n *    improve e.g. image decoding performance.\n *    The default value is `true`.\n * @property {boolean} [stopAtErrors] - Reject certain promises, e.g.\n *   `getOperatorList`, `getTextContent`, and `RenderTask`, when the associated\n *   PDF data cannot be successfully parsed, instead of attempting to recover\n *   whatever possible of the data. The default value is `false`.\n * @property {number} [maxImageSize] - The maximum allowed image size in total\n *   pixels, i.e. width * height. Images above this value will not be rendered.\n *   Use -1 for no limit, which is also the default value.\n * @property {boolean} [isEvalSupported] - Determines if we can evaluate strings\n *   as JavaScript. Primarily used to improve performance of PDF functions.\n *   The default value is `true`.\n * @property {boolean} [isOffscreenCanvasSupported] - Determines if we can use\n *   `OffscreenCanvas` in the worker. Primarily used to improve performance of\n *   image conversion/rendering.\n *   The default value is `true` in web environments and `false` in Node.js.\n * @property {boolean} [isImageDecoderSupported] - Determines if we can use\n *   `ImageDecoder` in the worker. Primarily used to improve performance of\n *   image conversion/rendering.\n *   The default value is `true` in web environments and `false` in Node.js.\n *\n *   NOTE: Also temporarily disabled in Chromium browsers, until we no longer\n *   support the affected browser versions, because of various bugs:\n *\n *    - Crashes when using the BMP decoder with huge images, e.g. issue6741.pdf;\n *      see https://issues.chromium.org/issues/374807001\n *\n *    - Broken images when using the JPEG decoder with images that have custom\n *      colour profiles, e.g. GitHub discussion 19030;\n *      see https://issues.chromium.org/issues/378869810\n *\n * @property {number} [canvasMaxAreaInBytes] - The integer value is used to\n *   know when an image must be resized (uses `OffscreenCanvas` in the worker).\n *   If it's -1 then a possibly slow algorithm is used to guess the max value.\n * @property {boolean} [disableFontFace] - By default fonts are converted to\n *   OpenType fonts and loaded via the Font Loading API or `@font-face` rules.\n *   If disabled, fonts will be rendered using a built-in font renderer that\n *   constructs the glyphs with primitive path commands.\n *   The default value is `false` in web environments and `true` in Node.js.\n * @property {boolean} [fontExtraProperties] - Include additional properties,\n *   which are unused during rendering of PDF documents, when exporting the\n *   parsed font data from the worker-thread. This may be useful for debugging\n *   purposes (and backwards compatibility), but note that it will lead to\n *   increased memory usage. The default value is `false`.\n * @property {boolean} [enableXfa] - Render Xfa forms if any.\n *   The default value is `false`.\n * @property {HTMLDocument} [ownerDocument] - Specify an explicit document\n *   context to create elements with and to load resources, such as fonts,\n *   into. Defaults to the current document.\n * @property {boolean} [disableRange] - Disable range request loading of PDF\n *   files. When enabled, and if the server supports partial content requests,\n *   then the PDF will be fetched in chunks. The default value is `false`.\n * @property {boolean} [disableStream] - Disable streaming of PDF file data.\n *   By default PDF.js attempts to load PDF files in chunks. The default value\n *   is `false`.\n * @property {boolean} [disableAutoFetch] - Disable pre-fetching of PDF file\n *   data. When range requests are enabled PDF.js will automatically keep\n *   fetching more data even if it isn't needed to display the current page.\n *   The default value is `false`.\n *\n *   NOTE: It is also necessary to disable streaming, see above, in order for\n *   disabling of pre-fetching to work correctly.\n * @property {boolean} [pdfBug] - Enables special hooks for debugging PDF.js\n *   (see `web/debugger.js`). The default value is `false`.\n * @property {Object} [CanvasFactory] - The factory that will be used when\n *    creating canvases. The default value is {DOMCanvasFactory}.\n * @property {Object} [FilterFactory] - The factory that will be used to\n *    create SVG filters when rendering some images on the main canvas.\n *    The default value is {DOMFilterFactory}.\n * @property {boolean} [enableHWA] - Enables hardware acceleration for\n *   rendering. The default value is `false`.\n */\n\n/**\n * This is the main entry point for loading a PDF and interacting with it.\n *\n * NOTE: If a URL is used to fetch the PDF data a standard Fetch API call (or\n * XHR as fallback) is used, which means it must follow same origin rules,\n * e.g. no cross-domain requests without CORS.\n *\n * @param {string | URL | TypedArray | ArrayBuffer | DocumentInitParameters}\n *   src - Can be a URL where a PDF file is located, a typed array (Uint8Array)\n *         already populated with data, or a parameter object.\n * @returns {PDFDocumentLoadingTask}\n */\nfunction getDocument(src = {}) {\n  if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n    if (typeof src === \"string\" || src instanceof URL) {\n      src = { url: src };\n    } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n      src = { data: src };\n    }\n  }\n  const task = new PDFDocumentLoadingTask();\n  const { docId } = task;\n\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport =\n    src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize =\n    Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0\n      ? src.rangeChunkSize\n      : 2 ** 16;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  // Ignore \"data:\"-URLs, since they can't be used to recover valid absolute\n  // URLs anyway. We want to avoid sending them to the worker-thread, since\n  // they contain the *entire* PDF document and can thus be arbitrarily long.\n  const docBaseUrl =\n    typeof src.docBaseUrl === \"string\" && !isDataScheme(src.docBaseUrl)\n      ? src.docBaseUrl\n      : null;\n  const cMapUrl = getFactoryUrlProp(src.cMapUrl);\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory =\n    src.CMapReaderFactory ||\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n      ? NodeCMapReaderFactory\n      : DOMCMapReaderFactory);\n  const iccUrl = getFactoryUrlProp(src.iccUrl);\n  const standardFontDataUrl = getFactoryUrlProp(src.standardFontDataUrl);\n  const StandardFontDataFactory =\n    src.StandardFontDataFactory ||\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n      ? NodeStandardFontDataFactory\n      : DOMStandardFontDataFactory);\n  const wasmUrl = getFactoryUrlProp(src.wasmUrl);\n  const WasmFactory =\n    src.WasmFactory ||\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n      ? NodeWasmFactory\n      : DOMWasmFactory);\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize =\n    Number.isInteger(src.maxImageSize) && src.maxImageSize > -1\n      ? src.maxImageSize\n      : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported =\n    typeof src.isOffscreenCanvasSupported === \"boolean\"\n      ? src.isOffscreenCanvasSupported\n      : !isNodeJS;\n  const isImageDecoderSupported =\n    // eslint-disable-next-line no-nested-ternary\n    typeof src.isImageDecoderSupported === \"boolean\"\n      ? src.isImageDecoderSupported\n      : // eslint-disable-next-line no-nested-ternary\n        typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")\n        ? true\n        : typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"CHROME\")\n          ? false\n          : !isNodeJS && (FeatureTest.platform.isFirefox || !globalThis.chrome);\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes)\n    ? src.canvasMaxAreaInBytes\n    : -1;\n  const disableFontFace =\n    typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const CanvasFactory =\n    src.CanvasFactory ||\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n      ? NodeCanvasFactory\n      : DOMCanvasFactory);\n  const FilterFactory =\n    src.FilterFactory ||\n    (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"GENERIC\") && isNodeJS\n      ? NodeFilterFactory\n      : DOMFilterFactory);\n  const enableHWA = src.enableHWA === true;\n  const useWasm = src.useWasm !== false;\n\n  // Parameters whose default values depend on other parameters.\n  const length = rangeTransport ? rangeTransport.length : (src.length ?? NaN);\n  const useSystemFonts =\n    typeof src.useSystemFonts === \"boolean\"\n      ? src.useSystemFonts\n      : !isNodeJS && !disableFontFace;\n  const useWorkerFetch =\n    typeof src.useWorkerFetch === \"boolean\"\n      ? src.useWorkerFetch\n      : (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n        !!(\n          CMapReaderFactory === DOMCMapReaderFactory &&\n          StandardFontDataFactory === DOMStandardFontDataFactory &&\n          WasmFactory === DOMWasmFactory &&\n          cMapUrl &&\n          standardFontDataUrl &&\n          wasmUrl &&\n          isValidFetchUrl(cMapUrl, document.baseURI) &&\n          isValidFetchUrl(standardFontDataUrl, document.baseURI) &&\n          isValidFetchUrl(wasmUrl, document.baseURI)\n        );\n\n  // Parameters only intended for development/testing purposes.\n  const styleElement =\n    typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")\n      ? src.styleElement\n      : null;\n\n  // Set the main-thread verbosity level.\n  setVerbosityLevel(verbosity);\n\n  // Ensure that the various factories can be initialized, when necessary,\n  // since the user may provide *custom* ones.\n  const transportFactory = {\n    canvasFactory: new CanvasFactory({ ownerDocument, enableHWA }),\n    filterFactory: new FilterFactory({ docId, ownerDocument }),\n    cMapReaderFactory:\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      useWorkerFetch\n        ? null\n        : new CMapReaderFactory({ baseUrl: cMapUrl, isCompressed: cMapPacked }),\n    standardFontDataFactory:\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      useWorkerFetch\n        ? null\n        : new StandardFontDataFactory({ baseUrl: standardFontDataUrl }),\n    wasmFactory:\n      (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) ||\n      useWorkerFetch\n        ? null\n        : new WasmFactory({ baseUrl: wasmUrl }),\n  };\n\n  if (!worker) {\n    // Worker was not provided -- creating and owning our own. If message port\n    // is specified in global worker options, using it.\n    worker = PDFWorker.create({\n      verbosity,\n      port: GlobalWorkerOptions.workerPort,\n    });\n    task._worker = worker;\n  }\n\n  const docParams = {\n    docId,\n    apiVersion:\n      typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"TESTING\")\n        ? PDFJSDev.eval(\"BUNDLE_VERSION\")\n        : null,\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      isImageDecoderSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      useWasm,\n      useWorkerFetch,\n      cMapUrl,\n      iccUrl,\n      standardFontDataUrl,\n      wasmUrl,\n    },\n  };\n  const transportParams = {\n    ownerDocument,\n    pdfBug,\n    styleElement,\n    loadingParams: {\n      disableAutoFetch,\n      enableXfa,\n    },\n  };\n\n  worker.promise\n    .then(function () {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      if (worker.destroyed) {\n        throw new Error(\"Worker was destroyed\");\n      }\n\n      const workerIdPromise = worker.messageHandler.sendWithPromise(\n        \"GetDocRequest\",\n        docParams,\n        data ? [data.buffer] : null\n      );\n\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new PDFDataTransportStream(rangeTransport, {\n          disableRange,\n          disableStream,\n        });\n      } else if (!data) {\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n          throw new Error(\"Not implemented: NetworkStream\");\n        }\n        if (!url) {\n          throw new Error(\"getDocument - no `url` parameter provided.\");\n        }\n        // eslint-disable-next-line no-nested-ternary\n        const NetworkStream = isValidFetchUrl(url)\n          ? PDFFetchStream\n          : typeof PDFJSDev !== \"undefined\" &&\n              PDFJSDev.test(\"GENERIC\") &&\n              isNodeJS\n            ? PDFNodeStream\n            : PDFNetworkStream;\n\n        networkStream = new NetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream,\n        });\n      }\n\n      return workerIdPromise.then(workerId => {\n        if (task.destroyed) {\n          throw new Error(\"Loading aborted\");\n        }\n        if (worker.destroyed) {\n          throw new Error(\"Worker was destroyed\");\n        }\n\n        const messageHandler = new MessageHandler(docId, workerId, worker.port);\n        const transport = new WorkerTransport(\n          messageHandler,\n          task,\n          networkStream,\n          transportParams,\n          transportFactory,\n          enableHWA\n        );\n        task._transport = transport;\n        messageHandler.send(\"Ready\", null);\n      });\n    })\n    .catch(task._capability.reject);\n\n  return task;\n}\n\n/**\n * @typedef {Object} OnProgressParameters\n * @property {number} loaded - Currently loaded number of bytes.\n * @property {number} total - Total number of bytes in the PDF file.\n */\n\n/**\n * The loading task controls the operations required to load a PDF document\n * (such as network requests) and provides a way to listen for completion,\n * after which individual pages can be rendered.\n */\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n\n  /**\n   * @private\n   */\n  _capability = Promise.withResolvers();\n\n  /**\n   * @private\n   */\n  _transport = null;\n\n  /**\n   * @private\n   */\n  _worker = null;\n\n  /**\n   * Unique identifier for the document loading task.\n   * @type {string}\n   */\n  docId = `d${PDFDocumentLoadingTask.#docId++}`;\n\n  /**\n   * Whether the loading task is destroyed or not.\n   * @type {boolean}\n   */\n  destroyed = false;\n\n  /**\n   * Callback to request a password if a wrong or no password was provided.\n   * The callback receives two parameters: a function that should be called\n   * with the new password, and a reason (see {@link PasswordResponses}).\n   * @type {function}\n   */\n  onPassword = null;\n\n  /**\n   * Callback to be able to monitor the loading progress of the PDF file\n   * (necessary to implement e.g. a loading bar).\n   * The callback receives an {@link OnProgressParameters} argument.\n   * @type {function}\n   */\n  onProgress = null;\n\n  /**\n   * Promise for document loading task completion.\n   * @type {Promise<PDFDocumentProxy>}\n   */\n  get promise() {\n    return this._capability.promise;\n  }\n\n  /**\n   * Abort all network requests and destroy the worker.\n   * @returns {Promise<void>} A promise that is resolved when destruction is\n   *   completed.\n   */\n  async destroy() {\n    this.destroyed = true;\n\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n\n    this._worker?.destroy();\n    this._worker = null;\n  }\n\n  /**\n   * Attempt to fetch the raw data of the PDF document, when e.g.\n   *  - An exception was thrown during document initialization.\n   *  - An `onPassword` callback is delaying initialization.\n   * @returns {Promise<Uint8Array>}\n   */\n  async getData() {\n    return this._transport.getData();\n  }\n}\n\n/**\n * Abstract class to support range requests file loading.\n *\n * NOTE: The TypedArrays passed to the constructor and relevant methods below\n * will generally be transferred to the worker-thread. This will help reduce\n * main-thread memory usage, however it will take ownership of the TypedArrays.\n */\nclass PDFDataRangeTransport {\n  #capability = Promise.withResolvers();\n\n  #progressiveDoneListeners = [];\n\n  #progressiveReadListeners = [];\n\n  #progressListeners = [];\n\n  #rangeListeners = [];\n\n  /**\n   * @param {number} length\n   * @param {Uint8Array|null} initialData\n   * @param {boolean} [progressiveDone]\n   * @param {string} [contentDispositionFilename]\n   */\n  constructor(\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null\n  ) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addRangeListener(listener) {\n    this.#rangeListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressListener(listener) {\n    this.#progressListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveReadListener(listener) {\n    this.#progressiveReadListeners.push(listener);\n  }\n\n  /**\n   * @param {function} listener\n   */\n  addProgressiveDoneListener(listener) {\n    this.#progressiveDoneListeners.push(listener);\n  }\n\n  /**\n   * @param {number} begin\n   * @param {Uint8Array|null} chunk\n   */\n  onDataRange(begin, chunk) {\n    for (const listener of this.#rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n\n  /**\n   * @param {number} loaded\n   * @param {number|undefined} total\n   */\n  onDataProgress(loaded, total) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n\n  /**\n   * @param {Uint8Array|null} chunk\n   */\n  onDataProgressiveRead(chunk) {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n\n  onDataProgressiveDone() {\n    this.#capability.promise.then(() => {\n      for (const listener of this.#progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n\n  transportReady() {\n    this.#capability.resolve();\n  }\n\n  /**\n   * @param {number} begin\n   * @param {number} end\n   */\n  requestDataRange(begin, end) {\n    unreachable(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n\n  abort() {}\n}\n\n/**\n * Proxy to a `PDFDocument` in the worker thread.\n */\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getNetworkStreamName\", {\n        value: () => this._transport.getNetworkStreamName(),\n      });\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () => this._transport.getXFADatasets(),\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () => this._transport.getXRefPrevValue(),\n      });\n      Object.defineProperty(this, \"getStartXRefPos\", {\n        value: () => this._transport.getStartXRefPos(),\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex => this._transport.getAnnotArray(pageIndex),\n      });\n    }\n  }\n\n  /**\n   * @type {AnnotationStorage} Storage for annotation data in forms.\n   */\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n\n  /**\n   * @type {Object} The canvas factory instance.\n   */\n  get canvasFactory() {\n    return this._transport.canvasFactory;\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {number} Total number of pages in the PDF file.\n   */\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n\n  /**\n   * @type {Array<string | null>} A (not guaranteed to be) unique ID to identify\n   *   the PDF document.\n   *   NOTE: The first element will always be defined for all PDF documents,\n   *   whereas the second element is only defined for *modified* PDF documents.\n   */\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * NOTE: This is (mostly) intended to support printing of XFA forms.\n   *\n   * @type {Object | null} An object representing a HTML tree structure\n   *   to render the XFA, or `null` when no XFA form exists.\n   */\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n\n  /**\n   * @param {number} pageNumber - The page number to get. The first page is 1.\n   * @returns {Promise<PDFPageProxy>} A promise that is resolved with\n   *   a {@link PDFPageProxy} object.\n   */\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {Promise<number>} A promise that is resolved with the page index,\n   *   starting from zero, that is associated with the reference.\n   */\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<any>>>} A promise that is resolved\n   *   with a mapping from named destinations to references.\n   *\n   * This can be slow for large documents. Use `getDestination` instead.\n   */\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n\n  /**\n   * @param {string} id - The named destination to get.\n   * @returns {Promise<Array<any> | null>} A promise that is resolved with all\n   *   information of the given named destination, or `null` when the named\n   *   destination is not present in the PDF file.\n   */\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with\n   *   an {Array} containing the page labels that correspond to the page\n   *   indexes, or `null` when no page labels are present in the PDF file.\n   */\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page layout name.\n   */\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n\n  /**\n   * @returns {Promise<string>} A promise that is resolved with a {string}\n   *   containing the page mode name.\n   */\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with an\n   *   {Object} containing the viewer preferences, or `null` when no viewer\n   *   preferences are present in the PDF file.\n   */\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n\n  /**\n   * @returns {Promise<any | null>} A promise that is resolved with an {Array}\n   *   containing the destination, or `null` when no open action is present\n   *   in the PDF.\n   */\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n\n  /**\n   * @returns {Promise<any>} A promise that is resolved with a lookup table\n   *   for mapping named attachments to their content.\n   */\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n\n  /**\n   * @param {Set<number>} types - The annotation types to retrieve.\n   * @param {Set<number>} pageIndexesToSkip\n   * @returns {Promise<Array<Object>>} A promise that is resolved with a list of\n   *   annotations data.\n   */\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this._transport.getAnnotationsByType(types, pageIndexesToSkip);\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with the JavaScript actions:\n   *     - from the name tree.\n   *     - from A or AA entries in the catalog dictionary.\n   *   , or `null` if no JavaScript exists.\n   */\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n\n  /**\n   * @typedef {Object} OutlineNode\n   * @property {string} title\n   * @property {boolean} bold\n   * @property {boolean} italic\n   * @property {Uint8ClampedArray} color - The color in RGB format to use for\n   *   display purposes.\n   * @property {string | Array<any> | null} dest\n   * @property {string | null} url\n   * @property {string | undefined} unsafeUrl\n   * @property {boolean | undefined} newWindow\n   * @property {number | undefined} count\n   * @property {Array<OutlineNode>} items\n   */\n\n  /**\n   * @returns {Promise<Array<OutlineNode>>} A promise that is resolved with an\n   *   {Array} that is a tree outline (if it has one) of the PDF file.\n   */\n  getOutline() {\n    return this._transport.getOutline();\n  }\n\n  /**\n   * @typedef {Object} GetOptionalContentConfigParameters\n   * @property {string} [intent] - Determines the optional content groups that\n   *   are visible by default; valid values are:\n   *    - 'display' (viewable groups).\n   *    - 'print' (printable groups).\n   *    - 'any' (all groups).\n   *   The default value is 'display'.\n   */\n\n  /**\n   * @param {GetOptionalContentConfigParameters} [params] - Optional content\n   *   config parameters.\n   * @returns {Promise<OptionalContentConfig>} A promise that is resolved with\n   *   an {@link OptionalContentConfig} that contains all the optional content\n   *   groups (assuming that the document has any).\n   */\n  getOptionalContentConfig({ intent = \"display\" } = {}) {\n    const { renderingIntent } = this._transport.getRenderingIntent(intent);\n\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n\n  /**\n   * @returns {Promise<Array<number> | null>} A promise that is resolved with\n   *   an {Array} that contains the permission flags for the PDF document, or\n   *   `null` when no permissions are present in the PDF file.\n   */\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n\n  /**\n   * @returns {Promise<{ info: Object, metadata: Metadata }>} A promise that is\n   *   resolved with an {Object} that has `info` and `metadata` properties.\n   *   `info` is an {Object} filled with anything available in the information\n   *   dictionary and similarly `metadata` is a {Metadata} object with\n   *   information from the metadata section of the PDF.\n   */\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n\n  /**\n   * @typedef {Object} MarkInfo\n   * Properties correspond to Table 321 of the PDF 32000-1:2008 spec.\n   * @property {boolean} Marked\n   * @property {boolean} UserProperties\n   * @property {boolean} Suspects\n   */\n\n  /**\n   * @returns {Promise<MarkInfo | null>} A promise that is resolved with\n   *   a {MarkInfo} object that contains the MarkInfo flags for the PDF\n   *   document, or `null` when no MarkInfo values are present in the PDF file.\n   */\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the raw data of the PDF document.\n   */\n  getData() {\n    return this._transport.getData();\n  }\n\n  /**\n   * @returns {Promise<Uint8Array>} A promise that is resolved with a\n   *   {Uint8Array} containing the full data of the saved document.\n   */\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n\n  /**\n   * @returns {Promise<{ length: number }>} A promise that is resolved when the\n   *   document's data is loaded. It is resolved with an {Object} that contains\n   *   the `length` property that indicates size of the PDF data in bytes.\n   */\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n\n  /**\n   * Cleans up resources allocated by the document on both the main and worker\n   * threads.\n   *\n   * NOTE: Do not, under any circumstances, call this method when rendering is\n   * currently ongoing since that may lead to rendering errors.\n   *\n   * @param {boolean} [keepLoadedFonts] - Let fonts remain attached to the DOM.\n   *   NOTE: This will increase persistent memory usage, hence don't use this\n   *   option unless absolutely necessary. The default value is `false`.\n   * @returns {Promise} A promise that is resolved when clean-up has finished.\n   */\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n\n  /**\n   * Destroys the current document instance and terminates the worker.\n   */\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n\n  /**\n   * @param {RefProxy} ref - The page reference.\n   * @returns {number | null} The page number, if it's cached.\n   */\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n\n  /**\n   * @type {DocumentInitParameters} A subset of the current\n   *   {DocumentInitParameters}, which are needed in the viewer.\n   */\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n\n  /**\n   * @type {PDFDocumentLoadingTask} The loadingTask for the current document.\n   */\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n\n  /**\n   * @returns {Promise<Object<string, Array<Object>> | null>} A promise that is\n   *   resolved with an {Object} containing /AcroForm field data for the JS\n   *   sandbox, or `null` when no field data is present in the PDF file.\n   */\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n\n  /**\n   * @returns {Promise<boolean>} A promise that is resolved with `true`\n   *   if some /AcroForm fields have JavaScript actions.\n   */\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n\n  /**\n   * @returns {Promise<Array<string> | null>} A promise that is resolved with an\n   *   {Array<string>} containing IDs of annotations that have a calculation\n   *   action, or `null` when no such annotations are present in the PDF file.\n   */\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\n\n/**\n * Page getViewport parameters.\n *\n * @typedef {Object} GetViewportParameters\n * @property {number} scale - The desired scale of the viewport.\n * @property {number} [rotation] - The desired rotation, in degrees, of\n *   the viewport. If omitted it defaults to the page rotation.\n * @property {number} [offsetX] - The horizontal, i.e. x-axis, offset.\n *   The default value is `0`.\n * @property {number} [offsetY] - The vertical, i.e. y-axis, offset.\n *   The default value is `0`.\n * @property {boolean} [dontFlip] - If true, the y-axis will not be\n *   flipped. The default value is `false`.\n */\n\n/**\n * Page getTextContent parameters.\n *\n * @typedef {Object} getTextContentParameters\n * @property {boolean} [includeMarkedContent] - When true include marked\n *   content items in the items array of TextContent. The default is `false`.\n * @property {boolean} [disableNormalization] - When true the text is *not*\n *   normalized in the worker-thread. The default is `false`.\n */\n\n/**\n * Page text content.\n *\n * @typedef {Object} TextContent\n * @property {Array<TextItem | TextMarkedContent>} items - Array of\n *   {@link TextItem} and {@link TextMarkedContent} objects. TextMarkedContent\n *   items are included when includeMarkedContent is true.\n * @property {Object<string, TextStyle>} styles - {@link TextStyle} objects,\n *   indexed by font name.\n * @property {string | null} lang - The document /Lang attribute.\n */\n\n/**\n * Page text content part.\n *\n * @typedef {Object} TextItem\n * @property {string} str - Text content.\n * @property {string} dir - Text direction: 'ttb', 'ltr' or 'rtl'.\n * @property {Array<any>} transform - Transformation matrix.\n * @property {number} width - Width in device space.\n * @property {number} height - Height in device space.\n * @property {string} fontName - Font name used by PDF.js for converted font.\n * @property {boolean} hasEOL - Indicating if the text content is followed by a\n *   line-break.\n */\n\n/**\n * Page text marked content part.\n *\n * @typedef {Object} TextMarkedContent\n * @property {string} type - Either 'beginMarkedContent',\n *   'beginMarkedContentProps', or 'endMarkedContent'.\n * @property {string} id - The marked content identifier. Only used for type\n *   'beginMarkedContentProps'.\n */\n\n/**\n * Text style.\n *\n * @typedef {Object} TextStyle\n * @property {number} ascent - Font ascent.\n * @property {number} descent - Font descent.\n * @property {boolean} vertical - Whether or not the text is in vertical mode.\n * @property {string} fontFamily - The possible font family.\n */\n\n/**\n * Page annotation parameters.\n *\n * @typedef {Object} GetAnnotationsParameters\n * @property {string} [intent] - Determines the annotations that are fetched,\n *   can be 'display' (viewable annotations), 'print' (printable annotations),\n *   or 'any' (all annotations). The default value is 'display'.\n */\n\n/**\n * Page render parameters.\n *\n * @typedef {Object} RenderParameters\n * @property {HTMLCanvasElement|null} canvas - A DOM Canvas object. The default\n *   value is the canvas associated with the `canvasContext` parameter if no\n *   value is provided explicitly.\n * @property {PageViewport} viewport - Rendering viewport obtained by calling\n *   the `PDFPageProxy.getViewport` method.\n * @property {CanvasRenderingContext2D} [canvasContext] - 2D context of a DOM\n *   Canvas object for backwards compatibility; it is recommended to use the\n *   `canvas` parameter instead.\n *   If the context must absolutely be used to render the page, the canvas must\n *   be null.\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are rendered\n *   onto the canvas, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {Array<any>} [transform] - Additional transform, applied just\n *   before viewport transform.\n * @property {CanvasGradient | CanvasPattern | string} [background] - Background\n *   to use for the canvas.\n *   Any valid `canvas.fillStyle` can be used: a `DOMString` parsed as CSS\n *   <color> value, a `CanvasGradient` object (a linear or radial gradient) or\n *   a `CanvasPattern` object (a repetitive image). The default value is\n *   'rgb(255,255,255)'.\n *\n *   NOTE: This option may be partially, or completely, ignored when the\n *   `pageColors`-option is used.\n * @property {Object} [pageColors] - Overwrites background and foreground colors\n *   with user defined ones in order to improve readability in high contrast\n *   mode.\n * @property {Promise<OptionalContentConfig>} [optionalContentConfigPromise] -\n *   A promise that should resolve with an {@link OptionalContentConfig}\n *   created from `PDFDocumentProxy.getOptionalContentConfig`. If `null`,\n *   the configuration will be fetched automatically with the default visibility\n *   states set.\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap] - Map some\n *   annotation ids with canvases used to render them.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n * @property {boolean} [isEditing] - Render the page in editing mode.\n * @property {boolean} [recordOperations] - Record the dependencies and bounding\n *   boxes of all PDF operations that render onto the canvas.\n * @property {Set<number>} [filteredOperationIndexes] - If provided, only run\n *   the PDF operations that are included in this set.\n */\n\n/**\n * Page getOperatorList parameters.\n *\n * @typedef {Object} GetOperatorListParameters\n * @property {string} [intent] - Rendering intent, can be 'display', 'print',\n *   or 'any'. The default value is 'display'.\n * @property {number} [annotationMode] Controls which annotations are included\n *   in the operatorList, for annotations with appearance-data; the values from\n *   {@link AnnotationMode} should be used. The following values are supported:\n *    - `AnnotationMode.DISABLE`, which disables all annotations.\n *    - `AnnotationMode.ENABLE`, which includes all possible annotations (thus\n *      it also depends on the `intent`-option, see above).\n *    - `AnnotationMode.ENABLE_FORMS`, which excludes annotations that contain\n *      interactive form elements (those will be rendered in the display layer).\n *    - `AnnotationMode.ENABLE_STORAGE`, which includes all possible annotations\n *      (as above) but where interactive form elements are updated with data\n *      from the {@link AnnotationStorage}-instance; useful e.g. for printing.\n *   The default value is `AnnotationMode.ENABLE`.\n * @property {PrintAnnotationStorage} [printAnnotationStorage]\n * @property {boolean} [isEditing] - Render the page in editing mode.\n */\n\n/**\n * Structure tree node. The root node will have a role \"Root\".\n *\n * @typedef {Object} StructTreeNode\n * @property {Array<StructTreeNode | StructTreeContent>} children - Array of\n *   {@link StructTreeNode} and {@link StructTreeContent} objects.\n * @property {string} role - element's role, already mapped if a role map exists\n * in the PDF.\n */\n\n/**\n * Structure tree content.\n *\n * @typedef {Object} StructTreeContent\n * @property {string} type - either \"content\" for page and stream structure\n *   elements or \"object\" for object references.\n * @property {string} id - unique id that will map to the text layer.\n */\n\n/**\n * PDF page operator list.\n *\n * @typedef {Object} PDFOperatorList\n * @property {Array<number>} fnArray - Array containing the operator functions.\n * @property {Array<any>} argsArray - Array containing the arguments of the\n *   functions.\n */\n\n/**\n * Proxy to a `PDFPage` in the worker thread.\n */\nclass PDFPageProxy {\n  #pendingCleanup = false;\n\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new StatTimer() : null;\n    this._pdfBug = pdfBug;\n    /** @type {PDFObjects} */\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n\n    this._intentStates = new Map();\n    this.destroyed = false;\n    this.recordedGroups = null;\n  }\n\n  /**\n   * @type {number} Page number of the page. First page is 1.\n   */\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n\n  /**\n   * @type {number} The number of degrees the page is rotated clockwise.\n   */\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n\n  /**\n   * @type {RefProxy | null} The reference that points to this page.\n   */\n  get ref() {\n    return this._pageInfo.ref;\n  }\n\n  /**\n   * @type {number} The default size of units in 1/72nds of an inch.\n   */\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n\n  /**\n   * @type {Array<number>} An array of the visible portion of the PDF page in\n   *   user space units [x1, y1, x2, y2].\n   */\n  get view() {\n    return this._pageInfo.view;\n  }\n\n  /**\n   * @param {GetViewportParameters} params - Viewport parameters.\n   * @returns {PageViewport} Contains 'width' and 'height' properties\n   *   along with transforms required for rendering.\n   */\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false,\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.view,\n      userUnit: this.userUnit,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip,\n    });\n  }\n\n  /**\n   * @param {GetAnnotationsParameters} [params] - Annotation parameters.\n   * @returns {Promise<Array<any>>} A promise that is resolved with an\n   *   {Array} of the annotation objects.\n   */\n  getAnnotations({ intent = \"display\" } = {}) {\n    const { renderingIntent } = this._transport.getRenderingIntent(intent);\n\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n\n  /**\n   * @returns {Promise<Object>} A promise that is resolved with an\n   *   {Object} with JS actions.\n   */\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n\n  /**\n   * @type {Object} The filter factory instance.\n   */\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n\n  /**\n   * @type {boolean} True if only XFA form.\n   */\n  get isPureXfa() {\n    return shadow(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n\n  /**\n   * @returns {Promise<Object | null>} A promise that is resolved with\n   *   an {Object} with a fake DOM object (a tree structure where elements\n   *   are {Object} with a name, attributes (class, style, ...), value and\n   *   children, very similar to a HTML DOM tree), or `null` if no XFA exists.\n   */\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n\n  /**\n   * Begins the process of rendering a page to the desired context.\n   *\n   * @param {RenderParameters} params - Page render parameters.\n   * @returns {RenderTask} An object that contains a promise that is\n   *   resolved when the page finishes rendering.\n   */\n  render({\n    canvasContext,\n    canvas = canvasContext.canvas,\n    viewport,\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null,\n    isEditing = false,\n    recordOperations = false,\n    filteredOperationIndexes = null,\n  }) {\n    this._stats?.time(\"Overall\");\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage,\n      isEditing\n    );\n    const { renderingIntent, cacheKey } = intentArgs;\n    // If there was a pending destroy, cancel it so no cleanup happens during\n    // this call to render.\n    this.#pendingCleanup = false;\n\n    optionalContentConfigPromise ||=\n      this._transport.getOptionalContentConfig(renderingIntent);\n\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    const intentPrint = !!(renderingIntent & RenderingIntentFlag.PRINT);\n\n    // If there's no displayReadyCapability yet, then the operatorList\n    // was never requested before. Make the request and create the promise.\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n\n    const shouldRecordOperations =\n      !this.recordedGroups &&\n      (recordOperations ||\n        (this._pdfBug && globalThis.StepperManager?.enabled));\n\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n\n      if (shouldRecordOperations) {\n        const recordedGroups = internalRenderTask.gfx?.dependencyTracker.take();\n        if (recordedGroups) {\n          internalRenderTask.stepper?.setOperatorGroups(recordedGroups);\n          if (recordOperations) {\n            this.recordedGroups = recordedGroups;\n          }\n        } else if (recordOperations) {\n          this.recordedGroups = [];\n        }\n      }\n\n      // Attempt to reduce memory usage during *printing*, by always running\n      // cleanup immediately once rendering has finished.\n      if (intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup();\n\n      if (error) {\n        internalRenderTask.capability.reject(error);\n\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error),\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n\n      if (this._stats) {\n        this._stats.timeEnd(\"Rendering\");\n        this._stats.timeEnd(\"Overall\");\n\n        if (globalThis.Stats?.enabled) {\n          globalThis.Stats.add(this.pageNumber, this._stats);\n        }\n      }\n    };\n\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      // Only include the required properties, and *not* the entire object.\n      params: {\n        canvas,\n        canvasContext,\n        dependencyTracker: shouldRecordOperations\n          ? new CanvasDependencyTracker(canvas)\n          : null,\n        viewport,\n        transform,\n        background,\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors,\n      enableHWA: this._transport.enableHWA,\n      filteredOperationIndexes,\n    });\n\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n\n    Promise.all([\n      intentState.displayReadyCapability.promise,\n      optionalContentConfigPromise,\n    ])\n      .then(([transparency, optionalContentConfig]) => {\n        if (this.destroyed) {\n          complete();\n          return;\n        }\n        this._stats?.time(\"Rendering\");\n\n        if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n          throw new Error(\n            \"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" +\n              \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\"\n          );\n        }\n        internalRenderTask.initializeGraphics({\n          transparency,\n          optionalContentConfig,\n        });\n        internalRenderTask.operatorListChanged();\n      })\n      .catch(complete);\n\n    return renderTask;\n  }\n\n  /**\n   * @param {GetOperatorListParameters} params - Page getOperatorList\n   *   parameters.\n   * @returns {Promise<PDFOperatorList>} A promise resolved with an\n   *   {@link PDFOperatorList} object that represents the page's operator list.\n   */\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false,\n  } = {}) {\n    if (typeof PDFJSDev !== \"undefined\" && !PDFJSDev.test(\"GENERIC\")) {\n      throw new Error(\"Not implemented: getOperatorList\");\n    }\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n\n    const intentArgs = this._transport.getRenderingIntent(\n      intent,\n      annotationMode,\n      printAnnotationStorage,\n      isEditing,\n      /* isOpList = */ true\n    );\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null,\n      };\n\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {ReadableStream} Stream for reading text content chunks.\n   */\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false,\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n\n    return this._transport.messageHandler.sendWithStream(\n      \"GetTextContent\",\n      {\n        pageIndex: this._pageIndex,\n        includeMarkedContent: includeMarkedContent === true,\n        disableNormalization: disableNormalization === true,\n      },\n      {\n        highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n        size(textContent) {\n          return textContent.items.length;\n        },\n      }\n    );\n  }\n\n  /**\n   * NOTE: All occurrences of whitespace will be replaced by\n   * standard spaces (0x20).\n   *\n   * @param {getTextContentParameters} params - getTextContent parameters.\n   * @returns {Promise<TextContent>} A promise that is resolved with a\n   *   {@link TextContent} object that represents the page's text content.\n   */\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      // TODO: We need to revisit this once the XFA foreground patch lands and\n      // only do this for non-foreground XFA.\n      return this.getXfa().then(xfa => XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({ value, done }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          textContent.lang ??= value.lang;\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null),\n        lang: null,\n      };\n      pump();\n    });\n  }\n\n  /**\n   * @returns {Promise<StructTreeNode>} A promise that is resolved with a\n   *   {@link StructTreeNode} object that represents the page's structure tree,\n   *   or `null` when no structure tree is present for the current page.\n   */\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n\n  /**\n   * Destroys the page object.\n   * @private\n   */\n  _destroy() {\n    this.destroyed = true;\n\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true,\n      });\n\n      if (intentState.opListReadCapability) {\n        // Avoid errors below, since the renderTasks are just stubs.\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n\n    return Promise.all(waitOn);\n  }\n\n  /**\n   * Cleans up resources allocated by the page.\n   *\n   * @param {boolean} [resetStats] - Reset page stats, if enabled.\n   *   The default value is `false`.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup();\n\n    if (resetStats && success) {\n      this._stats &&= new StatTimer();\n    }\n    return success;\n  }\n\n  /**\n   * Attempts to clean up if rendering is in a state where that's possible.\n   * @returns {boolean} Indicates if clean-up was successfully run.\n   */\n  #tryCleanup() {\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    for (const { renderTasks, operatorList } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n\n  /**\n   * @private\n   */\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return; // Rendering was cancelled.\n    }\n    this._stats?.timeEnd(\"Page Request\");\n\n    // TODO Refactor RenderPageRequest to separate rendering\n    // and operator list logic\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n\n  /**\n   * @private\n   */\n  _renderPageChunk(operatorListChunk, intentState) {\n    // Add the new chunk to the current operator list.\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n\n    // Notify all the rendering tasks there are more operators to be consumed.\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup();\n    }\n  }\n\n  /**\n   * @private\n   */\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable,\n    modifiedIds,\n  }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        Number.isInteger(renderingIntent) && renderingIntent > 0,\n        '_pumpOperatorList: Expected valid \"renderingIntent\" argument.'\n      );\n    }\n    const { map, transfer } = annotationStorageSerializable;\n\n    const readableStream = this._transport.messageHandler.sendWithStream(\n      \"GetOperatorList\",\n      {\n        pageIndex: this._pageIndex,\n        intent: renderingIntent,\n        cacheKey,\n        annotationStorage: map,\n        modifiedIds,\n      },\n      transfer\n    );\n    const reader = readableStream.getReader();\n\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n\n    const pump = () => {\n      reader.read().then(\n        ({ value, done }) => {\n          if (done) {\n            intentState.streamReader = null;\n            return;\n          }\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          this._renderPageChunk(value, intentState);\n          pump();\n        },\n        reason => {\n          intentState.streamReader = null;\n\n          if (this._transport.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          if (intentState.operatorList) {\n            // Mark operator list as complete.\n            intentState.operatorList.lastChunk = true;\n\n            for (const internalRenderTask of intentState.renderTasks) {\n              internalRenderTask.operatorListChanged();\n            }\n            this.#tryCleanup();\n          }\n\n          if (intentState.displayReadyCapability) {\n            intentState.displayReadyCapability.reject(reason);\n          } else if (intentState.opListReadCapability) {\n            intentState.opListReadCapability.reject(reason);\n          } else {\n            throw reason;\n          }\n        }\n      );\n    };\n    pump();\n  }\n\n  /**\n   * @private\n   */\n  _abortOperatorList({ intentState, reason, force = false }) {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        reason instanceof Error,\n        '_abortOperatorList: Expected valid \"reason\" argument.'\n      );\n    }\n\n    if (!intentState.streamReader) {\n      return;\n    }\n    // Ensure that a pending `streamReader` cancel timeout is always aborted.\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n\n    if (!force) {\n      // Ensure that an Error occurring in *only* one `InternalRenderTask`, e.g.\n      // multiple render() calls on the same canvas, won't break all rendering.\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      // Don't immediately abort parsing on the worker-thread when rendering is\n      // cancelled, since that will unnecessarily delay re-rendering when (for\n      // partially parsed pages) e.g. zooming/rotation occurs in the viewer.\n      if (reason instanceof RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < /* ms = */ 1000) {\n          // Above, we prevent the total delay from becoming arbitrarily large.\n          delay += reason.extraDelay;\n        }\n\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({ intentState, reason, force: true });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader\n      .cancel(new AbortException(reason.message))\n      .catch(() => {\n        // Avoid \"Uncaught promise\" messages in the console.\n      });\n    intentState.streamReader = null;\n\n    if (this._transport.destroyed) {\n      return; // Ignore any pending requests if the worker was terminated.\n    }\n    // Remove the current `intentState`, since a cancelled `getOperatorList`\n    // call on the worker-thread cannot be re-started...\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    // ... and force clean-up to ensure that any old state is always removed.\n    this.cleanup();\n  }\n\n  /**\n   * @type {StatTimer | null} Returns page stats, if enabled; returns `null`\n   *   otherwise.\n   */\n  get stats() {\n    return this._stats;\n  }\n}\n\n/**\n * @typedef {Object} PDFWorkerParameters\n * @property {string} [name] - The name of the worker.\n * @property {Worker} [port] - The `workerPort` object.\n * @property {number} [verbosity] - Controls the logging level;\n *   the constants from {@link VerbosityLevel} should be used.\n */\n\n/**\n * PDF.js web worker abstraction that controls the instantiation of PDF\n * documents. Message handlers are used to pass information from the main\n * thread to the worker thread and vice versa. If the creation of a web\n * worker is not possible, a \"fake\" worker will be used instead.\n *\n * @param {PDFWorkerParameters} params - The worker initialization parameters.\n */\nclass PDFWorker {\n  #capability = Promise.withResolvers();\n\n  #messageHandler = null;\n\n  #port = null;\n\n  #webWorker = null;\n\n  static #fakeWorkerId = 0;\n\n  static #isWorkerDisabled = false;\n\n  static #workerPorts = new WeakMap();\n\n  static {\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"GENERIC\")) {\n      if (isNodeJS) {\n        // Workers aren't supported in Node.js, force-disabling them there.\n        this.#isWorkerDisabled = true;\n\n        GlobalWorkerOptions.workerSrc ||= PDFJSDev.test(\"LIB\")\n          ? \"../pdf.worker.js\"\n          : \"./pdf.worker.mjs\";\n      }\n\n      // Check if URLs have the same origin. For non-HTTP based URLs, returns\n      // false.\n      this._isSameOrigin = (baseUrl, otherUrl) => {\n        const base = URL.parse(baseUrl);\n        if (!base?.origin || base.origin === \"null\") {\n          return false; // non-HTTP url\n        }\n        const other = new URL(otherUrl, base);\n        return base.origin === other.origin;\n      };\n\n      this._createCDNWrapper = url => {\n        // We will rely on blob URL's property to specify origin.\n        // We want this function to fail in case if createObjectURL or Blob do\n        // not exist or fail for some reason -- our Worker creation will fail\n        // anyway.\n        const wrapper = `await import(\"${url}\");`;\n        return URL.createObjectURL(\n          new Blob([wrapper], { type: \"text/javascript\" })\n        );\n      };\n\n      this.fromPort = params => {\n        deprecated(\n          \"`PDFWorker.fromPort` - please use `PDFWorker.create` instead.\"\n        );\n        if (!params?.port) {\n          throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n        }\n        return this.create(params);\n      };\n    }\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      this._resetGlobalState = () => {\n        this.#isWorkerDisabled = false;\n        delete globalThis.pdfjsWorker;\n      };\n    }\n  }\n\n  constructor({\n    name = null,\n    port = null,\n    verbosity = getVerbosityLevel(),\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n\n    if (port) {\n      if (PDFWorker.#workerPorts.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      PDFWorker.#workerPorts.set(port, this);\n      this.#initializeFromPort(port);\n    } else {\n      this.#initialize();\n    }\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"_webWorker\", {\n        get() {\n          return this.#webWorker;\n        },\n      });\n    }\n  }\n\n  /**\n   * Promise for worker initialization completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this.#capability.promise;\n  }\n\n  #resolve() {\n    this.#capability.resolve();\n    // Send global setting, e.g. verbosity level.\n    this.#messageHandler.send(\"configure\", {\n      verbosity: this.verbosity,\n    });\n  }\n\n  /**\n   * The current `workerPort`, when it exists.\n   * @type {Worker}\n   */\n  get port() {\n    return this.#port;\n  }\n\n  /**\n   * The current MessageHandler-instance.\n   * @type {MessageHandler}\n   */\n  get messageHandler() {\n    return this.#messageHandler;\n  }\n\n  #initializeFromPort(port) {\n    this.#port = port;\n    this.#messageHandler = new MessageHandler(\"main\", \"worker\", port);\n    this.#messageHandler.on(\"ready\", () => {\n      // Ignoring \"ready\" event -- MessageHandler should already be initialized\n      // and ready to accept messages.\n    });\n    this.#resolve();\n  }\n\n  #initialize() {\n    // If worker support isn't disabled explicit and the browser has worker\n    // support, create a new web worker and test if it/the browser fulfills\n    // all requirements to run parts of pdf.js in a web worker.\n    // Right now, the requirement is, that an Uint8Array is still an\n    // Uint8Array as it arrives on the worker.\n    if (\n      PDFWorker.#isWorkerDisabled ||\n      PDFWorker.#mainThreadWorkerMessageHandler\n    ) {\n      this.#setupFakeWorker();\n      return;\n    }\n    let { workerSrc } = PDFWorker;\n\n    try {\n      // Wraps workerSrc path into blob URL, if the former does not belong\n      // to the same origin.\n      if (\n        typeof PDFJSDev !== \"undefined\" &&\n        PDFJSDev.test(\"GENERIC\") &&\n        !PDFWorker._isSameOrigin(window.location, workerSrc)\n      ) {\n        workerSrc = PDFWorker._createCDNWrapper(\n          new URL(workerSrc, window.location).href\n        );\n      }\n\n      const worker = new Worker(workerSrc, { type: \"module\" });\n      const messageHandler = new MessageHandler(\"main\", \"worker\", worker);\n      const terminateEarly = () => {\n        ac.abort();\n        messageHandler.destroy();\n        worker.terminate();\n        if (this.destroyed) {\n          this.#capability.reject(new Error(\"Worker was destroyed\"));\n        } else {\n          // Fall back to fake worker if the termination is caused by an\n          // error (e.g. NetworkError / SecurityError).\n          this.#setupFakeWorker();\n        }\n      };\n\n      const ac = new AbortController();\n      worker.addEventListener(\n        \"error\",\n        () => {\n          if (!this.#webWorker) {\n            // Worker failed to initialize due to an error. Clean up and fall\n            // back to the fake worker.\n            terminateEarly();\n          }\n        },\n        { signal: ac.signal }\n      );\n\n      messageHandler.on(\"test\", data => {\n        ac.abort();\n        if (this.destroyed || !data) {\n          terminateEarly();\n          return;\n        }\n        this.#messageHandler = messageHandler;\n        this.#port = worker;\n        this.#webWorker = worker;\n\n        this.#resolve();\n      });\n\n      messageHandler.on(\"ready\", data => {\n        ac.abort();\n        if (this.destroyed) {\n          terminateEarly();\n          return;\n        }\n        try {\n          sendTest();\n        } catch {\n          // We need fallback to a faked worker.\n          this.#setupFakeWorker();\n        }\n      });\n\n      const sendTest = () => {\n        const testObj = new Uint8Array();\n        // Ensure that we can use `postMessage` transfers.\n        messageHandler.send(\"test\", testObj, [testObj.buffer]);\n      };\n\n      // It might take time for the worker to initialize. We will try to send\n      // the \"test\" message immediately, and once the \"ready\" message arrives.\n      // The worker shall process only the first received \"test\" message.\n      sendTest();\n      return;\n    } catch {\n      info(\"The worker has been disabled.\");\n    }\n    // Either workers are not supported or have thrown an exception.\n    // Thus, we fallback to a faked worker.\n    this.#setupFakeWorker();\n  }\n\n  #setupFakeWorker() {\n    if (!PDFWorker.#isWorkerDisabled) {\n      warn(\"Setting up fake worker.\");\n      PDFWorker.#isWorkerDisabled = true;\n    }\n\n    PDFWorker._setupFakeWorkerGlobal\n      .then(WorkerMessageHandler => {\n        if (this.destroyed) {\n          this.#capability.reject(new Error(\"Worker was destroyed\"));\n          return;\n        }\n        const port = new LoopbackPort();\n        this.#port = port;\n\n        // All fake workers use the same port, making id unique.\n        const id = `fake${PDFWorker.#fakeWorkerId++}`;\n\n        // If the main thread is our worker, setup the handling for the\n        // messages -- the main thread sends to it self.\n        const workerHandler = new MessageHandler(id + \"_worker\", id, port);\n        WorkerMessageHandler.setup(workerHandler, port);\n\n        this.#messageHandler = new MessageHandler(id, id + \"_worker\", port);\n        this.#resolve();\n      })\n      .catch(reason => {\n        this.#capability.reject(\n          new Error(`Setting up fake worker failed: \"${reason.message}\".`)\n        );\n      });\n  }\n\n  /**\n   * Destroys the worker instance.\n   */\n  destroy() {\n    this.destroyed = true;\n\n    // We need to terminate only web worker created resource.\n    this.#webWorker?.terminate();\n    this.#webWorker = null;\n\n    PDFWorker.#workerPorts.delete(this.#port);\n    this.#port = null;\n\n    this.#messageHandler?.destroy();\n    this.#messageHandler = null;\n  }\n\n  /**\n   * @param {PDFWorkerParameters} params - The worker initialization parameters.\n   * @returns {PDFWorker}\n   */\n  static create(params) {\n    const cachedPort = this.#workerPorts.get(params?.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\n          \"PDFWorker.create - the worker is being destroyed.\\n\" +\n            \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\"\n        );\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n\n  /**\n   * The current `workerSrc`, when it exists.\n   * @type {string}\n   */\n  static get workerSrc() {\n    if (GlobalWorkerOptions.workerSrc) {\n      return GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n\n  // Loads worker code into the main-thread.\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        // The worker was already loaded using e.g. a `<script>` tag.\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker =\n        typeof PDFJSDev === \"undefined\"\n          ? await import(\"pdfjs/pdf.worker.js\")\n          : await __raw_import__(this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n\n    return shadow(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass WorkerTransport {\n  #methodPromises = new Map();\n\n  #pageCache = new Map();\n\n  #pagePromises = new Map();\n\n  #pageRefCache = new Map();\n\n  #passwordCapability = null;\n\n  constructor(\n    messageHandler,\n    loadingTask,\n    networkStream,\n    params,\n    factory,\n    enableHWA\n  ) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement,\n    });\n    this.loadingParams = params.loadingParams;\n    this._params = params;\n\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.wasmFactory = factory.wasmFactory;\n\n    this.destroyed = false;\n    this.destroyCapability = null;\n\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.enableHWA = enableHWA;\n\n    this.setupMessageHandler();\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getNetworkStreamName\", {\n        value: () => networkStream?.constructor?.name || null,\n      });\n      Object.defineProperty(this, \"getXFADatasets\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetXFADatasets\", null),\n      });\n      Object.defineProperty(this, \"getXRefPrevValue\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetXRefPrevValue\", null),\n      });\n      Object.defineProperty(this, \"getStartXRefPos\", {\n        value: () =>\n          this.messageHandler.sendWithPromise(\"GetStartXRefPos\", null),\n      });\n      Object.defineProperty(this, \"getAnnotArray\", {\n        value: pageIndex =>\n          this.messageHandler.sendWithPromise(\"GetAnnotArray\", { pageIndex }),\n      });\n    }\n  }\n\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  get annotationStorage() {\n    return shadow(this, \"annotationStorage\", new AnnotationStorage());\n  }\n\n  getRenderingIntent(\n    intent,\n    annotationMode = AnnotationMode.ENABLE,\n    printAnnotationStorage = null,\n    isEditing = false,\n    isOpList = false\n  ) {\n    let renderingIntent = RenderingIntentFlag.DISPLAY; // Default value.\n    let annotationStorageSerializable = SerializableEmpty;\n\n    switch (intent) {\n      case \"any\":\n        renderingIntent = RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = RenderingIntentFlag.PRINT;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n\n    const annotationStorage =\n      renderingIntent & RenderingIntentFlag.PRINT &&\n      printAnnotationStorage instanceof PrintAnnotationStorage\n        ? printAnnotationStorage\n        : this.annotationStorage;\n\n    switch (annotationMode) {\n      case AnnotationMode.DISABLE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case AnnotationMode.ENABLE:\n        break;\n      case AnnotationMode.ENABLE_FORMS:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += RenderingIntentFlag.ANNOTATIONS_STORAGE;\n\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        warn(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n\n    if (isEditing) {\n      renderingIntent += RenderingIntentFlag.IS_EDITING;\n    }\n    if (isOpList) {\n      renderingIntent += RenderingIntentFlag.OPLIST;\n    }\n\n    const { ids: modifiedIds, hash: modifiedIdsHash } =\n      annotationStorage.modifiedIds;\n\n    const cacheKeyBuf = [\n      renderingIntent,\n      annotationStorageSerializable.hash,\n      modifiedIdsHash,\n    ];\n\n    return {\n      renderingIntent,\n      cacheKey: cacheKeyBuf.join(\"_\"),\n      annotationStorageSerializable,\n      modifiedIds,\n    };\n  }\n\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n\n    this.#passwordCapability?.reject(\n      new Error(\"Worker was destroyed during onPassword callback\")\n    );\n\n    const waitOn = [];\n    // We need to wait for all renderings to be completed, e.g.\n    // timeout/rAF can take a long time.\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    // Allow `AnnotationStorage`-related clean-up when destroying the document.\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    // We also need to wait for the worker to finish its long running tasks.\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      TextLayer.cleanup();\n\n      this._networkStream?.cancelAllRequests(\n        new AbortException(\"Worker was terminated.\")\n      );\n\n      this.messageHandler?.destroy();\n      this.messageHandler = null;\n\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n\n  setupMessageHandler() {\n    const { messageHandler, loadingTask } = this;\n\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetReader - no `IPDFStream` instance available.\"\n      );\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total,\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetReader - expected an ArrayBuffer.\"\n            );\n            // Enqueue data chunk into sink, and transfer it\n            // to other side as `Transferable` object.\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"ReaderHeadersReady\", async data => {\n      await this._fullReader.headersReady;\n\n      const { isStreamingSupported, isRangeSupported, contentLength } =\n        this._fullReader;\n\n      // If stream or range are disabled, it's our only way to report\n      // loading progress.\n      if (!isStreamingSupported || !isRangeSupported) {\n        if (this._lastProgress) {\n          loadingTask.onProgress?.(this._lastProgress);\n        }\n        this._fullReader.onProgress = evt => {\n          loadingTask.onProgress?.({\n            loaded: evt.loaded,\n            total: evt.total,\n          });\n        };\n      }\n\n      return { isStreamingSupported, isRangeSupported, contentLength };\n    });\n\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      assert(\n        this._networkStream,\n        \"GetRangeReader - no `IPDFStream` instance available.\"\n      );\n      const rangeReader = this._networkStream.getRangeReader(\n        data.begin,\n        data.end\n      );\n\n      // When streaming is enabled, it's possible that the data requested here\n      // has already been fetched via the `_fullRequestReader` implementation.\n      // However, given that the PDF data is loaded asynchronously on the\n      // main-thread and then sent via `postMessage` to the worker-thread,\n      // it may not have been available during parsing (hence the attempt to\n      // use range requests here).\n      //\n      // To avoid wasting time and resources here, we'll thus *not* dispatch\n      // range requests if the data was already loaded but has not been sent to\n      // the worker-thread yet (which will happen via the `_fullRequestReader`).\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n\n      sink.onPull = () => {\n        rangeReader\n          .read()\n          .then(function ({ value, done }) {\n            if (done) {\n              sink.close();\n              return;\n            }\n            assert(\n              value instanceof ArrayBuffer,\n              \"GetRangeReader - expected an ArrayBuffer.\"\n            );\n            sink.enqueue(new Uint8Array(value), 1, [value]);\n          })\n          .catch(reason => {\n            sink.error(reason);\n          });\n      };\n\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return; // Ignore any pending requests if the worker was terminated.\n          }\n          throw readyReason;\n        });\n      };\n    });\n\n    messageHandler.on(\"GetDoc\", ({ pdfInfo }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n\n    messageHandler.on(\"DocException\", ex => {\n      loadingTask._capability.reject(wrapReason(ex));\n    });\n\n    messageHandler.on(\"PasswordRequest\", ex => {\n      this.#passwordCapability = Promise.withResolvers();\n\n      try {\n        if (!loadingTask.onPassword) {\n          throw wrapReason(ex);\n        }\n\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({ password });\n          }\n        };\n        loadingTask.onPassword(updatePassword, ex.code);\n      } catch (err) {\n        this.#passwordCapability.reject(err);\n      }\n      return this.#passwordCapability.promise;\n    });\n\n    messageHandler.on(\"DataLoaded\", data => {\n      // For consistency: Ensure that progress is always reported when the\n      // entire PDF file has been loaded, regardless of how it was fetched.\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length,\n      });\n\n      this.downloadInfoCapability.resolve(data);\n    });\n\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null; // Ignore any pending requests if the worker was terminated.\n      }\n\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n\n      switch (type) {\n        case \"Font\":\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            warn(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n\n          const inspectFont =\n            this._params.pdfBug && globalThis.FontInspector?.enabled\n              ? (font, url) => globalThis.FontInspector.fontAdded(font, url)\n              : null;\n          const font = new FontFaceObject(exportedData, inspectFont);\n\n          this.fontLoader\n            .bind(font)\n            .catch(() => messageHandler.sendWithPromise(\"FontFallback\", { id }))\n            .finally(() => {\n              if (!font.fontExtraProperties && font.data) {\n                // Immediately release the `font.data` property once the font\n                // has been attached to the DOM, since it's no longer needed,\n                // rather than waiting for a `PDFDocumentProxy.cleanup` call.\n                // Since `font.data` could be very large, e.g. in some cases\n                // multiple megabytes, this will help reduce memory usage.\n                font.data = null;\n              }\n              this.commonObjs.resolve(id, font);\n            });\n          break;\n        case \"CopyLocalImage\":\n          const { imageRef } = exportedData;\n          assert(imageRef, \"The imageRef must be defined.\");\n\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data?.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n\n      return null;\n    });\n\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        // Ignore any pending requests if the worker was terminated.\n        return;\n      }\n\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      // Don't store data *after* cleanup has successfully run, see bug 1854145.\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close(); // Release any `ImageBitmap` data.\n        return;\n      }\n\n      switch (type) {\n        case \"Image\":\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return; // Ignore any pending requests if the worker was terminated.\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total,\n      });\n    });\n\n    messageHandler.on(\"FetchBinaryData\", async data => {\n      if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"MOZCENTRAL\")) {\n        throw new Error(\"Not implemented: FetchBinaryData\");\n      }\n      if (this.destroyed) {\n        throw new Error(\"Worker was destroyed.\");\n      }\n      const factory = this[data.type];\n\n      if (!factory) {\n        throw new Error(\n          `${data.type} not initialized, see the \\`useWorkerFetch\\` parameter.`\n        );\n      }\n      return factory.fetch(data);\n    });\n  }\n\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      warn(\n        \"saveDocument called while `annotationStorage` is empty, \" +\n          \"please use the getData-method instead.\"\n      );\n    }\n    const { map, transfer } = this.annotationStorage.serializable;\n\n    return this.messageHandler\n      .sendWithPromise(\n        \"SaveDocument\",\n        {\n          isPureXfa: !!this._htmlForXfa,\n          numPages: this._numPages,\n          annotationStorage: map,\n          filename: this._fullReader?.filename ?? null,\n        },\n        transfer\n      )\n      .finally(() => {\n        this.annotationStorage.resetModified();\n      });\n  }\n\n  getPage(pageNumber) {\n    if (\n      !Number.isInteger(pageNumber) ||\n      pageNumber <= 0 ||\n      pageNumber > this._numPages\n    ) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(\"GetPage\", {\n        pageIndex,\n      })\n      .then(pageInfo => {\n        if (this.destroyed) {\n          throw new Error(\"Transport destroyed\");\n        }\n        if (pageInfo.refStr) {\n          this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n        }\n\n        const page = new PDFPageProxy(\n          pageIndex,\n          pageInfo,\n          this,\n          this._params.pdfBug\n        );\n        this.#pageCache.set(pageIndex, page);\n        return page;\n      });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen,\n    });\n  }\n\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent,\n    });\n  }\n\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id,\n    });\n  }\n\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n\n  getAnnotationsByType(types, pageIndexesToSkip) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotationsByType\", {\n      types,\n      pageIndexesToSkip,\n    });\n  }\n\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex,\n    });\n  }\n\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex,\n    });\n  }\n\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(\n      data => new OptionalContentConfig(data, renderingIntent)\n    );\n  }\n\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler\n      .sendWithPromise(name, null)\n      .then(results => ({\n        info: results[0],\n        metadata: results[1] ? new Metadata(results[1]) : null,\n        contentDispositionFilename: this._fullReader?.filename ?? null,\n        contentLength: this._fullReader?.contentLength ?? null,\n      }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return; // No need to manually clean-up when destruction has started.\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n\n      if (!cleanupSuccessful) {\n        throw new Error(\n          `startCleanup: Page ${page.pageNumber} is currently rendering.`\n        );\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(/* keepHCM = */ true);\n    TextLayer.cleanup();\n  }\n\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n}\n\n/**\n * Allows controlling of the rendering tasks.\n */\nclass RenderTask {\n  #internalRenderTask = null;\n\n  /**\n   * Callback for incremental rendering -- a function that will be called\n   * each time the rendering is paused.  To continue rendering call the\n   * function that is the first argument to the callback.\n   * @type {function}\n   */\n  onContinue = null;\n\n  /**\n   * A function that will be synchronously called when the rendering tasks\n   * finishes with an error (either because of an actual error, or because the\n   * rendering is cancelled).\n   *\n   * @type {function}\n   * @param {Error} error\n   */\n  onError = null;\n\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"getOperatorList\", {\n        value: () => this.#internalRenderTask.operatorList,\n      });\n    }\n  }\n\n  /**\n   * Promise for rendering task completion.\n   * @type {Promise<void>}\n   */\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n\n  /**\n   * Cancels the rendering task. If the task is currently rendering it will\n   * not be cancelled until graphics pauses with a timeout. The promise that\n   * this object extends will be rejected when cancelled.\n   *\n   * @param {number} [extraDelay]\n   */\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(/* error = */ null, extraDelay);\n  }\n\n  /**\n   * Whether form fields are rendered separately from the main operatorList.\n   * @type {boolean}\n   */\n  get separateAnnots() {\n    const { separateAnnots } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const { annotationCanvasMap } = this.#internalRenderTask;\n    return (\n      separateAnnots.form ||\n      (separateAnnots.canvas && annotationCanvasMap?.size > 0)\n    );\n  }\n}\n\n/**\n * For internal use only.\n * @ignore\n */\nclass InternalRenderTask {\n  #rAF = null;\n\n  static #canvasInUse = new WeakSet();\n\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null,\n    enableHWA = false,\n    filteredOperationIndexes = null,\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame =\n      useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    // caching this-bound methods\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvas;\n    this._canvasContext = params.canvas ? null : params.canvasContext;\n    this._enableHWA = enableHWA;\n    this._dependencyTracker = params.dependencyTracker;\n    this._filteredOperationIndexes = filteredOperationIndexes;\n  }\n\n  get completed() {\n    return this.capability.promise.catch(function () {\n      // Ignoring errors, since we only want to know when rendering is\n      // no longer pending.\n    });\n  }\n\n  initializeGraphics({ transparency = false, optionalContentConfig }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\n          \"Cannot use the same canvas during multiple render() operations. \" +\n            \"Use different canvas or ensure previous operations were \" +\n            \"cancelled or completed.\"\n        );\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const { viewport, transform, background, dependencyTracker } = this.params;\n\n    // When printing in Firefox, we get a specific context in mozPrintCallback\n    // which cannot be created from the canvas itself.\n    const canvasContext =\n      this._canvasContext ||\n      this._canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: !this._enableHWA,\n      });\n\n    this.gfx = new CanvasGraphics(\n      canvasContext,\n      this.commonObjs,\n      this.objs,\n      this.canvasFactory,\n      this.filterFactory,\n      { optionalContentConfig },\n      this.annotationCanvasMap,\n      this.pageColors,\n      dependencyTracker\n    );\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background,\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    if (this.#rAF) {\n      window.cancelAnimationFrame(this.#rAF);\n      this.#rAF = null;\n    }\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n    error ||= new RenderingCancelledException(\n      `Rendering cancelled, page ${this._pageIndex + 1}`,\n      extraDelay\n    );\n    this.callback(error);\n\n    this.task.onError?.(error);\n  }\n\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      this.#rAF = window.requestAnimationFrame(() => {\n        this.#rAF = null;\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(\n      this.operatorList,\n      this.operatorListIdx,\n      this._continueBound,\n      this.stepper,\n      this._filteredOperationIndexes\n    );\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n\n        this.callback();\n      }\n    }\n  }\n}\n\n/** @type {string} */\nconst version =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_VERSION\") : null;\n/** @type {string} */\nconst build =\n  typeof PDFJSDev !== \"undefined\" ? PDFJSDev.eval(\"BUNDLE_BUILD\") : null;\n\nexport {\n  build,\n  getDocument,\n  PDFDataRangeTransport,\n  PDFDocumentLoadingTask,\n  PDFDocumentProxy,\n  PDFPageProxy,\n  PDFWorker,\n  RenderTask,\n  version,\n};\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorParamsType, shadow } from \"../../shared/util.js\";\nimport { KeyboardManager } from \"./tools.js\";\nimport { noContextMenu } from \"../display_utils.js\";\n\n/**\n * ColorPicker class provides a color picker for the annotation editor.\n * It displays a dropdown with some predefined colors and allows the user\n * to select a color for the annotation.\n */\nclass ColorPicker {\n  #button = null;\n\n  #buttonSwatch = null;\n\n  #defaultColor;\n\n  #dropdown = null;\n\n  #dropdownWasFromKeyboard = false;\n\n  #isMainColorPicker = false;\n\n  #editor = null;\n\n  #eventBus;\n\n  #openDropdownAC = null;\n\n  #uiManager = null;\n\n  static #l10nColor = null;\n\n  static get _keyboardManager() {\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          [\"Escape\", \"mac+Escape\"],\n          ColorPicker.prototype._hideDropdownFromKeyboard,\n        ],\n        [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard],\n        [\n          [\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"],\n          ColorPicker.prototype._moveToNext,\n        ],\n        [\n          [\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"],\n          ColorPicker.prototype._moveToPrevious,\n        ],\n        [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning],\n        [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd],\n      ])\n    );\n  }\n\n  constructor({ editor = null, uiManager = null }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor =\n      editor?.color?.toUpperCase() ||\n      this.#uiManager?.highlightColors.values().next().value ||\n      \"#FFFF98\";\n\n    ColorPicker.#l10nColor ||= Object.freeze({\n      blue: \"pdfjs-editor-colorpicker-blue\",\n      green: \"pdfjs-editor-colorpicker-green\",\n      pink: \"pdfjs-editor-colorpicker-pink\",\n      red: \"pdfjs-editor-colorpicker-red\",\n      yellow: \"pdfjs-editor-colorpicker-yellow\",\n    });\n  }\n\n  renderButton() {\n    const button = (this.#button = document.createElement(\"button\"));\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.ariaHasPopup = \"true\";\n    if (this.#editor) {\n      button.ariaControls = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    const signal = this.#uiManager._signal;\n    button.addEventListener(\"click\", this.#openDropdown.bind(this), { signal });\n    button.addEventListener(\"keydown\", this.#keyDown.bind(this), { signal });\n    const swatch = (this.#buttonSwatch = document.createElement(\"span\"));\n    swatch.className = \"swatch\";\n    swatch.ariaHidden = \"true\";\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n\n  renderMainDropdown() {\n    const dropdown = (this.#dropdown = this.#getDropdownRoot());\n    dropdown.ariaOrientation = \"horizontal\";\n    dropdown.ariaLabelledBy = \"highlightColorPickerLabel\";\n\n    return dropdown;\n  }\n\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    const signal = this.#uiManager._signal;\n    div.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.ariaMultiSelectable = \"false\";\n    div.ariaOrientation = \"vertical\";\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    if (this.#editor) {\n      div.id = `${this.#editor.id}_colorpicker_dropdown`;\n    }\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", ColorPicker.#l10nColor[name]);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.ariaSelected = color === this.#defaultColor;\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color), {\n        signal,\n      });\n      div.append(button);\n    }\n\n    div.addEventListener(\"keydown\", this.#keyDown.bind(this), { signal });\n\n    return div;\n  }\n\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      value: color,\n    });\n    this.updateColor(color);\n  }\n\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n\n  _moveToPrevious(event) {\n    if (\n      event.target === this.#dropdown?.firstChild ||\n      event.target === this.#button\n    ) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n\n    if (!this.#openDropdownAC) {\n      this.#openDropdownAC = new AbortController();\n\n      window.addEventListener(\"pointerdown\", this.#pointerDown.bind(this), {\n        signal: this.#uiManager.combinedSignal(this.#openDropdownAC),\n      });\n    }\n    this.#button.ariaExpanded = \"true\";\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = (this.#dropdown = this.#getDropdownRoot());\n    this.#button.append(root);\n  }\n\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    this.#button.ariaExpanded = \"false\";\n    this.#openDropdownAC?.abort();\n    this.#openDropdownAC = null;\n  }\n\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      // The user pressed Escape with no dropdown visible, so we must\n      // unselect it.\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard,\n    });\n  }\n\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.ariaSelected = i.next().value === color.toUpperCase();\n    }\n  }\n\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n/**\n * BasicColorPicker class provides a simple color picker.\n * It displays an input element (with type=\"color\") that allows the user\n * to select a color for the annotation.\n */\nclass BasicColorPicker {\n  #input = null;\n\n  #editor = null;\n\n  #uiManager = null;\n\n  static #l10nColor = null;\n\n  constructor(editor) {\n    this.#editor = editor;\n    this.#uiManager = editor._uiManager;\n\n    BasicColorPicker.#l10nColor ||= Object.freeze({\n      freetext: \"pdfjs-editor-color-picker-free-text-input\",\n      ink: \"pdfjs-editor-color-picker-ink-input\",\n    });\n  }\n\n  renderButton() {\n    if (this.#input) {\n      return this.#input;\n    }\n    const { editorType, colorType, colorValue } = this.#editor;\n    const input = (this.#input = document.createElement(\"input\"));\n    input.type = \"color\";\n    input.value = colorValue || \"#000000\";\n    input.className = \"basicColorPicker\";\n    input.tabIndex = 0;\n    input.setAttribute(\"data-l10n-id\", BasicColorPicker.#l10nColor[editorType]);\n    input.addEventListener(\n      \"input\",\n      () => {\n        this.#uiManager.updateParams(colorType, input.value);\n      },\n      { signal: this.#uiManager._signal }\n    );\n    return input;\n  }\n\n  update(value) {\n    if (!this.#input) {\n      return;\n    }\n    this.#input.value = value;\n  }\n\n  destroy() {\n    this.#input?.remove();\n    this.#input = null;\n  }\n\n  hideDropdown() {}\n}\n\nexport { BasicColorPicker, ColorPicker };\n","/* Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * PLEASE NOTE: This file is currently imported in both the `../display/` and\n *              `../scripting_api/` folders, hence be EXTREMELY careful about\n *              introducing any dependencies here since that can lead to an\n *              unexpected/unnecessary size increase of the *built* files.\n */\n\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255)\n    .toString(16)\n    .padStart(2, \"0\");\n}\n\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\n\n// PDF specifications section 10.3\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n\n  static T_HTML() {\n    return \"#00000000\";\n  }\n\n  static T_rgb() {\n    return [null];\n  }\n\n  static CMYK_RGB([c, y, m, k]) {\n    return [\n      \"RGB\",\n      1 - Math.min(1, c + k),\n      1 - Math.min(1, m + k),\n      1 - Math.min(1, y + k),\n    ];\n  }\n\n  static CMYK_rgb([c, y, m, k]) {\n    return [\n      scaleAndClamp(1 - Math.min(1, c + k)),\n      scaleAndClamp(1 - Math.min(1, m + k)),\n      scaleAndClamp(1 - Math.min(1, y + k)),\n    ];\n  }\n\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\nconst DateFormats = [\n  \"m/d\",\n  \"m/d/yy\",\n  \"mm/dd/yy\",\n  \"mm/yy\",\n  \"d-mmm\",\n  \"d-mmm-yy\",\n  \"dd-mmm-yy\",\n  \"yy-mm-dd\",\n  \"mmm-yy\",\n  \"mmmm-yy\",\n  \"mmm d, yyyy\",\n  \"mmmm d, yyyy\",\n  \"m/d/yy h:MM tt\",\n  \"m/d/yy HH:MM\",\n];\nconst TimeFormats = [\"HH:MM\", \"h:MM tt\", \"HH:MM:ss\", \"h:MM:ss tt\"];\n\nexport { ColorConverters, DateFormats, TimeFormats };\n","/* Copyright 2015 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { SVG_NS } from \"./display_utils.js\";\nimport { unreachable } from \"../shared/util.js\";\n\nclass BaseSVGFactory {\n  constructor() {\n    if (\n      (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) &&\n      this.constructor === BaseSVGFactory\n    ) {\n      unreachable(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n\n    return svg;\n  }\n\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    unreachable(\"Abstract method `_createSVG` called.\");\n  }\n}\n\nclass DOMSVGFactory extends BaseSVGFactory {\n  /**\n   * @ignore\n   */\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\n\nexport { BaseSVGFactory, DOMSVGFactory };\n","/* Copyright 2021 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_storage\").AnnotationStorage} AnnotationStorage */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n\nimport { XfaText } from \"./xfa_text.js\";\n\n/**\n * @typedef {Object} XfaLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Object} xfaHtml\n * @property {AnnotationStorage} [annotationStorage]\n * @property {IPDFLinkService} linkService\n * @property {string} [intent] - (default value is 'display').\n */\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, { value: null });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, { value: event.target.value });\n        });\n        break;\n      case \"input\":\n        if (\n          element.attributes.type === \"radio\" ||\n          element.attributes.type === \"checkbox\"\n        ) {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            // The checked attribute may have been set when opening the file,\n            // unset through the UI and we're here because of printing.\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked\n                ? event.target.getAttribute(\"xfaOn\")\n                : event.target.getAttribute(\"xfaOff\"),\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, { value: event.target.value });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value =\n            options.selectedIndex === -1\n              ? \"\"\n              : options[options.selectedIndex].value;\n          storage.setValue(id, { value });\n        });\n        break;\n    }\n  }\n\n  static setAttributes({ html, element, storage = null, intent, linkService }) {\n    const { attributes } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n\n    if (attributes.type === \"radio\") {\n      // Avoid to have a radio group when printing with the same as one\n      // already displayed.\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          // We don't need to add dataId in the html object but it can\n          // be useful to know its value when writing printing tests:\n          // in this case, don't skip dataId to have its value.\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || (key !== \"href\" && key !== \"newWindow\")) {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(\n        html,\n        attributes.href,\n        attributes.newWindow\n      );\n    }\n\n    // Set the value after the others to be sure to overwrite any other values.\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n\n  /**\n   * Render the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService,\n      });\n    }\n\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n\n    // Set defaults.\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n\n    // Text nodes used for the text highlighter.\n    const textDivs = [];\n\n    // In the rich text context, it's possible to just have a text node without\n    // a root element, so we handle this case here (see issue 17215).\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return { textDivs };\n    }\n\n    const stack = [[root, -1, rootHtml]];\n\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n\n      const { name } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n\n      const childHtml = child?.attributes?.xmlns\n        ? document.createElementNS(child.attributes.xmlns, name)\n        : document.createElement(name);\n\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService,\n        });\n      }\n\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n\n    /**\n     * TODO: re-enable that stuff once we've JS implementation.\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1719465.\n     *\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaDisabled input, .xfaDisabled textarea\"\n     * )) {\n     * el.setAttribute(\"disabled\", true);\n     * }\n     * for (const el of rootDiv.querySelectorAll(\n     * \".xfaReadOnly input, .xfaReadOnly textarea\"\n     * )) {\n     * el.setAttribute(\"readOnly\", true);\n     * }\n     */\n\n    for (const el of rootDiv.querySelectorAll(\n      \".xfaNonInteractive input, .xfaNonInteractive textarea\"\n    )) {\n      el.setAttribute(\"readOnly\", true);\n    }\n\n    return {\n      textDivs,\n    };\n  }\n\n  /**\n   * Update the XFA layer.\n   *\n   * @param {XfaLayerParameters} parameters\n   */\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\nexport { XfaLayer };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @typedef {import(\"./api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display_utils\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/interfaces\").IDownloadManager} IDownloadManager */\n/** @typedef {import(\"../../web/interfaces\").IPDFLinkService} IPDFLinkService */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../src/display/editor/tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../web/struct_tree_layer_builder.js\").StructTreeLayerBuilder} StructTreeLayerBuilder */\n\nimport {\n  AnnotationBorderStyleType,\n  AnnotationEditorType,\n  AnnotationPrefix,\n  AnnotationType,\n  FeatureTest,\n  LINE_FACTOR,\n  shadow,\n  unreachable,\n  Util,\n  warn,\n} from \"../shared/util.js\";\nimport { PDFDateString, setLayerDimensions } from \"./display_utils.js\";\nimport { AnnotationStorage } from \"./annotation_storage.js\";\nimport { ColorConverters } from \"../shared/scripting_utils.js\";\nimport { DOMSVGFactory } from \"./svg_factory.js\";\nimport { XfaLayer } from \"./xfa_layer.js\";\n\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;\n\n/**\n * @typedef {Object} AnnotationElementParameters\n * @property {Object} data\n * @property {HTMLDivElement} layer\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} [downloadManager]\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {Object} svgFactory\n * @property {boolean} [enableScripting]\n * @property {boolean} [hasJSActions]\n * @property {Object} [fieldObjects]\n */\n\nclass AnnotationElementFactory {\n  /**\n   * @param {AnnotationElementParameters} parameters\n   * @returns {AnnotationElement}\n   */\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n\n    switch (subtype) {\n      case AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n\n      case AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n\n      case AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n\n      case AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n\n      case AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n\n      case AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n\n      case AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n\n      case AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n\n      case AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n\n      case AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n\n      case AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n\n      case AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n\n      case AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n\n      case AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n\n      case AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n\n      case AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n\n      case AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n\n      case AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\n\nclass AnnotationElement {\n  #updates = null;\n\n  #hasBorder = false;\n\n  #popupElement = null;\n\n  constructor(\n    parameters,\n    {\n      isRenderable = false,\n      ignoreBorder = false,\n      createQuadrilaterals = false,\n    } = {}\n  ) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableComment = parameters.enableComment;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n\n  static _hasPopupData({ contentsObj, richText }) {\n    return !!(contentsObj?.str || richText?.str);\n  }\n\n  get _isEditable() {\n    return this.data.isEditable;\n  }\n\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n\n  get hasCommentButton() {\n    return this.enableComment && this._isEditable && this.hasPopupElement;\n  }\n\n  get commentButtonPosition() {\n    const { quadPoints, rect } = this.data;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n    if (quadPoints?.length >= 8) {\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        if (quadPoints[i + 1] > maxY) {\n          maxY = quadPoints[i + 1];\n          maxX = quadPoints[i + 2];\n        } else if (quadPoints[i + 1] === maxY) {\n          maxX = Math.max(maxX, quadPoints[i + 2]);\n        }\n      }\n      return [maxX, maxY];\n    }\n    if (rect) {\n      return [rect[2], rect[3]];\n    }\n    return null;\n  }\n\n  get commentButtonColor() {\n    if (!this.data.color) {\n      return null;\n    }\n    const [r, g, b] = this.data.color;\n    const opacity = this.data.opacity ?? 1;\n    const oppositeOpacity = 255 * (1 - opacity);\n\n    return this.#changeLightness(\n      Math.min(r + oppositeOpacity, 255),\n      Math.min(g + oppositeOpacity, 255),\n      Math.min(b + oppositeOpacity, 255)\n    );\n  }\n\n  #changeLightness(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    const l = (max + min) / 2;\n    const newL = (((1 + Math.sqrt(l)) / 2) * 100).toFixed(2);\n\n    if (max === min) {\n      // gray\n      return `hsl(0, 0%, ${newL}%)`;\n    }\n\n    const d = max - min;\n\n    // hue (branch on max only; avoids mod)\n    let h;\n    if (max === r) {\n      h = (g - b) / d + (g < b ? 6 : 0);\n    } else if (max === g) {\n      h = (b - r) / d + 2;\n    } else {\n      // max === b\n      h = (r - g) / d + 4;\n    }\n    h = (h * 60).toFixed(2);\n    const s = ((d / (1 - Math.abs(2 * l - 1))) * 100).toFixed(2);\n\n    return `hsl(${h}, ${s}%, ${newL}%)`;\n  }\n\n  _normalizePoint(point) {\n    const {\n      page: { view },\n      viewport: {\n        rawDims: { pageWidth, pageHeight, pageX, pageY },\n      },\n    } = this.parent;\n    point[1] = view[3] - point[1] + view[1];\n    point[0] = (100 * (point[0] - pageX)) / pageWidth;\n    point[1] = (100 * (point[1] - pageY)) / pageHeight;\n    return point;\n  }\n\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n\n    if (params.rect) {\n      this.#updates ||= {\n        rect: this.data.rect.slice(0),\n      };\n    }\n\n    const { rect, popup: newPopup } = params;\n\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n\n    let popup = this.#popupElement?.popup || this.popup;\n    if (!popup && newPopup?.text) {\n      this._createPopup(newPopup);\n      popup = this.#popupElement.popup;\n    }\n    if (!popup) {\n      return;\n    }\n    popup.updateEdited(params);\n    if (newPopup?.deleted) {\n      popup.remove();\n      this.#popupElement = null;\n      this.popup = null;\n    }\n  }\n\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#popupElement?.popup.resetEdited();\n    this.#updates = null;\n  }\n\n  #setRectEdited(rect) {\n    const {\n      container: { style },\n      data: { rect: currentRect, rotation },\n      parent: {\n        viewport: {\n          rawDims: { pageWidth, pageHeight, pageX, pageY },\n        },\n      },\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    style.left = `${(100 * (rect[0] - pageX)) / pageWidth}%`;\n    style.top = `${(100 * (pageHeight - rect[3] + pageY)) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${(100 * /* width = */ (rect[2] - rect[0])) / pageWidth}%`;\n      style.height = `${(100 * /* height = */ (rect[3] - rect[1])) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n\n  /**\n   * Create an empty container for the annotation's HTML element.\n   *\n   * @private\n   * @param {boolean} ignoreBorder\n   * @memberof AnnotationElement\n   * @returns {HTMLElement} A section element.\n   */\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: { page, viewport },\n    } = this;\n\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (\n      !(this instanceof WidgetAnnotationElement) &&\n      !(this instanceof LinkAnnotationElement)\n    ) {\n      container.tabIndex = 0;\n    }\n    const { style } = container;\n\n    // The accessibility manager will move the annotation in the DOM in\n    // order to match the visual ordering.\n    // But if an annotation is above an other one, then we must draw it\n    // after the other one whatever the order is in the DOM, hence the\n    // use of the z-index.\n    style.zIndex = this.parent.zIndex;\n    // Keep zIndex + 1 for stuff we want to add on top of this annotation.\n    this.parent.zIndex += 2;\n\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const { rotation } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const { width, height } = this;\n\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--total-scale-factor)) / calc(${verticalRadius}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--total-scale-factor)) / calc(${height}px * var(--total-scale-factor))`;\n        style.borderRadius = radius;\n      }\n\n      switch (data.borderStyle.style) {\n        case AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n\n        case AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n\n        case AnnotationBorderStyleType.BEVELED:\n          warn(\"Unimplemented border style: beveled\");\n          break;\n\n        case AnnotationBorderStyleType.INSET:\n          warn(\"Unimplemented border style: inset\");\n          break;\n\n        case AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n\n        default:\n          break;\n      }\n\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = Util.makeHexColor(\n          borderColor[0] | 0,\n          borderColor[1] | 0,\n          borderColor[2] | 0\n        );\n      } else {\n        // Transparent (invisible) border, so do not draw it at all.\n        style.borderWidth = 0;\n      }\n    }\n\n    // Do *not* modify `data.rect`, since that will corrupt the annotation\n    // position on subsequent calls to `_createContainer` (see issue 6804).\n    const rect = Util.normalizeRect([\n      data.rect[0],\n      page.view[3] - data.rect[1] + page.view[1],\n      data.rect[2],\n      page.view[3] - data.rect[3] + page.view[1],\n    ]);\n    const { pageWidth, pageHeight, pageX, pageY } = viewport.rawDims;\n\n    style.left = `${(100 * (rect[0] - pageX)) / pageWidth}%`;\n    style.top = `${(100 * (rect[1] - pageY)) / pageHeight}%`;\n\n    const { rotation } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${(100 * width) / pageWidth}%`;\n      style.height = `${(100 * height) / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n\n    return container;\n  }\n\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const { pageWidth, pageHeight } = this.parent.viewport.rawDims;\n    let { width, height } = this;\n\n    if (angle % 180 !== 0) {\n      [width, height] = [height, width];\n    }\n    container.style.width = `${(100 * width) / pageWidth}%`;\n    container.style.height = `${(100 * height) / pageHeight}%`;\n\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] =\n        ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray),\n      });\n    };\n\n    return shadow(this, \"_commonActions\", {\n      display: event => {\n        const { display } = event.detail;\n        // See scripting/constants.js for the values of `Display`.\n        // 0 = visible, 1 = hidden, 2 = noPrint and 3 = noView.\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2,\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print,\n        });\n      },\n      hidden: event => {\n        const { hidden } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden,\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({ preventScroll: false }), 0);\n      },\n      userName: event => {\n        // tooltip\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle,\n        });\n      },\n    });\n  }\n\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n\n    // Some properties may have been updated thanks to JS.\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail,\n          },\n          target: element,\n        };\n        action(eventProxy);\n        // The action has been consumed: no need to keep it.\n        delete storedData[actionName];\n      }\n    }\n  }\n\n  /**\n   * Create quadrilaterals from the annotation's quadpoints.\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const { quadPoints } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect.map(x =>\n      Math.fround(x)\n    );\n\n    if (quadPoints.length === 8) {\n      const [trX, trY, blX, blY] = quadPoints.subarray(2, 6);\n      if (\n        rectTrX === trX &&\n        rectTrY === trY &&\n        rectBlX === blX &&\n        rectBlY === blY\n      ) {\n        // The quadpoints cover the whole annotation rectangle, so no need to\n        // create a quadrilateral.\n        return;\n      }\n    }\n\n    const { style } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const { borderColor, borderWidth } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\n        \"url('data:image/svg+xml;utf8,\",\n        `<svg xmlns=\"http://www.w3.org/2000/svg\"`,\n        ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`,\n        `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`,\n      ];\n      this.container.classList.add(\"hasBorder\");\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.container.classList.add(\"hasClipPath\");\n    }\n\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n\n    const { svgFactory } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    svg.role = \"none\";\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n\n    for (let i = 2, ii = quadPoints.length; i < ii; i += 8) {\n      const trX = quadPoints[i];\n      const trY = quadPoints[i + 1];\n      const blX = quadPoints[i + 2];\n      const blY = quadPoints[i + 3];\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(\n        `<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`\n      );\n    }\n\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n\n  /**\n   * Create a popup for the annotation's HTML element. This is used for\n   * annotations that do not have a Popup entry in the dictionary, but\n   * are of a type that works with popups (such as Highlight annotations).\n   *\n   * @param {Object} [popupData] - The data for the popup, if any.\n   *\n   * @private\n   * @memberof AnnotationElement\n   */\n  _createPopup(popupData = null) {\n    const { data } = this;\n\n    let contentsObj, modificationDate;\n    if (popupData) {\n      contentsObj = {\n        str: popupData.text,\n      };\n      modificationDate = popupData.date;\n    } else {\n      contentsObj = data.contentsObj;\n      modificationDate = data.modificationDate;\n    }\n    const popup = (this.#popupElement = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate,\n        contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation,\n        noRotate: true,\n      },\n      linkService: this.linkService,\n      parent: this.parent,\n      elements: [this],\n    }));\n    this.parent.div.append(popup.render());\n  }\n\n  get hasPopupElement() {\n    return !!(this.#popupElement || this.popup || this.data.popupRef);\n  }\n\n  /**\n   * Render the annotation's HTML element(s).\n   *\n   * @public\n   * @memberof AnnotationElement\n   */\n  render() {\n    unreachable(\"Abstract method `AnnotationElement.render` called\");\n  }\n\n  /**\n   * @private\n   * @returns {Array}\n   */\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const { page, id, exportValues } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue =\n            typeof exportValues === \"string\" ? exportValues : null;\n\n          const domElement = document.querySelector(\n            `[data-element-id=\"${id}\"]`\n          );\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            warn(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({ id, exportValue, domElement });\n        }\n      }\n      return fields;\n    }\n    // Fallback to a regular DOM lookup, to ensure that the standalone\n    // viewer components won't break.\n    for (const domElement of document.getElementsByName(name)) {\n      const { exportValue } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({ id, exportValue, domElement });\n    }\n    return fields;\n  }\n\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n\n  /**\n   * Get the HTML element(s) which can trigger a popup when clicked or hovered.\n   *\n   * @public\n   * @memberof AnnotationElement\n   * @returns {Array<HTMLElement>|HTMLElement} An array of elements or an\n   *          element.\n   */\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: { id: editId },\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId,\n        mustEnterInEditMode: true,\n      });\n    });\n  }\n\n  get width() {\n    return this.data.rect[2] - this.data.rect[0];\n  }\n\n  get height() {\n    return this.data.rect[3] - this.data.rect[1];\n  }\n}\n\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true,\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n\n  render() {\n    const { data, linkService } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action, data.overlaidText);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(\n        link,\n        data.attachment,\n        data.overlaidText,\n        data.attachmentDest\n      );\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState, data.overlaidText);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest, data.overlaidText);\n      isBound = true;\n    } else {\n      if (\n        data.actions &&\n        (data.actions.Action ||\n          data.actions[\"Mouse Up\"] ||\n          data.actions[\"Mouse Down\"]) &&\n        this.enableScripting &&\n        this.hasJSActions\n      ) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n\n    return this.container;\n  }\n\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n\n  /**\n   * Bind internal links to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} destination\n   * @param {string} [overlaidText]\n   * @memberof LinkAnnotationElement\n   */\n  _bindLink(link, destination, overlaidText = \"\") {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === /* isTooltipOnly = */ \"\") {\n      this.#setInternalLink();\n    }\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n  }\n\n  /**\n   * Bind named actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} action\n   * @param {string} [overlaidText]\n   * @memberof LinkAnnotationElement\n   */\n  _bindNamedAction(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind attachments to the link element.\n   * @param {Object} link\n   * @param {Object} attachment\n   * @param {string} [overlaidText]\n   * @param {string} [dest]\n   */\n  #bindAttachment(link, attachment, overlaidText = \"\", dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    if (attachment.description) {\n      link.title = attachment.description;\n    } else if (overlaidText) {\n      link.title = overlaidText;\n    }\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(\n        attachment.content,\n        attachment.filename,\n        dest\n      );\n      return false;\n    };\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind SetOCGState actions to the link element.\n   * @param {Object} link\n   * @param {Object} action\n   * @param {string} [overlaidText]\n   */\n  #bindSetOCGState(link, action, overlaidText = \"\") {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    if (overlaidText) {\n      link.title = overlaidText;\n    }\n    this.#setInternalLink();\n  }\n\n  /**\n   * Bind JS actions to the link element.\n   *\n   * @private\n   * @param {Object} link\n   * @param {Object} data\n   * @memberof LinkAnnotationElement\n   */\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([\n      [\"Action\", \"onclick\"],\n      [\"Mouse Up\", \"onmouseup\"],\n      [\"Mouse Down\", \"onmousedown\"],\n    ]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name,\n          },\n        });\n        return false;\n      };\n    }\n    if (data.overlaidText) {\n      link.title = data.overlaidText;\n    }\n\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n\n    if (!this._fieldObjects) {\n      warn(\n        `_bindResetFormAction - \"resetForm\" action not supported, ` +\n          \"ensure that the `fieldObjects` parameter is provided.\"\n      );\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n\n    link.onclick = () => {\n      otherClickAction?.();\n\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include,\n      } = resetForm;\n\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const { id } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const { id } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"checkbox\":\n          case \"radiobutton\": {\n            const value = field.defaultValue === field.exportValues;\n            storage.setValue(id, { value });\n            break;\n          }\n          case \"combobox\":\n          case \"listbox\": {\n            const value = field.defaultValue || \"\";\n            storage.setValue(id, { value });\n            break;\n          }\n          default:\n            continue;\n        }\n\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          warn(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n\n      if (this.enableScripting) {\n        // Update the values in the sandbox.\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\",\n          },\n        });\n      }\n\n      return false;\n    };\n  }\n}\n\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n  }\n\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n\n    const image = document.createElement(\"img\");\n    image.src =\n      this.imageResourcesPath +\n      \"annotation-\" +\n      this.data.name.toLowerCase() +\n      \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\n      \"data-l10n-args\",\n      JSON.stringify({ type: this.data.name })\n    );\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.append(image);\n    return this.container;\n  }\n}\n\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    // Show only the container for unsupported field types.\n    return this.container;\n  }\n\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n\n  _getKeyModifier(event) {\n    return FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      // Mouse events\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event),\n          },\n        });\n      });\n    } else {\n      // Non-mouse events\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n\n        if (!valueGetter) {\n          return;\n        }\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n          },\n        });\n      });\n    }\n  }\n\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= { focused: false };\n        }\n        this._setEventListener(\n          element,\n          elementData,\n          baseName,\n          eventName,\n          getter\n        );\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          // Ensure that elementData will have the correct value.\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor =\n      color === null\n        ? \"transparent\"\n        : Util.makeHexColor(color[0], color[1], color[2]);\n  }\n\n  /**\n   * Apply text styles to the text in the element.\n   *\n   * @private\n   * @param {HTMLDivElement} element\n   * @memberof TextWidgetAnnotationElement\n   */\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const { fontColor } = this.data.defaultAppearanceData;\n    const fontSize =\n      this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n\n    const style = element.style;\n\n    // TODO: If the font-size is zero, calculate it based on the height and\n    //       width of the element.\n    // Not setting `style.fontSize` will use the default font-size for now.\n\n    // We don't use the font, as specified in the PDF document, for the <input>\n    // element. Hence using the original `fontSize` could look bad, which is why\n    // it's instead based on the field height.\n    // If the height is \"big\" then it could lead to a too big font size\n    // so in this case use the one we've in the pdf (hence the min).\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      const numberOfLines = Math.round(height / (LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(lineHeight / LINE_FACTOR)\n      );\n    } else {\n      const height = Math.abs(\n        this.data.rect[3] - this.data.rect[1] - BORDER_SIZE\n      );\n      computedFontSize = Math.min(\n        fontSize,\n        roundToOneDecimal(height / LINE_FACTOR)\n      );\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--total-scale-factor))`;\n\n    style.color = Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\n\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable =\n      parameters.renderForms ||\n      parameters.data.hasOwnCanvas ||\n      (!parameters.data.hasAppearance && !!parameters.data.fieldValue);\n    super(parameters, { isRenderable });\n  }\n\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(\n      base.name,\n      /* skipId = */ base.id\n    )) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, { [keyInStorage]: value });\n    }\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    this.container.classList.add(\"textWidgetAnnotation\");\n\n    let element = null;\n    if (this.renderForms) {\n      // NOTE: We cannot set the values using `element.value` below, since it\n      //       prevents the AnnotationLayer rasterizer in `test/driver.js`\n      //       from parsing the elements correctly for the reference tests.\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue,\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen,\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n\n      let fieldFormattedValues =\n        storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false,\n      };\n\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = this.data.password ? \"password\" : \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = 0;\n      const { datetimeFormat, datetimeType, timeStep } = this.data;\n      const hasDateOrTime = !!datetimeType && this.enableScripting;\n      if (datetimeFormat) {\n        element.title = datetimeFormat;\n      }\n\n      this._setRequired(element, this.data.required);\n\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, { value: event.target.value });\n        this.setPropertyOnSiblings(\n          element,\n          \"value\",\n          event.target.value,\n          \"value\"\n        );\n        elementData.formattedValue = null;\n      });\n\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n\n      let blurListener = event => {\n        const { formattedValue } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        // Reset the cursor position to the start of the field (issue 12359).\n        event.target.scrollLeft = 0;\n      };\n\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const { target } = event;\n          if (hasDateOrTime) {\n            target.type = datetimeType;\n            if (timeStep) {\n              target.step = timeStep;\n            }\n          }\n\n          if (elementData.userValue) {\n            const value = elementData.userValue;\n            if (hasDateOrTime) {\n              if (datetimeType === \"time\") {\n                const date = new Date(value);\n                const parts = [\n                  date.getHours(),\n                  date.getMinutes(),\n                  date.getSeconds(),\n                ];\n                target.value = parts\n                  .map(v => v.toString().padStart(2, \"0\"))\n                  .join(\":\");\n              } else {\n                target.value = new Date(value - TIMEZONE_OFFSET)\n                  .toISOString()\n                  .split(datetimeType === \"date\" ? \"T\" : \".\", 1)[0];\n              }\n            } else {\n              target.value = value;\n            }\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              if (!hasDateOrTime) {\n                storage.setValue(id, {\n                  value: elementData.userValue.toString(),\n                });\n              }\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const { formattedValue } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (\n                formattedValue !== null &&\n                formattedValue !== undefined &&\n                event.target !== document.activeElement\n              ) {\n                // Input hasn't the focus so display formatted string\n                event.target.value = formattedValue;\n              }\n              const data = {\n                formattedValue,\n              };\n              if (hasDateOrTime) {\n                // If the field is a date or time, we store the formatted value\n                // in the `value` property, so that it can be used by the\n                // `Keystroke` action.\n                data.value = formattedValue;\n              }\n              storage.setValue(id, data);\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const { charLimit } = event.detail;\n              const { target } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, { value });\n\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd,\n                },\n              });\n            },\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n\n        // Even if the field hasn't any actions\n        // leaving it can still trigger some actions with Calculate\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          // If the key is one of Escape, Enter then the data are committed.\n          // If we've a Tab then data will be committed on blur.\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            // When we've a multiline field, \"Enter\" key is a key as the other\n            // hence we don't commit the data (Acrobat behaves the same way)\n            // (see issue #15627).\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const { value } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          // Save the entered value\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd,\n            },\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const { target } = event;\n          let { value } = target;\n          if (hasDateOrTime) {\n            if (value && datetimeType === \"time\") {\n              const parts = value.split(\":\").map(v => parseInt(v, 10));\n              value = new Date(\n                2000,\n                0,\n                1,\n                parts[0],\n                parts[1],\n                parts[2] || 0\n              ).valueOf();\n              target.step = \"\";\n            } else {\n              value = new Date(value).valueOf();\n            }\n            target.type = \"text\";\n          }\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd,\n              },\n            });\n          }\n          _blurListener(event);\n        });\n\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const { data, target } = event;\n            const { value, selectionStart, selectionEnd } = target;\n\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n\n            switch (event.inputType) {\n              // https://rawgit.com/w3c/input-events/v1/index.html#interface-InputEvent-Attributes\n              case \"deleteWordBackward\": {\n                const match = value\n                  .substring(0, selectionStart)\n                  .match(/\\w*[^\\w]*$/);\n                if (match) {\n                  selStart -= match[0].length;\n                }\n                break;\n              }\n              case \"deleteWordForward\": {\n                const match = value\n                  .substring(selectionStart)\n                  .match(/^[^\\w]*\\w*/);\n                if (match) {\n                  selEnd += match[0].length;\n                }\n                break;\n              }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n\n            // We handle the event ourselves.\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd,\n              },\n            });\n          });\n        }\n\n        this._setEventListeners(\n          element,\n          elementData,\n          [\n            [\"focus\", \"Focus\"],\n            [\"blur\", \"Blur\"],\n            [\"mousedown\", \"Mouse Down\"],\n            [\"mouseenter\", \"Mouse Enter\"],\n            [\"mouseleave\", \"Mouse Exit\"],\n            [\"mouseup\", \"Mouse Up\"],\n          ],\n          event => event.target.value\n        );\n      }\n\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--total-scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: !!parameters.data.hasOwnCanvas });\n  }\n}\n\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== \"Off\";\n      storage.setValue(id, { value });\n    }\n\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = 0;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const checkbox of this._getElementsByName(name, /* skipId = */ id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, { value: curChecked });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, { value: event.target.checked });\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue,\n    }).value;\n    if (typeof value === \"string\") {\n      // The value has been changed through js and set in annotationStorage.\n      value = value !== data.buttonValue;\n      storage.setValue(id, { value });\n    }\n\n    if (value) {\n      // It's possible that multiple radio buttons are checked.\n      // So if this one is checked we just reset the other ones.\n      // (see bug 1864136). Then when the other ones will be rendered they will\n      // unchecked (because of their value in the storage).\n      // Consequently, the first checked radio button will be the only checked\n      // one.\n      for (const radio of this._getElementsByName(\n        data.fieldName,\n        /* skipId = */ id\n      )) {\n        storage.setValue(radio.id, { value: false });\n      }\n    }\n\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = 0;\n\n    element.addEventListener(\"change\", event => {\n      const { name, checked } = event.target;\n      for (const radio of this._getElementsByName(name, /* skipId = */ id)) {\n        storage.setValue(radio.id, { value: false });\n      }\n      storage.setValue(id, { value: checked });\n    });\n\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked =\n        defaultValue !== null &&\n        defaultValue !== undefined &&\n        defaultValue === data.buttonValue;\n    });\n\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, { value: curChecked });\n            }\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      this._setEventListeners(\n        element,\n        null,\n        [\n          [\"change\", \"Validate\"],\n          [\"change\", \"Action\"],\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n        ],\n        event => event.target.checked\n      );\n    }\n\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n\n    this.container.append(element);\n    return this.container;\n  }\n}\n\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { ignoreBorder: parameters.data.hasAppearance });\n  }\n\n  render() {\n    // The rendering and functionality of a push button widget annotation is\n    // equal to that of a link annotation, but may have more functionality, such\n    // as performing actions on form fields (resetting, submitting, et cetera).\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n\n    return container;\n  }\n}\n\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: parameters.renderForms });\n  }\n\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue,\n    });\n\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = 0;\n\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n\n    if (!this.data.combo) {\n      // List boxes have a size and (optionally) multiple selection.\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n\n    // Insert the options into the choice field.\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const { options, multiple } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1\n          ? null\n          : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter\n        .call(options, option => option.selected)\n        .map(option => option[name]);\n    };\n\n    let selectedValues = getValue(/* isExport */ false);\n\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value,\n      }));\n    };\n\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(\n                options,\n                option => option.selected\n              );\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, { value: null, items: [] });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          insert(event) {\n            const { index, displayValue, exportValue } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          items(event) {\n            const { items } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const { displayValue, exportValue } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n              items: getItems(event),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(/* isExport */ true),\n            });\n            selectedValues = getValue(/* isExport */ false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          },\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(/* isExport */ true);\n        const change = getValue(/* isExport */ false);\n        storage.setValue(id, { value: exportValue });\n\n        event.preventDefault();\n\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false,\n          },\n        });\n      });\n\n      this._setEventListeners(\n        selectElement,\n        null,\n        [\n          [\"focus\", \"Focus\"],\n          [\"blur\", \"Blur\"],\n          [\"mousedown\", \"Mouse Down\"],\n          [\"mouseenter\", \"Mouse Enter\"],\n          [\"mouseleave\", \"Mouse Exit\"],\n          [\"mouseup\", \"Mouse Up\"],\n          [\"input\", \"Action\"],\n          [\"input\", \"Validate\"],\n        ],\n        event => event.target.value\n      );\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, { value: getValue(/* isExport */ true) });\n      });\n    }\n\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {\n      // Just use the default font size...\n      // it's a bit hard to guess what is a good size.\n    }\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\n\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const { data, elements } = parameters;\n    super(parameters, { isRenderable: AnnotationElement._hasPopupData(data) });\n    this.elements = elements;\n    this.popup = null;\n  }\n\n  render() {\n    const { container } = this;\n    container.classList.add(\"popupAnnotation\");\n    container.role = \"comment\";\n\n    const popup = (this.popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate || this.data.creationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open,\n      eventBus: this.linkService.eventBus,\n    }));\n\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      element.container.ariaHasPopup = \"dialog\";\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n\n    this.container.setAttribute(\n      \"aria-controls\",\n      elementIds.map(id => `${AnnotationPrefix}${id}`).join(\",\")\n    );\n\n    return this.container;\n  }\n}\n\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n\n  #boundHide = this.#hide.bind(this);\n\n  #boundShow = this.#show.bind(this);\n\n  #boundToggle = this.#toggle.bind(this);\n\n  #color = null;\n\n  #container = null;\n\n  #contentsObj = null;\n\n  #dateObj = null;\n\n  #elements = null;\n\n  #eventBus = null;\n\n  #parent = null;\n\n  #parentRect = null;\n\n  #pinned = false;\n\n  #popup = null;\n\n  #popupAbortController = null;\n\n  #position = null;\n\n  #commentButton = null;\n\n  #commentButtonPosition = null;\n\n  #commentButtonColor = null;\n\n  #rect = null;\n\n  #richText = null;\n\n  #titleObj = null;\n\n  #updates = null;\n\n  #wasVisible = false;\n\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open,\n    eventBus = null,\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#eventBus = eventBus;\n\n    // The modification date is shown in the popup instead of the creation\n    // date if it is available and can be parsed correctly, which is\n    // consistent with other viewers such as Adobe Acrobat.\n    this.#dateObj = PDFDateString.toDateObject(modificationDate);\n\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    this.#addEventListeners();\n\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // Since the popup is lazily created, we need to ensure that it'll be\n      // created and displayed during reference tests.\n      this.#parent.popupShow.push(async () => {\n        if (this.#container.hidden) {\n          this.#show();\n        }\n      });\n    }\n  }\n\n  #addEventListeners() {\n    if (this.#popupAbortController) {\n      return;\n    }\n    this.#popupAbortController = new AbortController();\n    const { signal } = this.#popupAbortController;\n\n    // Attach the event listeners to the trigger element.\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle, { signal });\n      element.addEventListener(\"mouseenter\", this.#boundShow, { signal });\n      element.addEventListener(\"mouseleave\", this.#boundHide, { signal });\n      element.classList.add(\"popupTriggerArea\");\n    }\n\n    // Attach the event listener to toggle the popup with the keyboard.\n    for (const element of this.#elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown, {\n        signal,\n      });\n    }\n\n    this.#renderCommentButton();\n  }\n\n  #setCommentButtonPosition() {\n    const element = this.#elements.find(e => e.hasCommentButton);\n    if (!element) {\n      return;\n    }\n    this.#commentButtonPosition = element._normalizePoint(\n      element.commentButtonPosition\n    );\n    this.#commentButtonColor = element.commentButtonColor;\n  }\n\n  #renderCommentButton() {\n    if (this.#commentButton) {\n      return;\n    }\n\n    if (!this.#commentButtonPosition) {\n      this.#setCommentButtonPosition();\n    }\n\n    if (!this.#commentButtonPosition) {\n      return;\n    }\n\n    const button = (this.#commentButton = document.createElement(\"button\"));\n    button.className = \"annotationCommentButton\";\n    const parentContainer = this.#elements[0].container;\n    button.style.zIndex = parentContainer.style.zIndex + 1;\n    button.tabIndex = 0;\n\n    const { signal } = this.#popupAbortController;\n    button.addEventListener(\"hover\", this.#boundToggle, { signal });\n    button.addEventListener(\"keydown\", this.#boundKeyDown, { signal });\n    button.addEventListener(\n      \"click\",\n      () => {\n        const [\n          {\n            data: { id: editId },\n            annotationEditorType: mode,\n          },\n        ] = this.#elements;\n        this.#eventBus?.dispatch(\"switchannotationeditormode\", {\n          source: this,\n          editId,\n          mode,\n          editComment: true,\n        });\n      },\n      { signal }\n    );\n    const { style } = button;\n    style.left = `calc(${this.#commentButtonPosition[0]}%)`;\n    style.top = `calc(${this.#commentButtonPosition[1]}% - var(--comment-button-dim))`;\n    if (this.#commentButtonColor) {\n      style.backgroundColor = this.#commentButtonColor;\n    }\n    parentContainer.after(button);\n  }\n\n  render() {\n    if (this.#popup) {\n      return;\n    }\n\n    const popup = (this.#popup = document.createElement(\"div\"));\n    popup.className = \"popup\";\n\n    if (this.#color) {\n      const baseColor = (popup.style.outlineColor = Util.makeHexColor(\n        ...this.#color\n      ));\n      popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n    }\n\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    if (this.#titleObj?.str) {\n      const title = document.createElement(\"span\");\n      title.className = \"title\";\n      header.append(title);\n      ({ dir: title.dir, str: title.textContent } = this.#titleObj);\n    }\n    popup.append(header);\n\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"time\");\n      modificationDate.className = \"popupDate\";\n      modificationDate.setAttribute(\n        \"data-l10n-id\",\n        \"pdfjs-annotation-date-time-string\"\n      );\n      modificationDate.setAttribute(\n        \"data-l10n-args\",\n        JSON.stringify({ dateObj: this.#dateObj.valueOf() })\n      );\n      modificationDate.dateTime = this.#dateObj.toISOString();\n      header.append(modificationDate);\n    }\n\n    const html = this.#html;\n    if (html) {\n      XfaLayer.render({\n        xfaHtml: html,\n        intent: \"richText\",\n        div: popup,\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(this.#contentsObj);\n      popup.append(contents);\n    }\n    this.#container.append(popup);\n  }\n\n  get #html() {\n    const richText = this.#richText;\n    const contentsObj = this.#contentsObj;\n    if (\n      richText?.str &&\n      (!contentsObj?.str || contentsObj.str === richText.str)\n    ) {\n      return this.#richText.html || null;\n    }\n    return null;\n  }\n\n  get #fontSize() {\n    return this.#html?.attributes?.style?.fontSize || 0;\n  }\n\n  get #fontColor() {\n    return this.#html?.attributes?.style?.color || null;\n  }\n\n  #makePopupContent(text) {\n    const popupLines = [];\n    const popupContent = {\n      str: text,\n      html: {\n        name: \"div\",\n        attributes: {\n          dir: \"auto\",\n        },\n        children: [\n          {\n            name: \"p\",\n            children: popupLines,\n          },\n        ],\n      },\n    };\n    const lineAttributes = {\n      style: {\n        color: this.#fontColor,\n        fontSize: this.#fontSize\n          ? `calc(${this.#fontSize}px * var(--total-scale-factor))`\n          : \"\",\n      },\n    };\n    for (const line of text.split(\"\\n\")) {\n      popupLines.push({\n        name: \"span\",\n        value: line,\n        attributes: lineAttributes,\n      });\n    }\n    return popupContent;\n  }\n\n  /**\n   * Format the contents of the popup by adding newlines where necessary.\n   *\n   * @private\n   * @param {Object<string, string>} contentsObj\n   * @memberof PopupElement\n   * @returns {HTMLParagraphElement}\n   */\n  _formatContents({ str, dir }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n\n    if (event.key === \"Enter\" || (event.key === \"Escape\" && this.#pinned)) {\n      this.#toggle();\n    }\n  }\n\n  updateEdited({ rect, popup, deleted }) {\n    if (deleted || popup?.deleted) {\n      this.remove();\n      return;\n    }\n    this.#addEventListeners();\n    this.#updates ||= {\n      contentsObj: this.#contentsObj,\n      richText: this.#richText,\n    };\n    if (rect) {\n      this.#position = null;\n    }\n    if (popup) {\n      this.#richText = this.#makePopupContent(popup.text);\n      this.#dateObj = PDFDateString.toDateObject(popup.date);\n      this.#contentsObj = null;\n    }\n    this.#popup?.remove();\n    this.#popup = null;\n  }\n\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    ({ contentsObj: this.#contentsObj, richText: this.#richText } =\n      this.#updates);\n    this.#updates = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#position = null;\n  }\n\n  remove() {\n    this.#popupAbortController?.abort();\n    this.#popupAbortController = null;\n    this.#popup?.remove();\n    this.#popup = null;\n    this.#wasVisible = false;\n    this.#pinned = false;\n    for (const element of this.trigger) {\n      element.classList.remove(\"popupTriggerArea\");\n    }\n  }\n\n  #setPosition() {\n    if (this.#position !== null) {\n      return;\n    }\n    const {\n      page: { view },\n      viewport: {\n        rawDims: { pageWidth, pageHeight, pageX, pageY },\n      },\n    } = this.#parent;\n\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n\n    const normalizedRect = Util.normalizeRect([\n      rect[0],\n      view[3] - rect[1] + view[1],\n      rect[2],\n      view[3] - rect[3] + view[1],\n    ]);\n\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect\n      ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION\n      : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    this.#position = [\n      (100 * (popupLeft - pageX)) / pageWidth,\n      (100 * (popupTop - pageY)) / pageHeight,\n    ];\n\n    const { style } = this.#container;\n    style.left = `${this.#position[0]}%`;\n    style.top = `${this.#position[1]}%`;\n  }\n\n  /**\n   * Toggle the visibility of the popup.\n   */\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n\n  /**\n   * Show the popup.\n   */\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#setPosition();\n      this.#container.hidden = false;\n      this.#container.style.zIndex =\n        parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n\n  /**\n   * Hide the popup.\n   */\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex =\n      parseInt(this.#container.style.zIndex) - 1000;\n  }\n\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n\n  maybeShow() {\n    this.#addEventListeners();\n    if (!this.#wasVisible) {\n      return;\n    }\n    if (!this.#popup) {\n      this.#show();\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\n\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = AnnotationEditorType.FREETEXT;\n  }\n\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n\n    // Create an invisible line with the same starting and ending coordinates\n    // that acts as the trigger for the popup. Only the line itself should\n    // trigger the popup, not the entire container.\n    const { data, width, height } = this;\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // PDF coordinates are calculated from a bottom left origin, so transform\n    // the line coordinates to a top left origin for the SVG element.\n    const line = (this.#line = this.svgFactory.createElement(\"svg:line\"));\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(line);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the line instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n\n    // Create an invisible square with the same rectangle that acts as the\n    // trigger for the popup. Only the square itself should trigger the\n    // popup, not the entire container.\n    const { data, width, height } = this;\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the square and half of\n    // the borders outside the square by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const square = (this.#square = this.svgFactory.createElement(\"svg:rect\"));\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(square);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the square instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n\n    // Create an invisible circle with the same ellipse that acts as the\n    // trigger for the popup. Only the circle itself should trigger the\n    // popup, not the entire container.\n    const { data, width, height } = this;\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // The browser draws half of the borders inside the circle and half of\n    // the borders outside the circle by default. This behavior cannot be\n    // changed programmatically, so correct for that here.\n    const borderWidth = data.borderStyle.width;\n    const circle = (this.#circle =\n      this.svgFactory.createElement(\"svg:ellipse\"));\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(circle);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the circle instead\n    // of to the entire container (which is the default).\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup. Only the polyline itself should trigger the\n    // popup, not the entire container.\n    const {\n      data: { rect, vertices, borderStyle, popupRef },\n      width,\n      height,\n    } = this;\n    if (!vertices) {\n      return this.container;\n    }\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n\n    // Convert the vertices array to a single points string that the SVG\n    // polyline element expects (\"x1,y1 x2,y2 ...\"). PDF coordinates are\n    // calculated from a bottom left origin, so transform the polyline\n    // coordinates to a top left origin for the SVG element.\n    let points = [];\n    for (let i = 0, ii = vertices.length; i < ii; i += 2) {\n      const x = vertices[i] - rect[0];\n      const y = rect[3] - vertices[i + 1];\n      points.push(`${x},${y}`);\n    }\n    points = points.join(\" \");\n\n    const polyline = (this.#polyline = this.svgFactory.createElement(\n      this.svgElementName\n    ));\n    polyline.setAttribute(\"points\", points);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    polyline.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n\n    svg.append(polyline);\n    this.container.append(svg);\n\n    // Create the popup ourselves so that we can bind it to the polyline\n    // instead of to the entire container (which is the default).\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    return this.container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\n\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    // Polygons are specific forms of polylines, so reuse their logic.\n    super(parameters);\n\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\n\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n  }\n\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\n\nclass InkAnnotationElement extends AnnotationElement {\n  #polylinesGroupElement = null;\n\n  #polylines = [];\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n\n    this.containerClassName = \"inkAnnotation\";\n\n    // Use the polyline SVG element since it allows us to use coordinates\n    // directly and to draw both straight lines and curves.\n    this.svgElementName = \"svg:polyline\";\n\n    this.annotationEditorType =\n      this.data.it === \"InkHighlight\"\n        ? AnnotationEditorType.HIGHLIGHT\n        : AnnotationEditorType.INK;\n  }\n\n  #getTransform(rotation, rect) {\n    // PDF coordinates are calculated from a bottom left origin, so\n    // transform the polyline coordinates to a top left origin for the\n    // SVG element.\n    switch (rotation) {\n      case 90:\n        return {\n          transform: `rotate(90) translate(${-rect[0]},${rect[1]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0],\n        };\n      case 180:\n        return {\n          transform: `rotate(180) translate(${-rect[2]},${rect[1]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1],\n        };\n      case 270:\n        return {\n          transform: `rotate(270) translate(${-rect[2]},${rect[3]}) scale(1,-1)`,\n          width: rect[3] - rect[1],\n          height: rect[2] - rect[0],\n        };\n      default:\n        return {\n          transform: `translate(${-rect[0]},${rect[3]}) scale(1,-1)`,\n          width: rect[2] - rect[0],\n          height: rect[3] - rect[1],\n        };\n    }\n  }\n\n  render() {\n    this.container.classList.add(this.containerClassName);\n\n    // Create an invisible polyline with the same points that acts as the\n    // trigger for the popup.\n    const {\n      data: { rect, rotation, inkLists, borderStyle, popupRef },\n    } = this;\n    const { transform, width, height } = this.#getTransform(rotation, rect);\n\n    const svg = this.svgFactory.create(\n      width,\n      height,\n      /* skipDimensions = */ true\n    );\n    const g = (this.#polylinesGroupElement =\n      this.svgFactory.createElement(\"svg:g\"));\n    svg.append(g);\n    // Ensure that the 'stroke-width' is always non-zero, since otherwise it\n    // won't be possible to open/close the popup (note e.g. issue 11122).\n    g.setAttribute(\"stroke-width\", borderStyle.width || 1);\n    g.setAttribute(\"stroke-linecap\", \"round\");\n    g.setAttribute(\"stroke-linejoin\", \"round\");\n    g.setAttribute(\"stroke-miterlimit\", 10);\n    g.setAttribute(\"stroke\", \"transparent\");\n    g.setAttribute(\"fill\", \"transparent\");\n    g.setAttribute(\"transform\", transform);\n\n    for (let i = 0, ii = inkLists.length; i < ii; i++) {\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", inkLists[i].join(\",\"));\n      g.append(polyline);\n    }\n\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.append(svg);\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n\n  updateEdited(params) {\n    super.updateEdited(params);\n    const { thickness, points, rect } = params;\n    const g = this.#polylinesGroupElement;\n    if (thickness >= 0) {\n      g.setAttribute(\"stroke-width\", thickness || 1);\n    }\n    if (points) {\n      for (let i = 0, ii = this.#polylines.length; i < ii; i++) {\n        this.#polylines[i].setAttribute(\"points\", points[i].join(\",\"));\n      }\n    }\n    if (rect) {\n      const { transform, width, height } = this.#getTransform(\n        this.data.rotation,\n        rect\n      );\n      const root = g.parentElement;\n      root.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n      g.setAttribute(\"transform\", transform);\n    }\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n\n  get commentButtonPosition() {\n    const { inkLists, rect } = this.data;\n    if (inkLists?.length >= 1) {\n      let maxX = -Infinity;\n      let maxY = -Infinity;\n      for (const inkList of inkLists) {\n        for (let i = 0, ii = inkList.length; i < ii; i += 2) {\n          if (inkList[i + 1] > maxY) {\n            maxY = inkList[i + 1];\n            maxX = inkList[i];\n          } else if (inkList[i + 1] === maxY) {\n            maxX = Math.max(maxX, inkList[i]);\n          }\n        }\n      }\n      if (maxX !== Infinity) {\n        return [maxX, maxY];\n      }\n    }\n    if (rect) {\n      return [rect[2], rect[3]];\n    }\n    return null;\n  }\n}\n\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n    this.annotationEditorType = AnnotationEditorType.HIGHLIGHT;\n  }\n\n  render() {\n    const {\n      data: { overlaidText, popupRef },\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"highlightAnnotation\");\n    this._editOnDoubleClick();\n\n    if (overlaidText) {\n      const mark = document.createElement(\"mark\");\n      mark.classList.add(\"overlaidText\");\n      mark.textContent = overlaidText;\n      this.container.append(mark);\n    }\n\n    return this.container;\n  }\n}\n\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    const {\n      data: { overlaidText, popupRef },\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"underlineAnnotation\");\n\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n\n    return this.container;\n  }\n}\n\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    const {\n      data: { overlaidText, popupRef },\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"squigglyAnnotation\");\n\n    if (overlaidText) {\n      const underline = document.createElement(\"u\");\n      underline.classList.add(\"overlaidText\");\n      underline.textContent = overlaidText;\n      this.container.append(underline);\n    }\n\n    return this.container;\n  }\n}\n\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true,\n    });\n  }\n\n  render() {\n    const {\n      data: { overlaidText, popupRef },\n    } = this;\n    if (!popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n\n    this.container.classList.add(\"strikeoutAnnotation\");\n\n    if (overlaidText) {\n      const strikeout = document.createElement(\"s\");\n      strikeout.classList.add(\"overlaidText\");\n      strikeout.textContent = overlaidText;\n      this.container.append(strikeout);\n    }\n\n    return this.container;\n  }\n}\n\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, { isRenderable: true, ignoreBorder: true });\n    this.annotationEditorType = AnnotationEditorType.STAMP;\n  }\n\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    this.container.setAttribute(\"role\", \"img\");\n\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n\n    return this.container;\n  }\n}\n\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n\n  constructor(parameters) {\n    super(parameters, { isRenderable: true });\n\n    const { file } = this.data;\n    this.filename = file.filename;\n    this.content = file.content;\n\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      ...file,\n    });\n  }\n\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n\n    const { container, data } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      // Unfortunately it seems that it's not clearly specified exactly what\n      // names are actually valid, since Table 184 contains:\n      //   Conforming readers shall provide predefined icon appearances for at\n      //   least the following standard names: GraphPushPin, PaperclipTag.\n      //   Additional names may be supported as well. Default value: PushPin.\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${\n        /paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"\n      }.svg`;\n\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(\n          data.fillAlpha * 100\n        )}%);`;\n\n        if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n          this.container.classList.add(\"hasFillAlpha\");\n        }\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n\n    const { isMac } = FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n\n    container.append(trigger);\n    return container;\n  }\n\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n\n  /**\n   * Download the file attachment associated with this annotation.\n   */\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\n\n/**\n * @typedef {Object} AnnotationLayerParameters\n * @property {PageViewport} viewport\n * @property {HTMLDivElement} div\n * @property {Array} annotations\n * @property {PDFPageProxy} page\n * @property {IPDFLinkService} linkService\n * @property {IDownloadManager} [downloadManager]\n * @property {AnnotationStorage} [annotationStorage]\n * @property {string} [imageResourcesPath] - Path for image resources, mainly\n *   for annotation icons. Include trailing slash.\n * @property {boolean} renderForms\n * @property {boolean} [enableScripting] - Enable embedded script execution.\n * @property {boolean} [hasJSActions] - Some fields have JS actions.\n *   The default value is `false`.\n * @property {Object<string, Array<Object>> | null} [fieldObjects]\n * @property {Map<string, HTMLCanvasElement>} [annotationCanvasMap]\n * @property {TextAccessibilityManager} [accessibilityManager]\n * @property {AnnotationEditorUIManager} [annotationEditorUIManager]\n * @property {StructTreeLayerBuilder} [structTreeLayer]\n */\n\n/**\n * Manage the layer containing all the annotations.\n */\nclass AnnotationLayer {\n  #accessibilityManager = null;\n\n  #annotationCanvasMap = null;\n\n  #editableAnnotations = new Map();\n\n  #structTreeLayer = null;\n\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport,\n    structTreeLayer,\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.#structTreeLayer = structTreeLayer || null;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      // For testing purposes.\n      Object.defineProperty(this, \"showPopups\", {\n        value: async () => {\n          for (const show of this.popupShow) {\n            await show();\n          }\n        },\n      });\n      this.popupShow = [];\n    }\n  }\n\n  hasEditableAnnotations() {\n    return this.#editableAnnotations.size > 0;\n  }\n\n  async #appendElement(element, id, popupElements) {\n    const contentElement = element.firstChild || element;\n    const annotationId = (contentElement.id = `${AnnotationPrefix}${id}`);\n    const ariaAttributes =\n      await this.#structTreeLayer?.getAriaAttributes(annotationId);\n    if (ariaAttributes) {\n      for (const [key, value] of ariaAttributes) {\n        contentElement.setAttribute(key, value);\n      }\n    }\n\n    if (popupElements) {\n      // Set the popup just after the first element associated with the popup.\n      popupElements.at(-1).container.after(element);\n    } else {\n      this.div.append(element);\n      this.#accessibilityManager?.moveElementInDOM(\n        this.div,\n        element,\n        contentElement,\n        /* isRemovable = */ false\n      );\n    }\n  }\n\n  /**\n   * Render a new annotation layer with all annotation elements.\n   *\n   * @param {AnnotationLayerParameters} params\n   * @memberof AnnotationLayer\n   */\n  async render(params) {\n    const { annotations } = params;\n    const layer = this.div;\n    setLayerDimensions(layer, this.viewport);\n\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new AnnotationStorage(),\n      enableComment: params.enableComment === true,\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null,\n    };\n\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        if (data.rect[2] === data.rect[0] || data.rect[3] === data.rect[1]) {\n          continue; // Ignore empty annotations.\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          // Ignore popup annotations without a corresponding annotation.\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n\n      if (!element.isRenderable) {\n        continue;\n      }\n\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      await this.#appendElement(rendered, data.id, elementParams.elements);\n\n      if (element._isEditable) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n\n    this.#setAnnotationCanvasMap();\n  }\n\n  /**\n   * Add link annotations to the annotation layer.\n   *\n   * @param {Array<Object>} annotations\n   * @param {IPDFLinkService} linkService\n   * @memberof AnnotationLayer\n   */\n  async addLinkAnnotations(annotations, linkService) {\n    const elementParams = {\n      data: null,\n      layer: this.div,\n      linkService,\n      svgFactory: new DOMSVGFactory(),\n      parent: this,\n    };\n    for (const data of annotations) {\n      data.borderStyle ||= AnnotationLayer._defaultBorderStyle;\n\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n\n      if (!element.isRenderable) {\n        continue;\n      }\n      const rendered = element.render();\n      await this.#appendElement(rendered, data.id, null);\n    }\n  }\n\n  /**\n   * Update the annotation elements on existing annotation layer.\n   *\n   * @param {AnnotationLayerParameters} viewport\n   * @memberof AnnotationLayer\n   */\n  update({ viewport }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    setLayerDimensions(layer, { rotation: viewport.rotation });\n\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n\n      canvas.className = \"annotationContent\";\n      const { firstChild } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n\n      const editableAnnotation = this.#editableAnnotations.get(id);\n      if (!editableAnnotation) {\n        continue;\n      }\n      if (editableAnnotation._hasNoCanvas) {\n        // The canvas wasn't available when the annotation was created.\n        this._annotationEditorUIManager?.setMissingCanvas(\n          id,\n          element.id,\n          canvas\n        );\n        editableAnnotation._hasNoCanvas = false;\n      } else {\n        editableAnnotation.canvas = canvas;\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n\n  /**\n   * @private\n   */\n  static get _defaultBorderStyle() {\n    return shadow(\n      this,\n      \"_defaultBorderStyle\",\n      Object.freeze({\n        width: 1,\n        rawWidth: 1,\n        style: AnnotationBorderStyleType.SOLID,\n        dashArray: [3],\n        horizontalCornerRadius: 0,\n        verticalCornerRadius: 0,\n      })\n    );\n  }\n}\n\nexport {\n  AnnotationLayer,\n  FreeTextAnnotationElement,\n  HighlightAnnotationElement,\n  InkAnnotationElement,\n  StampAnnotationElement,\n};\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./annotation_editor_layer.js\").AnnotationEditorLayer} AnnotationEditorLayer */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  assert,\n  LINE_FACTOR,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport { AnnotationEditorUIManager, KeyboardManager } from \"./tools.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { BasicColorPicker } from \"./color_picker.js\";\nimport { FreeTextAnnotationElement } from \"../annotation_layer.js\";\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass FreeTextEditor extends AnnotationEditor {\n  #color;\n\n  #content = \"\";\n\n  #editorDivId = `${this.id}-editor`;\n\n  #editModeAC = null;\n\n  #fontSize;\n\n  _colorPicker = null;\n\n  static _freeTextDefaultContent = \"\";\n\n  static _internalPadding = 0;\n\n  static _defaultColor = null;\n\n  static _defaultFontSize = 10;\n\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n\n    const arrowChecker = self => self.isEmpty();\n\n    const small = AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = AnnotationEditorUIManager.TRANSLATE_BIG;\n\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [\n          // Commit the text in case the user use ctrl+s to save the document.\n          // The event must bubble in order to be caught by the viewer.\n          // See bug 1831574.\n          [\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"],\n          proto.commitOrRemove,\n          { bubbles: true },\n        ],\n        [\n          [\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"],\n          proto.commitOrRemove,\n        ],\n        [\n          [\"ArrowLeft\", \"mac+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"],\n          proto._translateEmpty,\n          { args: [-big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowRight\", \"mac+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [small, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"],\n          proto._translateEmpty,\n          { args: [big, 0], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowUp\", \"mac+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"],\n          proto._translateEmpty,\n          { args: [0, -big], checker: arrowChecker },\n        ],\n        [\n          [\"ArrowDown\", \"mac+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, small], checker: arrowChecker },\n        ],\n        [\n          [\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"],\n          proto._translateEmpty,\n          { args: [0, big], checker: arrowChecker },\n        ],\n      ])\n    );\n  }\n\n  static _type = \"freetext\";\n\n  static _editorType = AnnotationEditorType.FREETEXT;\n\n  constructor(params) {\n    super({ ...params, name: \"freeTextEditor\" });\n    this.#color =\n      params.color ||\n      FreeTextEditor._defaultColor ||\n      AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-freetext-added-alert\");\n    }\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    const style = getComputedStyle(document.documentElement);\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      const lineHeight = parseFloat(\n        style.getPropertyValue(\"--freetext-line-height\")\n      );\n      assert(\n        lineHeight === LINE_FACTOR,\n        \"Update the CSS variable to agree with the constant.\"\n      );\n    }\n\n    this._internalPadding = parseFloat(\n      style.getPropertyValue(\"--freetext-padding\")\n    );\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.FREETEXT_SIZE,\n        FreeTextEditor._defaultFontSize,\n      ],\n      [\n        AnnotationEditorParamsType.FREETEXT_COLOR,\n        FreeTextEditor._defaultColor || AnnotationEditor._defaultLineColor,\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize],\n      [AnnotationEditorParamsType.FREETEXT_COLOR, this.#color],\n    ];\n  }\n\n  /** @inheritdoc */\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n\n  get colorType() {\n    return AnnotationEditorParamsType.FREETEXT_COLOR;\n  }\n\n  get colorValue() {\n    return this.#color;\n  }\n\n  /**\n   * Update the font size and make this action as undoable.\n   * @param {number} fontSize\n   */\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--total-scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n      this._colorPicker?.update(col);\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /**\n   * Helper to translate the editor with the keyboard when it's empty.\n   * @param {number} x in page units.\n   * @param {number} y in page units.\n   */\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, /* noCommit = */ true);\n  }\n\n  /** @inheritdoc */\n  getInitialTranslation() {\n    // The start of the base line is where the user clicked.\n    const scale = this.parentScale;\n    return [\n      -FreeTextEditor._internalPadding * scale,\n      -(FreeTextEditor._internalPadding + this.#fontSize) * scale,\n    ];\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  enableEditMode() {\n    if (!super.enableEditMode()) {\n      return false;\n    }\n\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n\n    if (typeof PDFJSDev === \"undefined\" || PDFJSDev.test(\"TESTING\")) {\n      assert(\n        !this.#editModeAC,\n        \"No `this.#editModeAC` AbortController should exist.\"\n      );\n    }\n    this.#editModeAC = new AbortController();\n    const signal = this._uiManager.combinedSignal(this.#editModeAC);\n\n    this.editorDiv.addEventListener(\n      \"keydown\",\n      this.editorDivKeydown.bind(this),\n      { signal }\n    );\n    this.editorDiv.addEventListener(\"focus\", this.editorDivFocus.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"blur\", this.editorDivBlur.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"input\", this.editorDivInput.bind(this), {\n      signal,\n    });\n    this.editorDiv.addEventListener(\"paste\", this.editorDivPaste.bind(this), {\n      signal,\n    });\n\n    return true;\n  }\n\n  /** @inheritdoc */\n  disableEditMode() {\n    if (!super.disableEditMode()) {\n      return false;\n    }\n\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n\n    this.#editModeAC?.abort();\n    this.#editModeAC = null;\n\n    // On Chrome, the focus is given to <body> when contentEditable is set to\n    // false, hence we focus the div.\n    this.div.focus({\n      preventScroll: true /* See issue #15744 */,\n    });\n\n    // In case the blur callback hasn't been called.\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n\n    return true;\n  }\n\n  /** @inheritdoc */\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded(focus) {\n    if (this.width) {\n      // The editor was created in using ctrl+c.\n      return;\n    }\n    this.enableEditMode();\n    if (focus) {\n      this.editorDiv.focus();\n    }\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n\n  /**\n   * Extract the text from this editor.\n   * @returns {string}\n   */\n  #extractText() {\n    // We don't use innerText because there are some bugs with line breaks.\n    const buffer = [];\n    this.editorDiv.normalize();\n    let prevChild = null;\n    for (const child of this.editorDiv.childNodes) {\n      if (prevChild?.nodeType === Node.TEXT_NODE && child.nodeName === \"BR\") {\n        // It can happen if the user uses shift+enter to add a new line.\n        // If we don't skip it, we'll end up with an extra line (one for the\n        // text and one for the br element).\n        continue;\n      }\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n      prevChild = child;\n    }\n    return buffer.join(\"\\n\");\n  }\n\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      // This editor isn't on screen but we need to get its dimensions, so\n      // we just insert it in the DOM, get its bounding box and then remove it.\n      const { currentLayer, div } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n\n    // The dimensions are relative to the rotation of the page, hence we need to\n    // take that into account (see issue #16636).\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n\n  /**\n   * Commit the content we have in this editor.\n   * @returns {undefined}\n   */\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = (this.#content = this.#extractText().trimEnd());\n    if (savedText === newText) {\n      return;\n    }\n\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false,\n    });\n    this.#setEditorDimensions();\n  }\n\n  /** @inheritdoc */\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n\n  /** @inheritdoc */\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n\n  /** @inheritdoc */\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      // Avoid to add an unwanted new line.\n      event.preventDefault();\n    }\n  }\n\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n\n  /** @inheritdoc */\n  get canChangeContent() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this._isCopy || this.annotationElementId) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text2\");\n    this.editorDiv.setAttribute(\"data-l10n-attrs\", \"default-content\");\n    this.enableEditing();\n\n    this.editorDiv.contentEditable = true;\n\n    const { style } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.#color;\n\n    this.div.append(this.editorDiv);\n\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n\n    if (this._isCopy || this.annotationElementId) {\n      // This editor was created in using copy (ctrl+c).\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        // This stuff is hard to test: if something is changed here, please\n        // test with the following PDF file:\n        //  - freetexts.pdf\n        //  - rotated_freetexts.pdf\n        // Only small variations between the original annotation and its editor\n        // are allowed.\n\n        // position is the position of the first glyph in the annotation\n        // and it's relative to its container.\n        const { position } = this._initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX =\n              baseX +\n              (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY =\n              baseY +\n              (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this._moveAfterPaste(baseX, baseY);\n      }\n\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      this.div.setAttribute(\"annotation-id\", this.annotationElementId);\n    }\n\n    return this.div;\n  }\n\n  static #getNodeContent(node) {\n    return (\n      node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText\n    ).replaceAll(EOL_PATTERN, \"\");\n  }\n\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const { types } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(\n      clipboardData.getData(\"text\") || \"\"\n    ).replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n\n    // Collect the text before and after the caret.\n    const { startContainer, startOffset } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(\n        startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\")\n      );\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(\n        startContainer.nodeValue\n          .slice(0, startOffset)\n          .replaceAll(EOL_PATTERN, \"\")\n      );\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n\n    // Set the caret at the right position.\n    const newRange = new Range();\n    let beforeLength = Math.sumPrecise(bufferBefore.map(line => line.length));\n    for (const { firstChild } of this.editorDiv.childNodes) {\n      // Each child is either a div with a text node or a br element.\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(\n        line ? document.createTextNode(line) : document.createElement(\"br\")\n      );\n      this.editorDiv.append(div);\n    }\n  }\n\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n\n  /** @inheritdoc */\n  get contentDiv() {\n    return this.editorDiv;\n  }\n\n  /** @inheritdoc */\n  getPDFRect() {\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    return this.getRect(padding, padding);\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: { fontSize, fontColor },\n          rect,\n          rotation,\n          id,\n          popupRef,\n          contentsObj,\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      // textContent is supposed to be an array of strings containing each line\n      // of text. However, it can be null or empty.\n      if (!textContent || textContent.length === 0) {\n        // Empty annotation.\n        return null;\n      }\n      initialData = data = {\n        annotationType: AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data.comment);\n    }\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const rect = this.getPDFRect();\n    const color = AnnotationEditor._colorManager.convert(\n      this.isAttachedToDOM\n        ? getComputedStyle(this.editorDiv).color\n        : this.#color\n    );\n\n    const serialized = {\n      annotationType: AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n    this.addComment(serialized);\n\n    if (isForCopying) {\n      // Don't add the id when copying because the pasted editor mustn't be\n      // linked to an existing annotation.\n      serialized.isCopy = true;\n      return serialized;\n    }\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { value, fontSize, color, pageIndex } = this._initialData;\n\n    return (\n      this.hasEditedComment ||\n      this._hasBeenMoved ||\n      serialized.value !== value ||\n      serialized.fontSize !== fontSize ||\n      serialized.color.some((c, i) => c !== color[i]) ||\n      serialized.pageIndex !== pageIndex\n    );\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (!content) {\n      return null;\n    }\n    const { style } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--total-scale-factor))`;\n    style.color = this.#color;\n\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(\n        line ? document.createTextNode(line) : document.createElement(\"br\")\n      );\n      content.append(div);\n    }\n\n    const params = {\n      rect: this.getPDFRect(),\n    };\n    params.popup = this.hasEditedComment\n      ? this.comment\n      : { text: this.#content };\n    annotation.updateEdited(params);\n\n    return content;\n  }\n\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\nexport { FreeTextEditor };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { unreachable } from \"../../../shared/util.js\";\n\nclass Outline {\n  static PRECISION = 1e-4;\n\n  /**\n   * @returns {string} The SVG path of the outline.\n   */\n  toSVGPath() {\n    unreachable(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n\n  /**\n   * @type {Object|null} The bounding box of the outline.\n   */\n  // eslint-disable-next-line getter-return\n  get box() {\n    unreachable(\"Abstract getter `box` must be implemented.\");\n  }\n\n  serialize(_bbox, _rotation) {\n    unreachable(\"Abstract method `serialize` must be implemented.\");\n  }\n\n  static _rescale(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n\n  static _rescaleAndSwap(src, tx, ty, sx, sy, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n\n  static _translate(src, tx, ty, dest) {\n    dest ||= new Float32Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i];\n      dest[i + 1] = ty + src[i + 1];\n    }\n    return dest;\n  }\n\n  static svgRound(x) {\n    // 0.1234 will be 1234 and this way we economize 2 bytes per number.\n    // Of course, it makes sense only when the viewBox is [0 0 10000 10000].\n    // And it helps to avoid bugs like:\n    //  https://bugzilla.mozilla.org/show_bug.cgi?id=1929340\n    return Math.round(x * 10000);\n  }\n\n  static _normalizePoint(x, y, parentWidth, parentHeight, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y / parentWidth, x / parentHeight];\n      case 180:\n        return [1 - x / parentWidth, 1 - y / parentHeight];\n      case 270:\n        return [y / parentWidth, 1 - x / parentHeight];\n      default:\n        return [x / parentWidth, y / parentHeight];\n    }\n  }\n\n  static _normalizePagePoint(x, y, rotation) {\n    switch (rotation) {\n      case 90:\n        return [1 - y, x];\n      case 180:\n        return [1 - x, 1 - y];\n      case 270:\n        return [y, 1 - x];\n      default:\n        return [x, y];\n    }\n  }\n\n  static createBezierPoints(x1, y1, x2, y2, x3, y3) {\n    return [\n      (x1 + 5 * x2) / 6,\n      (y1 + 5 * y2) / 6,\n      (5 * x2 + x3) / 6,\n      (5 * y2 + y3) / 6,\n      (x2 + x3) / 2,\n      (y2 + y3) / 2,\n    ];\n  }\n}\n\nexport { Outline };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Outline } from \"./outline.js\";\nimport { Util } from \"../../../shared/util.js\";\n\nclass FreeDrawOutliner {\n  #box;\n\n  #bottom = [];\n\n  #innerMargin;\n\n  #isLTR;\n\n  #top = [];\n\n  // The first 6 elements are the last 3 points of the top part of the outline.\n  // The next 6 elements are the last 3 points of the line.\n  // The next 6 elements are the last 3 points of the bottom part of the\n  // outline.\n  // We track the last 3 points in order to be able to:\n  //  - compute the normal of the line,\n  //  - compute the control points of the quadratic Bzier curve.\n  #last = new Float32Array(18);\n\n  #lastX;\n\n  #lastY;\n\n  #min;\n\n  #min_dist;\n\n  #scaleFactor;\n\n  #thickness;\n\n  #points = [];\n\n  static #MIN_DIST = 8;\n\n  static #MIN_DIFF = 2;\n\n  static #MIN = FreeDrawOutliner.#MIN_DIST + FreeDrawOutliner.#MIN_DIFF;\n\n  constructor({ x, y }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeDrawOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeDrawOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n\n  isEmpty() {\n    // When we add a second point then this.#last.slice(6) will be something\n    // like [NaN, NaN, firstX, firstY, secondX, secondY,...] so having a NaN\n    // at index 8 means that we've only one point.\n    return isNaN(this.#last[8]);\n  }\n\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n\n    return [\n      (this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width,\n      (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height,\n      (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width,\n      (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height,\n    ];\n  }\n\n  add({ x, y }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      // The idea is to avoid garbage points around the last point.\n      // When the points are too close, it just leads to bad normal vectors and\n      // control points.\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n\n    // We update the last 3 points of the line.\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n\n    // We keep track of the points in order to be able to compute the focus\n    // outline.\n    this.#points?.push(x, y);\n\n    // Create the normal unit vector.\n    // |(shiftX, shiftY)| = |K| * |(diffX, diffY)| = |K| * d = diffD.\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(\n          NaN,\n          NaN,\n          NaN,\n          NaN,\n          (x1 + thX - layerX) / layerWidth,\n          (y1 + thY - layerY) / layerHeight\n        );\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(\n          NaN,\n          NaN,\n          NaN,\n          NaN,\n          (x1 - thX - layerX) / layerWidth,\n          (y1 - thY - layerY) / layerHeight\n        );\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n\n    const angle = Math.abs(\n      Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX)\n    );\n    if (angle < Math.PI / 2) {\n      // In order to avoid some possible artifacts, we're going to use the a\n      // straight line instead of a quadratic Bzier curve.\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        ((x1 + x2) / 2 - layerX) / layerWidth,\n        ((y1 + y2) / 2 - layerY) / layerHeight\n      );\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        ((x0 + x1) / 2 - layerX) / layerWidth,\n        ((y0 + y1) / 2 - layerY) / layerHeight\n      );\n      return true;\n    }\n\n    // Control points and the final point for the quadratic Bzier curve.\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(\n      ((x0 + 5 * x1) / 6 - layerX) / layerWidth,\n      ((y0 + 5 * y1) / 6 - layerY) / layerHeight,\n      ((5 * x1 + x2) / 6 - layerX) / layerWidth,\n      ((5 * y1 + y2) / 6 - layerY) / layerHeight,\n      ((x1 + x2) / 2 - layerX) / layerWidth,\n      ((y1 + y2) / 2 - layerY) / layerHeight\n    );\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(\n      ((x0 + 5 * x1) / 6 - layerX) / layerWidth,\n      ((y0 + 5 * y1) / 6 - layerY) / layerHeight,\n      ((5 * x1 + x2) / 6 - layerX) / layerWidth,\n      ((5 * y1 + y2) / 6 - layerY) / layerHeight,\n      ((x1 + x2) / 2 - layerX) / layerWidth,\n      ((y1 + y2) / 2 - layerY) / layerHeight\n    );\n    return true;\n  }\n\n  toSVGPath() {\n    if (this.isEmpty()) {\n      // We've only one point.\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      // We've only two points.\n      return this.#toSVGPathTwoPoints();\n    }\n\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(\n          `C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${\n            top[i + 5]\n          }`\n        );\n      }\n    }\n\n    this.#toSVGPathEnd(buffer);\n\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(\n          `C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${\n            bottom[i + 4]\n          } ${bottom[i + 5]}`\n        );\n      }\n    }\n\n    this.#toSVGPathStart(buffer);\n\n    return buffer.join(\" \");\n  }\n\n  #toSVGPathTwoPoints() {\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n\n    return `M${(this.#last[2] - x) / width} ${\n      (this.#last[3] - y) / height\n    } L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${\n      (this.#last[16] - x) / width\n    } ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${\n      (this.#last[15] - y) / height\n    } Z`;\n  }\n\n  #toSVGPathStart(buffer) {\n    const bottom = this.#bottom;\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n  }\n\n  #toSVGPathEnd(buffer) {\n    const [x, y, width, height] = this.#box;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n\n    buffer.push(\n      `L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${\n        (lastBottom[0] - x) / width\n      } ${(lastBottom[1] - y) / height}`\n    );\n  }\n\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeDrawOutline(\n      outline,\n      points,\n      box,\n      scaleFactor,\n      innerMargin,\n      isLTR\n    );\n  }\n\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n\n    const points = new Float32Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      // We've only two points.\n      return this.#getOutlineTwoPoints(points);\n    }\n\n    const outline = new Float32Array(\n      this.#top.length + 24 + this.#bottom.length\n    );\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n\n    N = this.#getOutlineEnd(outline, N);\n\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n\n    this.#getOutlineStart(outline, N);\n\n    return this.newFreeDrawOutline(\n      outline,\n      points,\n      this.#box,\n      this.#scaleFactor,\n      this.#innerMargin,\n      this.#isLTR\n    );\n  }\n\n  #getOutlineTwoPoints(points) {\n    const last = this.#last;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n    const outline = new Float32Array(36);\n    outline.set(\n      [\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[2] - layerX) / layerWidth,\n        (last[3] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[4] - layerX) / layerWidth,\n        (last[5] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastTopX,\n        lastTopY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastBottomX,\n        lastBottomY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[16] - layerX) / layerWidth,\n        (last[17] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (last[14] - layerX) / layerWidth,\n        (last[15] - layerY) / layerHeight,\n      ],\n      0\n    );\n    return this.newFreeDrawOutline(\n      outline,\n      points,\n      this.#box,\n      this.#scaleFactor,\n      this.#innerMargin,\n      this.#isLTR\n    );\n  }\n\n  #getOutlineStart(outline, pos) {\n    const bottom = this.#bottom;\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], pos);\n    return (pos += 6);\n  }\n\n  #getOutlineEnd(outline, pos) {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] =\n      this.#getLastCoords();\n    outline.set(\n      [\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (lastTop[0] - layerX) / layerWidth,\n        (lastTop[1] - layerY) / layerHeight,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastTopX,\n        lastTopY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        lastBottomX,\n        lastBottomY,\n        NaN,\n        NaN,\n        NaN,\n        NaN,\n        (lastBottom[0] - layerX) / layerWidth,\n        (lastBottom[1] - layerY) / layerHeight,\n      ],\n      pos\n    );\n    return (pos += 24);\n  }\n}\n\nclass FreeDrawOutline extends Outline {\n  #box;\n\n  #bbox = new Float32Array(4);\n\n  #innerMargin;\n\n  #isLTR;\n\n  #points;\n\n  #scaleFactor;\n\n  #outline;\n\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.lastPoint = [NaN, NaN];\n    this.#computeMinMax(isLTR);\n\n    const [x, y, width, height] = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(\n        `C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${\n          this.#outline[i + 3]\n        } ${this.#outline[i + 4]} ${this.#outline[i + 5]}`\n      );\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = Outline._rescale(this.#outline, blX, trY, width, -height);\n        points = Outline._rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = Outline._rescaleAndSwap(\n          this.#outline,\n          blX,\n          blY,\n          width,\n          height\n        );\n        points = Outline._rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = Outline._rescale(this.#outline, trX, blY, -width, height);\n        points = Outline._rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = Outline._rescaleAndSwap(\n          this.#outline,\n          trX,\n          trY,\n          -width,\n          -height\n        );\n        points = Outline._rescaleAndSwap(\n          this.#points,\n          trX,\n          trY,\n          -width,\n          -height\n        );\n        break;\n    }\n    return { outline: Array.from(outline), points: [Array.from(points)] };\n  }\n\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    const minMax = [lastX, lastY, lastX, lastY];\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      const x = outline[i + 4],\n        y = outline[i + 5];\n\n      if (isNaN(outline[i])) {\n        Util.pointBoundingBox(x, y, minMax);\n\n        if (lastPointY < y) {\n          lastPointX = x;\n          lastPointY = y;\n        } else if (lastPointY === y) {\n          lastPointX = ltrCallback(lastPointX, x);\n        }\n      } else {\n        const bbox = [Infinity, Infinity, -Infinity, -Infinity];\n        Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6), bbox);\n\n        Util.rectBoundingBox(...bbox, minMax);\n\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = x;\n      lastY = y;\n    }\n\n    const bbox = this.#bbox;\n    bbox[0] = minMax[0] - this.#innerMargin;\n    bbox[1] = minMax[1] - this.#innerMargin;\n    bbox[2] = minMax[2] - minMax[0] + 2 * this.#innerMargin;\n    bbox[3] = minMax[3] - minMax[1] + 2 * this.#innerMargin;\n    this.lastPoint = [lastPointX, lastPointY];\n  }\n\n  get box() {\n    return this.#bbox;\n  }\n\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeDrawOutliner(\n      point,\n      box,\n      scaleFactor,\n      thickness,\n      isLTR,\n      innerMargin\n    );\n  }\n\n  getNewOutline(thickness, innerMargin) {\n    // Build the outline of the highlight to use as the focus outline.\n    const [x, y, width, height] = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = this.newOutliner(\n      {\n        x: this.#points[0] * sx + tx,\n        y: this.#points[1] * sy + ty,\n      },\n      this.#box,\n      this.#scaleFactor,\n      thickness,\n      this.#isLTR,\n      innerMargin ?? this.#innerMargin\n    );\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty,\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\nexport { FreeDrawOutline, FreeDrawOutliner };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FreeDrawOutline, FreeDrawOutliner } from \"./freedraw.js\";\nimport { Outline } from \"./outline.js\";\nimport { Util } from \"../../../shared/util.js\";\n\nclass HighlightOutliner {\n  #box;\n\n  #lastPoint;\n\n  #verticalEdges = [];\n\n  #intervals = [];\n\n  /**\n   * Construct an outliner.\n   * @param {Array<Object>} boxes - An array of axis-aligned rectangles.\n   * @param {number} borderWidth - The width of the border of the boxes, it\n   *   allows to make the boxes bigger (or smaller).\n   * @param {number} innerMargin - The margin between the boxes and the\n   *   outlines. It's important to not have a null innerMargin when we want to\n   *   draw the outline else the stroked outline could be clipped because of its\n   *   width.\n   * @param {boolean} isLTR - true if we're in LTR mode. It's used to determine\n   *   the last point of the boxes.\n   */\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    const minMax = [Infinity, Infinity, -Infinity, -Infinity];\n\n    // We round the coordinates to slightly reduce the number of edges in the\n    // final outlines.\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n\n    // The coordinates of the boxes are in the page coordinate system.\n    for (const { x, y, width, height } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n\n      Util.rectBoundingBox(x1, y1, x2, y2, minMax);\n    }\n\n    const bboxWidth = minMax[2] - minMax[0] + 2 * innerMargin;\n    const bboxHeight = minMax[3] - minMax[1] + 2 * innerMargin;\n    const shiftedMinX = minMax[0] - innerMargin;\n    const shiftedMinY = minMax[1] - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n\n    // Convert the coordinates of the edges into box coordinates.\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n\n    this.#box = new Float32Array([\n      shiftedMinX,\n      shiftedMinY,\n      bboxWidth,\n      bboxHeight,\n    ]);\n    this.#lastPoint = lastPoint;\n  }\n\n  getOutlines() {\n    // We begin to sort lexicographically the vertical edges by their abscissa,\n    // and then by their ordinate.\n    this.#verticalEdges.sort(\n      (a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]\n    );\n\n    // We're now using a sweep line algorithm to find the outlines.\n    // We start with the leftmost vertical edge, and we're going to iterate\n    // over all the vertical edges from left to right.\n    // Each time we encounter a left edge, we're going to insert the interval\n    // [y1, y2] in the set of intervals.\n    // This set of intervals is used to break the vertical edges into chunks:\n    // we only take the part of the vertical edge that isn't in the union of\n    // the intervals.\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        // Left edge.\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        // Right edge.\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n\n    // We sort lexicographically the vertices of each edge by their ordinate and\n    // by their abscissa.\n    // Every pair (v_2i, v_{2i + 1}) of vertices defines a horizontal edge.\n    // So for every vertical edge, we're going to add the two vertical edges\n    // which are connected to it through a horizontal edge.\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n\n      outline = [x, y2];\n      outlines.push(outline);\n\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box, this.#lastPoint);\n  }\n\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n\n    while (start <= end) {\n      const middle = (start + end) >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          // There is no intersection between the interval and the edge, hence\n          // we keep it as is.\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            // The edge is included in the interval, hence we remove it.\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\n\nclass HighlightOutline extends Outline {\n  #box;\n\n  #outlines;\n\n  constructor(outlines, box, lastPoint) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n    this.lastPoint = lastPoint;\n  }\n\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n\n  /**\n   * Serialize the outlines into the PDF page coordinate system.\n   * @param {Array<number>} _bbox - the bounding box of the annotation.\n   * @param {number} _rotation - the rotation of the annotation.\n   * @returns {Array<Array<number>>}\n   */\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n\n  get box() {\n    return this.#box;\n  }\n\n  get classNamesForOutlining() {\n    return [\"highlightOutline\"];\n  }\n}\n\nclass FreeHighlightOutliner extends FreeDrawOutliner {\n  newFreeDrawOutline(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    return new FreeHighlightOutline(\n      outline,\n      points,\n      box,\n      scaleFactor,\n      innerMargin,\n      isLTR\n    );\n  }\n}\n\nclass FreeHighlightOutline extends FreeDrawOutline {\n  newOutliner(point, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    return new FreeHighlightOutliner(\n      point,\n      box,\n      scaleFactor,\n      thickness,\n      isLTR,\n      innerMargin\n    );\n  }\n}\n\nexport { FreeHighlightOutliner, HighlightOutliner };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport { bindEvents, KeyboardManager } from \"./tools.js\";\nimport {\n  FreeHighlightOutliner,\n  HighlightOutliner,\n} from \"./drawers/highlight.js\";\nimport {\n  HighlightAnnotationElement,\n  InkAnnotationElement,\n} from \"../annotation_layer.js\";\nimport { noContextMenu, stopEvent } from \"../display_utils.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { ColorPicker } from \"./color_picker.js\";\n\n/**\n * Basic draw editor in order to generate an Highlight annotation.\n */\nclass HighlightEditor extends AnnotationEditor {\n  #anchorNode = null;\n\n  #anchorOffset = 0;\n\n  #boxes;\n\n  #clipPathId = null;\n\n  #colorPicker = null;\n\n  #focusOutlines = null;\n\n  #focusNode = null;\n\n  #focusOffset = 0;\n\n  #highlightDiv = null;\n\n  #highlightOutlines = null;\n\n  #id = null;\n\n  #isFreeHighlight = false;\n\n  #lastPoint = null;\n\n  #opacity;\n\n  #outlineId = null;\n\n  #text = \"\";\n\n  #thickness;\n\n  #methodOfCreation = \"\";\n\n  static _defaultColor = null;\n\n  static _defaultOpacity = 1;\n\n  static _defaultThickness = 12;\n\n  static _type = \"highlight\";\n\n  static _editorType = AnnotationEditorType.HIGHLIGHT;\n\n  static _freeHighlightId = -1;\n\n  static _freeHighlight = null;\n\n  static _freeHighlightClipId = \"\";\n\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return shadow(\n      this,\n      \"_keyboardManager\",\n      new KeyboardManager([\n        [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, { args: [0] }],\n        [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, { args: [1] }],\n        [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, { args: [2] }],\n        [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, { args: [3] }],\n      ])\n    );\n  }\n\n  constructor(params) {\n    super({ ...params, name: \"highlightEditor\" });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    this.defaultL10nId = \"pdfjs-editor-highlight-editor\";\n\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else if (this.#boxes) {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-highlight-added-alert\");\n    }\n  }\n\n  /** @inheritdoc */\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation,\n    };\n  }\n\n  /** @inheritdoc */\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.getNonHCMColorName(this.color),\n    };\n  }\n\n  get commentColor() {\n    return this.color;\n  }\n\n  static computeTelemetryFinalData(data) {\n    // We want to know how many colors have been used.\n    return { numberOfColors: data.get(\"color\").size };\n  }\n\n  #createOutlines() {\n    const outliner = new HighlightOutliner(\n      this.#boxes,\n      /* borderWidth = */ 0.001\n    );\n    this.#highlightOutlines = outliner.getOutlines();\n    [this.x, this.y, this.width, this.height] = this.#highlightOutlines.box;\n\n    const outlinerForOutline = new HighlightOutliner(\n      this.#boxes,\n      /* borderWidth = */ 0.0025,\n      /* innerMargin = */ 0.001,\n      this._uiManager.direction === \"ltr\"\n    );\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n\n    // The last point is in the pages coordinate system.\n    const { lastPoint } = this.#focusOutlines;\n    this.#lastPoint = [\n      (lastPoint[0] - this.x) / this.width,\n      (lastPoint[1] - this.y) / this.height,\n    ];\n  }\n\n  #createFreeOutlines({ highlightOutlines, highlightId, clipPathId }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(\n      /* Slightly bigger than the highlight in order to have a little\n         space between the highlight and the outline. */\n      this.#thickness / 2 + extraThickness,\n      /* innerMargin = */ 0.0025\n    );\n\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      // We need to redraw the highlight because we change the coordinates to be\n      // in the box coordinate system.\n      this.parent.drawLayer.finalizeDraw(highlightId, {\n        bbox: highlightOutlines.box,\n        path: {\n          d: highlightOutlines.toSVGPath(),\n        },\n      });\n      this.#outlineId = this.parent.drawLayer.drawOutline(\n        {\n          rootClass: {\n            highlightOutline: true,\n            free: true,\n          },\n          bbox: this.#focusOutlines.box,\n          path: {\n            d: this.#focusOutlines.toSVGPath(),\n          },\n        },\n        /* mustRemoveSelfIntersections = */ true\n      );\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateProperties(this.#id, {\n        bbox: HighlightEditor.#rotateBbox(\n          this.#highlightOutlines.box,\n          (angle - this.rotation + 360) % 360\n        ),\n        path: {\n          d: highlightOutlines.toSVGPath(),\n        },\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n        path: {\n          d: this.#focusOutlines.toSVGPath(),\n        },\n      });\n    }\n    const [x, y, width, height] = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90: {\n        const [pageWidth, pageHeight] = this.parentDimensions;\n        this.x = y;\n        this.y = 1 - x;\n        this.width = (width * pageHeight) / pageWidth;\n        this.height = (height * pageWidth) / pageHeight;\n        break;\n      }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270: {\n        const [pageWidth, pageHeight] = this.parentDimensions;\n        this.x = 1 - y;\n        this.y = x;\n        this.width = (width * pageHeight) / pageWidth;\n        this.height = (height * pageWidth) / pageHeight;\n        break;\n      }\n    }\n\n    const { lastPoint } = this.#focusOutlines;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||=\n      uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n\n  /** @inheritdoc */\n  translateInPage(x, y) {}\n\n  /** @inheritdoc */\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    switch (type) {\n      case AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n\n  static get defaultPropertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n        HighlightEditor._defaultColor,\n      ],\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,\n        HighlightEditor._defaultThickness,\n      ],\n    ];\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    return [\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n        this.color || HighlightEditor._defaultColor,\n      ],\n      [\n        AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,\n        this.#thickness || HighlightEditor._defaultThickness,\n      ],\n      [AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight],\n    ];\n  }\n\n  /**\n   * Update the color and make this action undoable.\n   * @param {string} color\n   */\n  #updateColor(color) {\n    const setColorAndOpacity = (col, opa) => {\n      this.color = col;\n      this.#opacity = opa;\n      this.parent?.drawLayer.updateProperties(this.#id, {\n        root: {\n          fill: col,\n          \"fill-opacity\": opa,\n        },\n      });\n      this.#colorPicker?.updateColor(col);\n    };\n    const savedColor = this.color;\n    const savedOpacity = this.#opacity;\n    this.addCommands({\n      cmd: setColorAndOpacity.bind(\n        this,\n        color,\n        HighlightEditor._defaultOpacity\n      ),\n      undo: setColorAndOpacity.bind(this, savedColor, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n\n    this._reportTelemetry(\n      {\n        action: \"color_changed\",\n        color: this._uiManager.getNonHCMColorName(color),\n      },\n      /* mustWait = */ true\n    );\n  }\n\n  /**\n   * Update the thickness and make this action undoable.\n   * @param {number} thickness\n   */\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n    this._reportTelemetry(\n      { action: \"thickness_changed\", thickness },\n      /* mustWait = */ true\n    );\n  }\n\n  /** @inheritdoc */\n  get toolbarButtons() {\n    if (this._uiManager.highlightColors) {\n      const colorPicker = (this.#colorPicker = new ColorPicker({\n        editor: this,\n      }));\n      return [[\"colorPicker\", colorPicker]];\n    }\n    return super.toolbarButtons;\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n\n  /** @inheritdoc */\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n\n  /** @inheritdoc */\n  getBaseTranslation() {\n    // The editor itself doesn't have any CSS border (we're drawing one\n    // ourselves in using SVG).\n    return [0, 0];\n  }\n\n  /** @inheritdoc */\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n\n  /** @inheritdoc */\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    if (focus) {\n      this.div.focus();\n    }\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\",\n    });\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    this.#addToDrawLayer();\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilding it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      // If mustBeSelected is true it means that this editor was selected\n      // when its parent has been destroyed, hence we must select it again.\n      mustBeSelected =\n        !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      // We select it after the parent has been set.\n      this.select();\n    }\n  }\n\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2),\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({ id: this.#id, clipPathId: this.#clipPathId } = parent.drawLayer.draw(\n      {\n        bbox: this.#highlightOutlines.box,\n        root: {\n          viewBox: \"0 0 1 1\",\n          fill: this.color,\n          \"fill-opacity\": this.#opacity,\n        },\n        rootClass: {\n          highlight: true,\n          free: this.#isFreeHighlight,\n        },\n        path: {\n          d: this.#highlightOutlines.toSVGPath(),\n        },\n      },\n      /* isPathUpdatable = */ false,\n      /* hasClip = */ true\n    ));\n    this.#outlineId = parent.drawLayer.drawOutline(\n      {\n        rootClass: {\n          highlightOutline: true,\n          free: this.#isFreeHighlight,\n        },\n        bbox: this.#focusOutlines.box,\n        path: {\n          d: this.#focusOutlines.toSVGPath(),\n        },\n      },\n      /* mustRemoveSelfIntersections = */ this.#isFreeHighlight\n    );\n\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n\n  static #rotateBbox([x, y, width, height], angle) {\n    switch (angle) {\n      case 90:\n        return [1 - y - height, x, height, width];\n      case 180:\n        return [1 - x - width, 1 - y - height, width, height];\n      case 270:\n        return [y, 1 - x - width, height, width];\n    }\n    return [x, y, width, height];\n  }\n\n  /** @inheritdoc */\n  rotate(angle) {\n    // We need to rotate the svgs because of the coordinates system.\n    const { drawLayer } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      // An highlight annotation is always drawn horizontally.\n      box = HighlightEditor.#rotateBbox(\n        [this.x, this.y, this.width, this.height],\n        angle\n      );\n    }\n    drawLayer.updateProperties(this.#id, {\n      bbox: box,\n      root: {\n        \"data-main-rotation\": angle,\n      },\n    });\n    drawLayer.updateProperties(this.#outlineId, {\n      bbox: HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle),\n      root: {\n        \"data-main-rotation\": angle,\n      },\n    });\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#keydown.bind(this), {\n        signal: this._uiManager._signal,\n      });\n    }\n    const highlightDiv = (this.#highlightDiv = document.createElement(\"div\"));\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n\n    bindEvents(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n\n    return div;\n  }\n\n  pointerover() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: true,\n        },\n      });\n    }\n  }\n\n  pointerleave() {\n    if (!this.isSelected) {\n      this.parent?.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hovered: false,\n        },\n      });\n    }\n  }\n\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0 /* left */:\n      case 2 /* up */:\n        this.#setCaret(/* start = */ true);\n        break;\n      case 1 /* right */:\n      case 3 /* down */:\n        this.#setCaret(/* start = */ false);\n        break;\n    }\n  }\n\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n\n  /** @inheritdoc */\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        hovered: false,\n        selected: true,\n      },\n    });\n  }\n\n  /** @inheritdoc */\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.updateProperties(this.#outlineId, {\n      rootClass: {\n        selected: false,\n      },\n    });\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(/* start = */ false);\n    }\n  }\n\n  /** @inheritdoc */\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n\n  /** @inheritdoc */\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.updateProperties(this.#id, {\n        rootClass: {\n          hidden: !visible,\n        },\n      });\n      this.parent.drawLayer.updateProperties(this.#outlineId, {\n        rootClass: {\n          hidden: !visible,\n        },\n      });\n    }\n  }\n\n  #getRotation() {\n    // Highlight annotations are always drawn horizontally but if\n    // a free highlight annotation can be rotated.\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const boxes = this.#boxes;\n    const quadPoints = new Float32Array(boxes.length * 8);\n    let i = 0;\n    for (const { x, y, width, height } of boxes) {\n      const sx = x * pageWidth + pageX;\n      const sy = (1 - y) * pageHeight + pageY;\n      // Serializes the rectangle in the Adobe Acrobat format.\n      // The rectangle's coordinates (b = bottom, t = top, L = left, R = right)\n      // are ordered as follows: tL, tR, bL, bR (bL origin).\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy - height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n\n  static startHighlighting(parent, isLTR, { target: textLayer, x, y }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight,\n    } = textLayer.getBoundingClientRect();\n\n    const ac = new AbortController();\n    const signal = parent.combinedSignal(ac);\n\n    const pointerUpCallback = e => {\n      ac.abort();\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback, { signal });\n    window.addEventListener(\"pointerup\", pointerUpCallback, { signal });\n    window.addEventListener(\n      \"pointerdown\",\n      stopEvent /* Avoid to have undesired clicks during the drawing. */,\n      {\n        capture: true,\n        passive: false,\n        signal,\n      }\n    );\n    window.addEventListener(\"contextmenu\", noContextMenu, { signal });\n\n    textLayer.addEventListener(\n      \"pointermove\",\n      this.#highlightMove.bind(this, parent),\n      { signal }\n    );\n    this._freeHighlight = new FreeHighlightOutliner(\n      { x, y },\n      [layerX, layerY, parentWidth, parentHeight],\n      parent.scale,\n      this._defaultThickness / 2,\n      isLTR,\n      /* innerMargin = */ 0.001\n    );\n    ({ id: this._freeHighlightId, clipPathId: this._freeHighlightClipId } =\n      parent.drawLayer.draw(\n        {\n          bbox: [0, 0, 1, 1],\n          root: {\n            viewBox: \"0 0 1 1\",\n            fill: this._defaultColor,\n            \"fill-opacity\": this._defaultOpacity,\n          },\n          rootClass: {\n            highlight: true,\n            free: true,\n          },\n          path: {\n            d: this._freeHighlight.toSVGPath(),\n          },\n        },\n        /* isPathUpdatable = */ true,\n        /* hasClip = */ true\n      ));\n  }\n\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      // Redraw only if the point has been added.\n      parent.drawLayer.updateProperties(this._freeHighlightId, {\n        path: {\n          d: this._freeHighlight.toSVGPath(),\n        },\n      });\n    }\n  }\n\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\",\n      });\n    } else {\n      parent.drawLayer.remove(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof HighlightAnnotationElement) {\n      const {\n        data: {\n          quadPoints,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          popupRef,\n          contentsObj,\n        },\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        opacity,\n        quadPoints,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n      };\n    } else if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          borderStyle: { rawWidth: thickness },\n          popupRef,\n          contentsObj,\n        },\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.HIGHLIGHT,\n        color: Array.from(color),\n        thickness,\n        inkLists,\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n      };\n    }\n\n    const { color, quadPoints, inkLists, opacity } = data;\n    const editor = await super.deserialize(data, parent, uiManager);\n\n    editor.color = Util.makeHexColor(...color);\n    editor.#opacity = opacity || 1;\n    if (inkLists) {\n      editor.#thickness = data.thickness;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data.comment);\n    }\n\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [pageX, pageY] = editor.pageTranslation;\n\n    if (quadPoints) {\n      const boxes = (editor.#boxes = []);\n      for (let i = 0; i < quadPoints.length; i += 8) {\n        boxes.push({\n          x: (quadPoints[i] - pageX) / pageWidth,\n          y: 1 - (quadPoints[i + 1] - pageY) / pageHeight,\n          width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n          height: (quadPoints[i + 1] - quadPoints[i + 5]) / pageHeight,\n        });\n      }\n      editor.#createOutlines();\n      editor.#addToDrawLayer();\n      editor.rotate(editor.rotation);\n    } else if (inkLists) {\n      editor.#isFreeHighlight = true;\n      const points = inkLists[0];\n      const point = {\n        x: points[0] - pageX,\n        y: pageHeight - (points[1] - pageY),\n      };\n      const outliner = new FreeHighlightOutliner(\n        point,\n        [0, 0, pageWidth, pageHeight],\n        1,\n        editor.#thickness / 2,\n        true,\n        0.001\n      );\n      for (let i = 0, ii = points.length; i < ii; i += 2) {\n        point.x = points[i] - pageX;\n        point.y = pageHeight - (points[i + 1] - pageY);\n        outliner.add(point);\n      }\n      const { id, clipPathId } = parent.drawLayer.draw(\n        {\n          bbox: [0, 0, 1, 1],\n          root: {\n            viewBox: \"0 0 1 1\",\n            fill: editor.color,\n            \"fill-opacity\": editor._defaultOpacity,\n          },\n          rootClass: {\n            highlight: true,\n            free: true,\n          },\n          path: {\n            d: outliner.toSVGPath(),\n          },\n        },\n        /* isPathUpdatable = */ true,\n        /* hasClip = */ true\n      );\n      editor.#createFreeOutlines({\n        highlightOutlines: outliner.getOutlines(),\n        highlightId: id,\n        clipPathId,\n      });\n      editor.#addToDrawLayer();\n      editor.rotate(editor.parentRotation);\n    }\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    // It doesn't make sense to copy/paste a highlight annotation.\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const rect = this.getPDFRect();\n    const color = AnnotationEditor._colorManager.convert(\n      this._uiManager.getNonHCMColor(this.color)\n    );\n\n    const serialized = {\n      annotationType: AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId,\n    };\n    this.addComment(serialized);\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { color } = this._initialData;\n    return (\n      this.hasEditedComment || serialized.color.some((c, i) => c !== color[i])\n    );\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const params = {\n      rect: this.getPDFRect(),\n    };\n    if (this.hasEditedComment) {\n      params.popup = this.comment;\n    }\n    annotation.updateEdited(params);\n\n    return null;\n  }\n\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\nexport { HighlightEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorParamsType, unreachable } from \"../../shared/util.js\";\nimport { noContextMenu, stopEvent } from \"../display_utils.js\";\nimport { AnnotationEditor } from \"./editor.js\";\n\nclass DrawingOptions {\n  #svgProperties = Object.create(null);\n\n  updateProperty(name, value) {\n    this[name] = value;\n    this.updateSVGProperty(name, value);\n  }\n\n  updateProperties(properties) {\n    if (!properties) {\n      return;\n    }\n    for (const [name, value] of Object.entries(properties)) {\n      if (!name.startsWith(\"_\")) {\n        this.updateProperty(name, value);\n      }\n    }\n  }\n\n  updateSVGProperty(name, value) {\n    this.#svgProperties[name] = value;\n  }\n\n  toSVGProperties() {\n    const root = this.#svgProperties;\n    this.#svgProperties = Object.create(null);\n    return { root };\n  }\n\n  reset() {\n    this.#svgProperties = Object.create(null);\n  }\n\n  updateAll(options = this) {\n    this.updateProperties(options);\n  }\n\n  clone() {\n    unreachable(\"Not implemented\");\n  }\n}\n\n/**\n * Basic draw editor.\n */\nclass DrawingEditor extends AnnotationEditor {\n  #drawOutlines = null;\n\n  #mustBeCommitted;\n\n  _colorPicker = null;\n\n  _drawId = null;\n\n  static _currentDrawId = -1;\n\n  static _currentParent = null;\n\n  static #currentDraw = null;\n\n  static #currentDrawingAC = null;\n\n  static #currentDrawingOptions = null;\n\n  static #currentPointerId = NaN;\n\n  static #currentPointerType = null;\n\n  static #currentPointerIds = null;\n\n  static #currentMoveTimestamp = NaN;\n\n  static _INNER_MARGIN = 3;\n\n  constructor(params) {\n    super(params);\n    this.#mustBeCommitted = params.mustBeCommitted || false;\n\n    this._addOutlines(params);\n  }\n\n  _addOutlines(params) {\n    if (params.drawOutlines) {\n      this.#createDrawOutlines(params);\n      this.#addToDrawLayer();\n    }\n  }\n\n  #createDrawOutlines({ drawOutlines, drawId, drawingOptions }) {\n    this.#drawOutlines = drawOutlines;\n    this._drawingOptions ||= drawingOptions;\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`);\n    }\n\n    if (drawId >= 0) {\n      this._drawId = drawId;\n      // We need to redraw the drawing because we changed the coordinates to be\n      // in the box coordinate system.\n      this.parent.drawLayer.finalizeDraw(\n        drawId,\n        drawOutlines.defaultProperties\n      );\n    } else {\n      // We create a new drawing.\n      this._drawId = this.#createDrawing(drawOutlines, this.parent);\n    }\n\n    this.#updateBbox(drawOutlines.box);\n  }\n\n  #createDrawing(drawOutlines, parent) {\n    const { id } = parent.drawLayer.draw(\n      DrawingEditor._mergeSVGProperties(\n        this._drawingOptions.toSVGProperties(),\n        drawOutlines.defaultSVGProperties\n      ),\n      /* isPathUpdatable = */ false,\n      /* hasClip = */ false\n    );\n    return id;\n  }\n\n  static _mergeSVGProperties(p1, p2) {\n    const p1Keys = new Set(Object.keys(p1));\n\n    for (const [key, value] of Object.entries(p2)) {\n      if (p1Keys.has(key)) {\n        Object.assign(p1[key], value);\n      } else {\n        p1[key] = value;\n      }\n    }\n    return p1;\n  }\n\n  /**\n   * @param {Object} options\n   * @return {DrawingOptions} the default options to use for a new editor.\n   */\n  static getDefaultDrawingOptions(_options) {\n    unreachable(\"Not implemented\");\n  }\n\n  /**\n   * @return {Map<AnnotationEditorParamsType, string>} a map between the\n   *   parameter types and the name of the options.\n   */\n  // eslint-disable-next-line getter-return\n  static get typesMap() {\n    unreachable(\"Not implemented\");\n  }\n\n  static get isDrawer() {\n    return true;\n  }\n\n  /**\n   * @returns {boolean} `true` if several drawings can be added to the\n   * annotation.\n   */\n  static get supportMultipleDrawings() {\n    return false;\n  }\n\n  /** @inheritdoc */\n  static updateDefaultParams(type, value) {\n    const propertyName = this.typesMap.get(type);\n    if (propertyName) {\n      this._defaultDrawingOptions.updateProperty(propertyName, value);\n    }\n    if (this._currentParent) {\n      DrawingEditor.#currentDraw.updateProperty(propertyName, value);\n      this._currentParent.drawLayer.updateProperties(\n        this._currentDrawId,\n        this._defaultDrawingOptions.toSVGProperties()\n      );\n    }\n  }\n\n  /** @inheritdoc */\n  updateParams(type, value) {\n    const propertyName = this.constructor.typesMap.get(type);\n    if (propertyName) {\n      this._updateProperty(type, propertyName, value);\n    }\n  }\n\n  /** @inheritdoc */\n  static get defaultPropertiesToUpdate() {\n    const properties = [];\n    const options = this._defaultDrawingOptions;\n    for (const [type, name] of this.typesMap) {\n      properties.push([type, options[name]]);\n    }\n    return properties;\n  }\n\n  /** @inheritdoc */\n  get propertiesToUpdate() {\n    const properties = [];\n    const { _drawingOptions } = this;\n    for (const [type, name] of this.constructor.typesMap) {\n      properties.push([type, _drawingOptions[name]]);\n    }\n    return properties;\n  }\n\n  /**\n   * Update a property and make this action undoable.\n   * @param {string} color\n   */\n  _updateProperty(type, name, value) {\n    const options = this._drawingOptions;\n    const savedValue = options[name];\n    const setter = val => {\n      options.updateProperty(name, val);\n      const bbox = this.#drawOutlines.updateProperty(name, val);\n      if (bbox) {\n        this.#updateBbox(bbox);\n      }\n      this.parent?.drawLayer.updateProperties(\n        this._drawId,\n        options.toSVGProperties()\n      );\n      if (type === this.colorType) {\n        this._colorPicker?.update(val);\n      }\n    };\n    this.addCommands({\n      cmd: setter.bind(this, value),\n      undo: setter.bind(this, savedValue),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type,\n      overwriteIfSameType: true,\n      keepUndo: true,\n    });\n  }\n\n  /** @inheritdoc */\n  _onResizing() {\n    this.parent?.drawLayer.updateProperties(\n      this._drawId,\n      DrawingEditor._mergeSVGProperties(\n        this.#drawOutlines.getPathResizingSVGProperties(\n          this.#convertToDrawSpace()\n        ),\n        {\n          bbox: this.#rotateBox(),\n        }\n      )\n    );\n  }\n\n  /** @inheritdoc */\n  _onResized() {\n    this.parent?.drawLayer.updateProperties(\n      this._drawId,\n      DrawingEditor._mergeSVGProperties(\n        this.#drawOutlines.getPathResizedSVGProperties(\n          this.#convertToDrawSpace()\n        ),\n        {\n          bbox: this.#rotateBox(),\n        }\n      )\n    );\n  }\n\n  /** @inheritdoc */\n  _onTranslating(_x, _y) {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      bbox: this.#rotateBox(),\n    });\n  }\n\n  /** @inheritdoc */\n  _onTranslated() {\n    this.parent?.drawLayer.updateProperties(\n      this._drawId,\n      DrawingEditor._mergeSVGProperties(\n        this.#drawOutlines.getPathTranslatedSVGProperties(\n          this.#convertToDrawSpace(),\n          this.parentDimensions\n        ),\n        {\n          bbox: this.#rotateBox(),\n        }\n      )\n    );\n  }\n\n  _onStartDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: true,\n      },\n    });\n  }\n\n  _onStopDragging() {\n    this.parent?.drawLayer.updateProperties(this._drawId, {\n      rootClass: {\n        moving: false,\n      },\n    });\n  }\n\n  /** @inheritdoc */\n  commit() {\n    super.commit();\n\n    this.disableEditMode();\n    this.disableEditing();\n  }\n\n  /** @inheritdoc */\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n\n  /** @inheritdoc */\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n\n  /** @inheritdoc */\n  getBaseTranslation() {\n    // The editor itself doesn't have any CSS border (we're drawing one\n    // ourselves in using SVG).\n    return [0, 0];\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  onceAdded(focus) {\n    if (!this.annotationElementId) {\n      this.parent.addUndoableEditor(this);\n    }\n    this._isDraggable = true;\n    if (this.#mustBeCommitted) {\n      this.#mustBeCommitted = false;\n      this.commit();\n      this.parent.setSelected(this);\n      if (focus && this.isOnScreen) {\n        this.div.focus();\n      }\n    }\n  }\n\n  /** @inheritdoc */\n  remove() {\n    this.#cleanDrawLayer();\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    this.#addToDrawLayer();\n    this.#updateBbox(this.#drawOutlines.box);\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilding it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this._uiManager.removeShouldRescale(this);\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this._uiManager.addShouldRescale(this);\n      this.#addToDrawLayer(parent);\n      // If mustBeSelected is true it means that this editor was selected\n      // when its parent has been destroyed, hence we must select it again.\n      mustBeSelected =\n        !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    if (mustBeSelected) {\n      // We select it after the parent has been set.\n      this.select();\n    }\n  }\n\n  #cleanDrawLayer() {\n    if (this._drawId === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this._drawId);\n    this._drawId = null;\n\n    // All the SVG properties must be reset in order to make it possible to\n    // undo.\n    this._drawingOptions.reset();\n  }\n\n  #addToDrawLayer(parent = this.parent) {\n    if (this._drawId !== null && this.parent === parent) {\n      return;\n    }\n    if (this._drawId !== null) {\n      // The parent has changed, we need to move the drawing to the new parent.\n      this.parent.drawLayer.updateParent(this._drawId, parent.drawLayer);\n      return;\n    }\n    this._drawingOptions.updateAll();\n    this._drawId = this.#createDrawing(this.#drawOutlines, parent);\n  }\n\n  #convertToParentSpace([x, y, width, height]) {\n    const {\n      parentDimensions: [pW, pH],\n      rotation,\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [y, 1 - x, width * (pH / pW), height * (pW / pH)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [1 - y, x, width * (pH / pW), height * (pW / pH)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n\n  #convertToDrawSpace() {\n    const {\n      x,\n      y,\n      width,\n      height,\n      parentDimensions: [pW, pH],\n      rotation,\n    } = this;\n    switch (rotation) {\n      case 90:\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 180:\n        return [1 - x, 1 - y, width, height];\n      case 270:\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        return [x, y, width, height];\n    }\n  }\n\n  #updateBbox(bbox) {\n    [this.x, this.y, this.width, this.height] =\n      this.#convertToParentSpace(bbox);\n    if (this.div) {\n      this.fixAndSetPosition();\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n    }\n    this._onResized();\n  }\n\n  #rotateBox() {\n    // We've to deal with two rotations: the rotation of the annotation and the\n    // rotation of the parent page.\n    // When the page is rotated, all the layers are just rotated thanks to CSS\n    // but there is a notable exception: the canvas wrapper.\n    // The canvas wrapper is not rotated but the dimensions are (or not) swapped\n    // and the page is redrawn with the rotation applied to the canvas.\n    // The drawn layer is under the canvas wrapper and is not rotated so we have\n    // to \"manually\" rotate the coordinates.\n    //\n    // The coordinates (this.x, this.y) correspond to the top-left corner of\n    // the editor after it has been rotated in the page coordinate system.\n\n    const {\n      x,\n      y,\n      width,\n      height,\n      rotation,\n      parentRotation,\n      parentDimensions: [pW, pH],\n    } = this;\n    switch ((rotation * 4 + parentRotation) / 90) {\n      case 1:\n        // 0 -> 90\n        return [1 - y - height, x, height, width];\n      case 2:\n        // 0 -> 180\n        return [1 - x - width, 1 - y - height, width, height];\n      case 3:\n        // 0 -> 270\n        return [y, 1 - x - width, height, width];\n      case 4:\n        // 90 -> 0\n        return [\n          x,\n          y - width * (pW / pH),\n          height * (pH / pW),\n          width * (pW / pH),\n        ];\n      case 5:\n        // 90 -> 90\n        return [1 - y, x, width * (pW / pH), height * (pH / pW)];\n      case 6:\n        // 90 -> 180\n        return [\n          1 - x - height * (pH / pW),\n          1 - y,\n          height * (pH / pW),\n          width * (pW / pH),\n        ];\n      case 7:\n        // 90 -> 270\n        return [\n          y - width * (pW / pH),\n          1 - x - height * (pH / pW),\n          width * (pW / pH),\n          height * (pH / pW),\n        ];\n      case 8:\n        // 180 -> 0\n        return [x - width, y - height, width, height];\n      case 9:\n        // 180 -> 90\n        return [1 - y, x - width, height, width];\n      case 10:\n        // 180 -> 180\n        return [1 - x, 1 - y, width, height];\n      case 11:\n        // 180 -> 270\n        return [y - height, 1 - x, height, width];\n      case 12:\n        // 270 -> 0\n        return [\n          x - height * (pH / pW),\n          y,\n          height * (pH / pW),\n          width * (pW / pH),\n        ];\n      case 13:\n        // 270 -> 90\n        return [\n          1 - y - width * (pW / pH),\n          x - height * (pH / pW),\n          width * (pW / pH),\n          height * (pH / pW),\n        ];\n      case 14:\n        // 270 -> 180\n        return [\n          1 - x,\n          1 - y - width * (pW / pH),\n          height * (pH / pW),\n          width * (pW / pH),\n        ];\n      case 15:\n        // 270 -> 270\n        return [y, 1 - x, width * (pW / pH), height * (pH / pW)];\n      default:\n        // 0 -> 0\n        return [x, y, width, height];\n    }\n  }\n\n  /** @inheritdoc */\n  rotate() {\n    if (!this.parent) {\n      return;\n    }\n    this.parent.drawLayer.updateProperties(\n      this._drawId,\n      DrawingEditor._mergeSVGProperties(\n        {\n          bbox: this.#rotateBox(),\n        },\n        this.#drawOutlines.updateRotation(\n          (this.parentRotation - this.rotation + 360) % 360\n        )\n      )\n    );\n  }\n\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    this.#updateBbox(\n      this.#drawOutlines.updateParentDimensions(\n        this.parentDimensions,\n        this.parent.scale\n      )\n    );\n  }\n\n  static onScaleChangingWhenDrawing() {}\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    const div = super.render();\n    div.classList.add(\"draw\");\n\n    const drawDiv = document.createElement(\"div\");\n    div.append(drawDiv);\n    drawDiv.setAttribute(\"aria-hidden\", \"true\");\n    drawDiv.className = \"internal\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    this._uiManager.addShouldRescale(this);\n    this.disableEditing();\n\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n\n    return div;\n  }\n\n  /**\n   * Create a new drawer instance.\n   * @param {number} x - The x coordinate of the event.\n   * @param {number} y - The y coordinate of the event.\n   * @param {number} parentWidth - The parent width.\n   * @param {number} parentHeight - The parent height.\n   * @param {number} rotation - The parent rotation.\n   */\n  static createDrawerInstance(_x, _y, _parentWidth, _parentHeight, _rotation) {\n    unreachable(\"Not implemented\");\n  }\n\n  static startDrawing(parent, uiManager, _isLTR, event) {\n    // The _currentPointerType is set when the user starts an empty drawing\n    // session. If, in the same drawing session, the user starts using a\n    // different type of pointer (e.g. a pen and then a finger), we just return.\n    //\n    // The _currentPointerId  and _currentPointerIds are used to keep track of\n    // the pointers with a same type (e.g. two fingers). If the user starts to\n    // draw with a finger and then uses a second finger, we just stop the\n    // current drawing and let the user zoom the document.\n\n    const { target, offsetX: x, offsetY: y, pointerId, pointerType } = event;\n    if (\n      DrawingEditor.#currentPointerType &&\n      DrawingEditor.#currentPointerType !== pointerType\n    ) {\n      return;\n    }\n\n    const {\n      viewport: { rotation },\n    } = parent;\n    const { width: parentWidth, height: parentHeight } =\n      target.getBoundingClientRect();\n\n    const ac = (DrawingEditor.#currentDrawingAC = new AbortController());\n    const signal = parent.combinedSignal(ac);\n\n    DrawingEditor.#currentPointerId ||= pointerId;\n    DrawingEditor.#currentPointerType ??= pointerType;\n\n    window.addEventListener(\n      \"pointerup\",\n      e => {\n        if (DrawingEditor.#currentPointerId === e.pointerId) {\n          this._endDraw(e);\n        } else {\n          DrawingEditor.#currentPointerIds?.delete(e.pointerId);\n        }\n      },\n      { signal }\n    );\n    window.addEventListener(\n      \"pointercancel\",\n      e => {\n        if (DrawingEditor.#currentPointerId === e.pointerId) {\n          this._currentParent.endDrawingSession();\n        } else {\n          DrawingEditor.#currentPointerIds?.delete(e.pointerId);\n        }\n      },\n      { signal }\n    );\n    window.addEventListener(\n      \"pointerdown\",\n      e => {\n        if (DrawingEditor.#currentPointerType !== e.pointerType) {\n          // For example, we started with a pen and the user\n          // is now using a finger.\n          return;\n        }\n\n        // For example, the user is using a second finger.\n        (DrawingEditor.#currentPointerIds ||= new Set()).add(e.pointerId);\n\n        // The first finger created a first point and a second finger just\n        // started, so we stop the drawing and remove this only point.\n        if (DrawingEditor.#currentDraw.isCancellable()) {\n          DrawingEditor.#currentDraw.removeLastElement();\n          if (DrawingEditor.#currentDraw.isEmpty()) {\n            this._currentParent.endDrawingSession(/* isAborted = */ true);\n          } else {\n            this._endDraw(null);\n          }\n        }\n      },\n      {\n        capture: true,\n        passive: false,\n        signal,\n      }\n    );\n    window.addEventListener(\"contextmenu\", noContextMenu, { signal });\n    target.addEventListener(\"pointermove\", this._drawMove.bind(this), {\n      signal,\n    });\n    target.addEventListener(\n      \"touchmove\",\n      e => {\n        if (e.timeStamp === DrawingEditor.#currentMoveTimestamp) {\n          // This move event is used to draw so we don't want to scroll.\n          stopEvent(e);\n        }\n      },\n      { signal }\n    );\n    parent.toggleDrawing();\n    uiManager._editorUndoBar?.hide();\n\n    if (DrawingEditor.#currentDraw) {\n      parent.drawLayer.updateProperties(\n        this._currentDrawId,\n        DrawingEditor.#currentDraw.startNew(\n          x,\n          y,\n          parentWidth,\n          parentHeight,\n          rotation\n        )\n      );\n      return;\n    }\n\n    uiManager.updateUIForDefaultProperties(this);\n\n    DrawingEditor.#currentDraw = this.createDrawerInstance(\n      x,\n      y,\n      parentWidth,\n      parentHeight,\n      rotation\n    );\n    DrawingEditor.#currentDrawingOptions = this.getDefaultDrawingOptions();\n    this._currentParent = parent;\n\n    ({ id: this._currentDrawId } = parent.drawLayer.draw(\n      this._mergeSVGProperties(\n        DrawingEditor.#currentDrawingOptions.toSVGProperties(),\n        DrawingEditor.#currentDraw.defaultSVGProperties\n      ),\n      /* isPathUpdatable = */ true,\n      /* hasClip = */ false\n    ));\n  }\n\n  static _drawMove(event) {\n    DrawingEditor.#currentMoveTimestamp = -1;\n    if (!DrawingEditor.#currentDraw) {\n      return;\n    }\n    const { offsetX, offsetY, pointerId } = event;\n\n    if (DrawingEditor.#currentPointerId !== pointerId) {\n      return;\n    }\n    if (DrawingEditor.#currentPointerIds?.size >= 1) {\n      // The user is using multiple fingers and the first one is moving.\n      this._endDraw(event);\n      return;\n    }\n    this._currentParent.drawLayer.updateProperties(\n      this._currentDrawId,\n      DrawingEditor.#currentDraw.add(offsetX, offsetY)\n    );\n    // We track the timestamp to know if the touchmove event is used to draw.\n    DrawingEditor.#currentMoveTimestamp = event.timeStamp;\n    stopEvent(event);\n  }\n\n  static _cleanup(all) {\n    if (all) {\n      this._currentDrawId = -1;\n      this._currentParent = null;\n      DrawingEditor.#currentDraw = null;\n      DrawingEditor.#currentDrawingOptions = null;\n      DrawingEditor.#currentPointerType = null;\n      DrawingEditor.#currentMoveTimestamp = NaN;\n    }\n\n    if (DrawingEditor.#currentDrawingAC) {\n      DrawingEditor.#currentDrawingAC.abort();\n      DrawingEditor.#currentDrawingAC = null;\n      DrawingEditor.#currentPointerId = NaN;\n      DrawingEditor.#currentPointerIds = null;\n    }\n  }\n\n  static _endDraw(event) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n\n    parent.toggleDrawing(true);\n    this._cleanup(false);\n\n    if (event?.target === parent.div) {\n      parent.drawLayer.updateProperties(\n        this._currentDrawId,\n        DrawingEditor.#currentDraw.end(event.offsetX, event.offsetY)\n      );\n    }\n    if (this.supportMultipleDrawings) {\n      const draw = DrawingEditor.#currentDraw;\n      const drawId = this._currentDrawId;\n      const lastElement = draw.getLastElement();\n      parent.addCommands({\n        cmd: () => {\n          parent.drawLayer.updateProperties(\n            drawId,\n            draw.setLastElement(lastElement)\n          );\n        },\n        undo: () => {\n          parent.drawLayer.updateProperties(drawId, draw.removeLastElement());\n        },\n        mustExec: false,\n        type: AnnotationEditorParamsType.DRAW_STEP,\n      });\n\n      return;\n    }\n\n    this.endDrawing(/* isAborted = */ false);\n  }\n\n  static endDrawing(isAborted) {\n    const parent = this._currentParent;\n    if (!parent) {\n      return null;\n    }\n    parent.toggleDrawing(true);\n    parent.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP);\n\n    if (!DrawingEditor.#currentDraw.isEmpty()) {\n      const {\n        pageDimensions: [pageWidth, pageHeight],\n        scale,\n      } = parent;\n\n      const editor = parent.createAndAddNewEditor(\n        { offsetX: 0, offsetY: 0 },\n        false,\n        {\n          drawId: this._currentDrawId,\n          drawOutlines: DrawingEditor.#currentDraw.getOutlines(\n            pageWidth * scale,\n            pageHeight * scale,\n            scale,\n            this._INNER_MARGIN\n          ),\n          drawingOptions: DrawingEditor.#currentDrawingOptions,\n          mustBeCommitted: !isAborted,\n        }\n      );\n      this._cleanup(true);\n      return editor;\n    }\n\n    parent.drawLayer.remove(this._currentDrawId);\n    this._cleanup(true);\n    return null;\n  }\n\n  /**\n   * Create the drawing options.\n   * @param {Object} _data\n   */\n  createDrawingOptions(_data) {}\n\n  /**\n   * Deserialize the drawing outlines.\n   * @param {number} pageX - The x coordinate of the page.\n   * @param {number} pageY - The y coordinate of the page.\n   * @param {number} pageWidth - The width of the page.\n   * @param {number} pageHeight - The height of the page.\n   * @param {number} innerWidth - The inner width.\n   * @param {Object} data - The data to deserialize.\n   * @returns {Object} The deserialized outlines.\n   */\n  static deserializeDraw(\n    _pageX,\n    _pageY,\n    _pageWidth,\n    _pageHeight,\n    _innerWidth,\n    _data\n  ) {\n    unreachable(\"Not implemented\");\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    const {\n      rawDims: { pageWidth, pageHeight, pageX, pageY },\n    } = parent.viewport;\n    const drawOutlines = this.deserializeDraw(\n      pageX,\n      pageY,\n      pageWidth,\n      pageHeight,\n      this._INNER_MARGIN,\n      data\n    );\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.createDrawingOptions(data);\n    editor.#createDrawOutlines({ drawOutlines });\n    editor.#addToDrawLayer();\n    editor.onScaleChanging();\n    editor.rotate();\n\n    return editor;\n  }\n\n  serializeDraw(isForCopying) {\n    const [pageX, pageY] = this.pageTranslation;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    return this.#drawOutlines.serialize(\n      [pageX, pageY, pageWidth, pageHeight],\n      isForCopying\n    );\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    annotation.updateEdited({\n      rect: this.getPDFRect(),\n    });\n\n    return null;\n  }\n\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\nexport { DrawingEditor, DrawingOptions };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MathClamp, Util } from \"../../../shared/util.js\";\nimport { Outline } from \"./outline.js\";\n\nclass InkDrawOutliner {\n  // The last 3 points of the line.\n  #last = new Float64Array(6);\n\n  #line;\n\n  #lines;\n\n  #rotation;\n\n  #thickness;\n\n  #points;\n\n  #lastSVGPath = \"\";\n\n  #lastIndex = 0;\n\n  #outlines = new InkDrawOutline();\n\n  #parentWidth;\n\n  #parentHeight;\n\n  constructor(x, y, parentWidth, parentHeight, rotation, thickness) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n\n    [x, y] = this.#normalizePoint(x, y);\n\n    const line = (this.#line = [NaN, NaN, NaN, NaN, x, y]);\n    this.#points = [x, y];\n    this.#lines = [{ line, points: this.#points }];\n    this.#last.set(line, 0);\n  }\n\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      this.#thickness = value;\n    }\n  }\n\n  #normalizePoint(x, y) {\n    return Outline._normalizePoint(\n      x,\n      y,\n      this.#parentWidth,\n      this.#parentHeight,\n      this.#rotation\n    );\n  }\n\n  isEmpty() {\n    return !this.#lines || this.#lines.length === 0;\n  }\n\n  isCancellable() {\n    // The user a second finger after drawing 5 points: it's small enough\n    // to not be a real drawing.\n    return this.#points.length <= 10;\n  }\n\n  add(x, y) {\n    // The point is in canvas coordinates which means that there is no rotation.\n    // It's the same as parent coordinates.\n    [x, y] = this.#normalizePoint(x, y);\n    const [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(this.#parentWidth * diffX, this.#parentHeight * diffY);\n    if (d <= 2) {\n      // The idea is to avoid garbage points around the last point.\n      // When the points are too close, it just leads to bad normal vectors and\n      // control points.\n      return null;\n    }\n\n    this.#points.push(x, y);\n\n    if (isNaN(x1)) {\n      // We've only one point.\n      this.#last.set([x2, y2, x, y], 2);\n      this.#line.push(NaN, NaN, NaN, NaN, x, y);\n      return {\n        path: {\n          d: this.toSVGPath(),\n        },\n      };\n    }\n\n    if (isNaN(this.#last[0])) {\n      // We've only two points.\n      this.#line.splice(6, 6);\n    }\n\n    this.#last.set([x1, y1, x2, y2, x, y], 0);\n    this.#line.push(...Outline.createBezierPoints(x1, y1, x2, y2, x, y));\n\n    return {\n      path: {\n        d: this.toSVGPath(),\n      },\n    };\n  }\n\n  end(x, y) {\n    const change = this.add(x, y);\n    if (change) {\n      return change;\n    }\n    if (this.#points.length === 2) {\n      // We've only one point.\n      return {\n        path: {\n          d: this.toSVGPath(),\n        },\n      };\n    }\n    return null;\n  }\n\n  startNew(x, y, parentWidth, parentHeight, rotation) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#rotation = rotation;\n\n    [x, y] = this.#normalizePoint(x, y);\n\n    const line = (this.#line = [NaN, NaN, NaN, NaN, x, y]);\n    this.#points = [x, y];\n    const last = this.#lines.at(-1);\n    if (last) {\n      last.line = new Float32Array(last.line);\n      last.points = new Float32Array(last.points);\n    }\n    this.#lines.push({ line, points: this.#points });\n    this.#last.set(line, 0);\n    this.#lastIndex = 0;\n    this.toSVGPath();\n\n    return null;\n  }\n\n  getLastElement() {\n    return this.#lines.at(-1);\n  }\n\n  setLastElement(element) {\n    if (!this.#lines) {\n      return this.#outlines.setLastElement(element);\n    }\n    this.#lines.push(element);\n    this.#line = element.line;\n    this.#points = element.points;\n    this.#lastIndex = 0;\n    return {\n      path: {\n        d: this.toSVGPath(),\n      },\n    };\n  }\n\n  removeLastElement() {\n    if (!this.#lines) {\n      return this.#outlines.removeLastElement();\n    }\n    this.#lines.pop();\n    this.#lastSVGPath = \"\";\n    for (let i = 0, ii = this.#lines.length; i < ii; i++) {\n      const { line, points } = this.#lines[i];\n      this.#line = line;\n      this.#points = points;\n      this.#lastIndex = 0;\n      this.toSVGPath();\n    }\n\n    return {\n      path: {\n        d: this.#lastSVGPath,\n      },\n    };\n  }\n\n  toSVGPath() {\n    const firstX = Outline.svgRound(this.#line[4]);\n    const firstY = Outline.svgRound(this.#line[5]);\n    if (this.#points.length === 2) {\n      this.#lastSVGPath = `${this.#lastSVGPath} M ${firstX} ${firstY} Z`;\n      return this.#lastSVGPath;\n    }\n\n    if (this.#points.length <= 6) {\n      // We've 2 or 3 points.\n      const i = this.#lastSVGPath.lastIndexOf(\"M\");\n      this.#lastSVGPath = `${this.#lastSVGPath.slice(0, i)} M ${firstX} ${firstY}`;\n      this.#lastIndex = 6;\n    }\n\n    if (this.#points.length === 4) {\n      const secondX = Outline.svgRound(this.#line[10]);\n      const secondY = Outline.svgRound(this.#line[11]);\n      this.#lastSVGPath = `${this.#lastSVGPath} L ${secondX} ${secondY}`;\n      this.#lastIndex = 12;\n      return this.#lastSVGPath;\n    }\n\n    const buffer = [];\n    if (this.#lastIndex === 0) {\n      buffer.push(`M ${firstX} ${firstY}`);\n      this.#lastIndex = 6;\n    }\n\n    for (let i = this.#lastIndex, ii = this.#line.length; i < ii; i += 6) {\n      const [c1x, c1y, c2x, c2y, x, y] = this.#line\n        .slice(i, i + 6)\n        .map(Outline.svgRound);\n      buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n    }\n    this.#lastSVGPath += buffer.join(\" \");\n    this.#lastIndex = this.#line.length;\n\n    return this.#lastSVGPath;\n  }\n\n  getOutlines(parentWidth, parentHeight, scale, innerMargin) {\n    const last = this.#lines.at(-1);\n    last.line = new Float32Array(last.line);\n    last.points = new Float32Array(last.points);\n\n    this.#outlines.build(\n      this.#lines,\n      parentWidth,\n      parentHeight,\n      scale,\n      this.#rotation,\n      this.#thickness,\n      innerMargin\n    );\n\n    // We reset everything: the drawing is done.\n    this.#last = null;\n    this.#line = null;\n    this.#lines = null;\n    this.#lastSVGPath = null;\n\n    return this.#outlines;\n  }\n\n  get defaultSVGProperties() {\n    return {\n      root: {\n        viewBox: \"0 0 10000 10000\",\n      },\n      rootClass: {\n        draw: true,\n      },\n      bbox: [0, 0, 1, 1],\n    };\n  }\n}\n\nclass InkDrawOutline extends Outline {\n  #bbox;\n\n  #currentRotation = 0;\n\n  #innerMargin;\n\n  #lines;\n\n  #parentWidth;\n\n  #parentHeight;\n\n  #parentScale;\n\n  #rotation;\n\n  #thickness;\n\n  build(\n    lines,\n    parentWidth,\n    parentHeight,\n    parentScale,\n    rotation,\n    thickness,\n    innerMargin\n  ) {\n    this.#parentWidth = parentWidth;\n    this.#parentHeight = parentHeight;\n    this.#parentScale = parentScale;\n    this.#rotation = rotation;\n    this.#thickness = thickness;\n    this.#innerMargin = innerMargin ?? 0;\n    this.#lines = lines;\n\n    this.#computeBbox();\n  }\n\n  get thickness() {\n    return this.#thickness;\n  }\n\n  setLastElement(element) {\n    this.#lines.push(element);\n    return {\n      path: {\n        d: this.toSVGPath(),\n      },\n    };\n  }\n\n  removeLastElement() {\n    this.#lines.pop();\n    return {\n      path: {\n        d: this.toSVGPath(),\n      },\n    };\n  }\n\n  toSVGPath() {\n    const buffer = [];\n    for (const { line } of this.#lines) {\n      buffer.push(`M${Outline.svgRound(line[4])} ${Outline.svgRound(line[5])}`);\n      if (line.length === 6) {\n        buffer.push(\"Z\");\n        continue;\n      }\n      if (line.length === 12 && isNaN(line[6])) {\n        buffer.push(\n          `L${Outline.svgRound(line[10])} ${Outline.svgRound(line[11])}`\n        );\n        continue;\n      }\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line\n          .subarray(i, i + 6)\n          .map(Outline.svgRound);\n        buffer.push(`C${c1x} ${c1y} ${c2x} ${c2y} ${x} ${y}`);\n      }\n    }\n    return buffer.join(\"\");\n  }\n\n  serialize([pageX, pageY, pageWidth, pageHeight], isForCopying) {\n    const serializedLines = [];\n    const serializedPoints = [];\n    const [x, y, width, height] = this.#getBBoxWithNoMargin();\n    let tx, ty, sx, sy, x1, y1, x2, y2, rescaleFn;\n\n    switch (this.#rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = pageX;\n        ty = pageY + pageHeight;\n        sx = pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + x * pageWidth;\n        y1 = pageY + (1 - y - height) * pageHeight;\n        x2 = pageX + (x + width) * pageWidth;\n        y2 = pageY + (1 - y) * pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX;\n        ty = pageY;\n        sx = pageWidth;\n        sy = pageHeight;\n        x1 = pageX + y * pageWidth;\n        y1 = pageY + x * pageHeight;\n        x2 = pageX + (y + height) * pageWidth;\n        y2 = pageY + (x + width) * pageHeight;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX + pageWidth;\n        ty = pageY;\n        sx = -pageWidth;\n        sy = pageHeight;\n        x1 = pageX + (1 - x - width) * pageWidth;\n        y1 = pageY + y * pageHeight;\n        x2 = pageX + (1 - x) * pageWidth;\n        y2 = pageY + (y + height) * pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageX + pageWidth;\n        ty = pageY + pageHeight;\n        sx = -pageWidth;\n        sy = -pageHeight;\n        x1 = pageX + (1 - y - height) * pageWidth;\n        y1 = pageY + (1 - x - width) * pageHeight;\n        x2 = pageX + (1 - y) * pageWidth;\n        y2 = pageY + (1 - x) * pageHeight;\n        break;\n    }\n\n    for (const { line, points } of this.#lines) {\n      serializedLines.push(\n        rescaleFn(\n          line,\n          tx,\n          ty,\n          sx,\n          sy,\n          isForCopying ? new Array(line.length) : null\n        )\n      );\n      serializedPoints.push(\n        rescaleFn(\n          points,\n          tx,\n          ty,\n          sx,\n          sy,\n          isForCopying ? new Array(points.length) : null\n        )\n      );\n    }\n\n    return {\n      lines: serializedLines,\n      points: serializedPoints,\n      rect: [x1, y1, x2, y2],\n    };\n  }\n\n  static deserialize(\n    pageX,\n    pageY,\n    pageWidth,\n    pageHeight,\n    innerMargin,\n    { paths: { lines, points }, rotation, thickness }\n  ) {\n    const newLines = [];\n    let tx, ty, sx, sy, rescaleFn;\n    switch (rotation) {\n      case 0:\n        rescaleFn = Outline._rescale;\n        tx = -pageX / pageWidth;\n        ty = pageY / pageHeight + 1;\n        sx = 1 / pageWidth;\n        sy = -1 / pageHeight;\n        break;\n      case 90:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = -pageY / pageHeight;\n        ty = -pageX / pageWidth;\n        sx = 1 / pageHeight;\n        sy = 1 / pageWidth;\n        break;\n      case 180:\n        rescaleFn = Outline._rescale;\n        tx = pageX / pageWidth + 1;\n        ty = -pageY / pageHeight;\n        sx = -1 / pageWidth;\n        sy = 1 / pageHeight;\n        break;\n      case 270:\n        rescaleFn = Outline._rescaleAndSwap;\n        tx = pageY / pageHeight + 1;\n        ty = pageX / pageWidth + 1;\n        sx = -1 / pageHeight;\n        sy = -1 / pageWidth;\n        break;\n    }\n\n    if (!lines) {\n      lines = [];\n      for (const point of points) {\n        const len = point.length;\n        if (len === 2) {\n          lines.push(\n            new Float32Array([NaN, NaN, NaN, NaN, point[0], point[1]])\n          );\n          continue;\n        }\n        if (len === 4) {\n          lines.push(\n            new Float32Array([\n              NaN,\n              NaN,\n              NaN,\n              NaN,\n              point[0],\n              point[1],\n              NaN,\n              NaN,\n              NaN,\n              NaN,\n              point[2],\n              point[3],\n            ])\n          );\n          continue;\n        }\n        const line = new Float32Array(3 * (len - 2));\n        lines.push(line);\n        let [x1, y1, x2, y2] = point.subarray(0, 4);\n        line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n        for (let i = 4; i < len; i += 2) {\n          const x = point[i];\n          const y = point[i + 1];\n          line.set(\n            Outline.createBezierPoints(x1, y1, x2, y2, x, y),\n            (i - 2) * 3\n          );\n          [x1, y1, x2, y2] = [x2, y2, x, y];\n        }\n      }\n    }\n\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      newLines.push({\n        line: rescaleFn(\n          lines[i].map(x => x ?? NaN),\n          tx,\n          ty,\n          sx,\n          sy\n        ),\n        points: rescaleFn(\n          points[i].map(x => x ?? NaN),\n          tx,\n          ty,\n          sx,\n          sy\n        ),\n      });\n    }\n\n    const outlines = new this.prototype.constructor();\n    outlines.build(\n      newLines,\n      pageWidth,\n      pageHeight,\n      1,\n      rotation,\n      thickness,\n      innerMargin\n    );\n\n    return outlines;\n  }\n\n  #getMarginComponents(thickness = this.#thickness) {\n    const margin = this.#innerMargin + (thickness / 2) * this.#parentScale;\n    return this.#rotation % 180 === 0\n      ? [margin / this.#parentWidth, margin / this.#parentHeight]\n      : [margin / this.#parentHeight, margin / this.#parentWidth];\n  }\n\n  #getBBoxWithNoMargin() {\n    const [x, y, width, height] = this.#bbox;\n    const [marginX, marginY] = this.#getMarginComponents(0);\n\n    return [\n      x + marginX,\n      y + marginY,\n      width - 2 * marginX,\n      height - 2 * marginY,\n    ];\n  }\n\n  #computeBbox() {\n    const bbox = (this.#bbox = new Float32Array([\n      Infinity,\n      Infinity,\n      -Infinity,\n      -Infinity,\n    ]));\n\n    for (const { line } of this.#lines) {\n      if (line.length <= 12) {\n        // We've only one or two points => no bezier curve.\n        for (let i = 4, ii = line.length; i < ii; i += 6) {\n          Util.pointBoundingBox(line[i], line[i + 1], bbox);\n        }\n        continue;\n      }\n      let lastX = line[4],\n        lastY = line[5];\n      for (let i = 6, ii = line.length; i < ii; i += 6) {\n        const [c1x, c1y, c2x, c2y, x, y] = line.subarray(i, i + 6);\n        Util.bezierBoundingBox(lastX, lastY, c1x, c1y, c2x, c2y, x, y, bbox);\n        lastX = x;\n        lastY = y;\n      }\n    }\n\n    const [marginX, marginY] = this.#getMarginComponents();\n    bbox[0] = MathClamp(bbox[0] - marginX, 0, 1);\n    bbox[1] = MathClamp(bbox[1] - marginY, 0, 1);\n    bbox[2] = MathClamp(bbox[2] + marginX, 0, 1);\n    bbox[3] = MathClamp(bbox[3] + marginY, 0, 1);\n\n    bbox[2] -= bbox[0];\n    bbox[3] -= bbox[1];\n  }\n\n  get box() {\n    return this.#bbox;\n  }\n\n  updateProperty(name, value) {\n    if (name === \"stroke-width\") {\n      return this.#updateThickness(value);\n    }\n    return null;\n  }\n\n  #updateThickness(thickness) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#thickness = thickness;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const [diffMarginX, diffMarginY] = [\n      newMarginX - oldMarginX,\n      newMarginY - oldMarginY,\n    ];\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n\n    return bbox;\n  }\n\n  updateParentDimensions([width, height], scale) {\n    const [oldMarginX, oldMarginY] = this.#getMarginComponents();\n    this.#parentWidth = width;\n    this.#parentHeight = height;\n    this.#parentScale = scale;\n    const [newMarginX, newMarginY] = this.#getMarginComponents();\n    const diffMarginX = newMarginX - oldMarginX;\n    const diffMarginY = newMarginY - oldMarginY;\n\n    const bbox = this.#bbox;\n    bbox[0] -= diffMarginX;\n    bbox[1] -= diffMarginY;\n    bbox[2] += 2 * diffMarginX;\n    bbox[3] += 2 * diffMarginY;\n\n    return bbox;\n  }\n\n  updateRotation(rotation) {\n    this.#currentRotation = rotation;\n    return {\n      path: {\n        transform: this.rotationTransform,\n      },\n    };\n  }\n\n  get viewBox() {\n    return this.#bbox.map(Outline.svgRound).join(\" \");\n  }\n\n  get defaultProperties() {\n    const [x, y] = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox,\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`,\n      },\n    };\n  }\n\n  get rotationTransform() {\n    const [, , width, height] = this.#bbox;\n    let a = 0,\n      b = 0,\n      c = 0,\n      d = 0,\n      e = 0,\n      f = 0;\n    switch (this.#currentRotation) {\n      case 90:\n        b = height / width;\n        c = -width / height;\n        e = width;\n        break;\n      case 180:\n        a = -1;\n        d = -1;\n        e = width;\n        f = height;\n        break;\n      case 270:\n        b = -height / width;\n        c = width / height;\n        f = height;\n        break;\n      default:\n        return \"\";\n    }\n    return `matrix(${a} ${b} ${c} ${d} ${Outline.svgRound(e)} ${Outline.svgRound(f)})`;\n  }\n\n  getPathResizingSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const [x, y, width, height] = this.#bbox;\n\n    if (\n      Math.abs(width - marginX) <= Outline.PRECISION ||\n      Math.abs(height - marginY) <= Outline.PRECISION\n    ) {\n      // Center the path in the new bounding box.\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      return {\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: `${this.rotationTransform} translate(${tx} ${ty})`,\n        },\n      };\n    }\n\n    // We compute the following transform:\n    //  1. Translate the path to the origin (-marginX, -marginY).\n    //  2. Scale the path to the new size:\n    //   ((newWidth - 2*marginX) / (bbox.width - 2*marginX),\n    //   (newHeight - 2*marginY) / (bbox.height - 2*marginY)).\n    //  3. Translate the path back to its original position\n    //   (marginX, marginY).\n    //  4. Scale the inverse of bbox scaling:\n    //   (bbox.width / newWidth, bbox.height / newHeight).\n\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const s2x = width / newWidth;\n    const s2y = height / newHeight;\n\n    return {\n      path: {\n        \"transform-origin\": `${Outline.svgRound(x)} ${Outline.svgRound(y)}`,\n        transform:\n          `${this.rotationTransform} scale(${s2x} ${s2y}) ` +\n          `translate(${Outline.svgRound(marginX)} ${Outline.svgRound(marginY)}) scale(${s1x} ${s1y}) ` +\n          `translate(${Outline.svgRound(-marginX)} ${Outline.svgRound(-marginY)})`,\n      },\n    };\n  }\n\n  getPathResizedSVGProperties([newX, newY, newWidth, newHeight]) {\n    const [marginX, marginY] = this.#getMarginComponents();\n    const bbox = this.#bbox;\n    const [x, y, width, height] = bbox;\n\n    bbox[0] = newX;\n    bbox[1] = newY;\n    bbox[2] = newWidth;\n    bbox[3] = newHeight;\n\n    if (\n      Math.abs(width - marginX) <= Outline.PRECISION ||\n      Math.abs(height - marginY) <= Outline.PRECISION\n    ) {\n      // Center the path in the new bounding box.\n      const tx = newX + newWidth / 2 - (x + width / 2);\n      const ty = newY + newHeight / 2 - (y + height / 2);\n      for (const { line, points } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n      return {\n        root: {\n          viewBox: this.viewBox,\n        },\n        path: {\n          \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n          transform: this.rotationTransform || null,\n          d: this.toSVGPath(),\n        },\n      };\n    }\n\n    // We compute the following transform:\n    //  1. Translate the path to the origin (-(x + marginX), -(y + marginY)).\n    //  2. Scale the path to the new size:\n    //   ((newWidth - 2*marginX) / (bbox.width - 2*marginX),\n    //   (newHeight - 2*marginY) / (bbox.height - 2*marginY)).\n    //  3. Translate the path back to its new position\n    //     (newX + marginX,y newY + marginY).\n\n    const s1x = (newWidth - 2 * marginX) / (width - 2 * marginX);\n    const s1y = (newHeight - 2 * marginY) / (height - 2 * marginY);\n    const tx = -s1x * (x + marginX) + newX + marginX;\n    const ty = -s1y * (y + marginY) + newY + marginY;\n\n    if (s1x !== 1 || s1y !== 1 || tx !== 0 || ty !== 0) {\n      for (const { line, points } of this.#lines) {\n        Outline._rescale(line, tx, ty, s1x, s1y, line);\n        Outline._rescale(points, tx, ty, s1x, s1y, points);\n      }\n    }\n\n    return {\n      root: {\n        viewBox: this.viewBox,\n      },\n      path: {\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n        transform: this.rotationTransform || null,\n        d: this.toSVGPath(),\n      },\n    };\n  }\n\n  getPathTranslatedSVGProperties([newX, newY], parentDimensions) {\n    const [newParentWidth, newParentHeight] = parentDimensions;\n    const bbox = this.#bbox;\n    const tx = newX - bbox[0];\n    const ty = newY - bbox[1];\n\n    if (\n      this.#parentWidth === newParentWidth &&\n      this.#parentHeight === newParentHeight\n    ) {\n      // We don't change the parent dimensions so it's a simple translation.\n      for (const { line, points } of this.#lines) {\n        Outline._translate(line, tx, ty, line);\n        Outline._translate(points, tx, ty, points);\n      }\n    } else {\n      const sx = this.#parentWidth / newParentWidth;\n      const sy = this.#parentHeight / newParentHeight;\n      this.#parentWidth = newParentWidth;\n      this.#parentHeight = newParentHeight;\n\n      for (const { line, points } of this.#lines) {\n        Outline._rescale(line, tx, ty, sx, sy, line);\n        Outline._rescale(points, tx, ty, sx, sy, points);\n      }\n      bbox[2] *= sx;\n      bbox[3] *= sy;\n    }\n    bbox[0] = newX;\n    bbox[1] = newY;\n\n    return {\n      root: {\n        viewBox: this.viewBox,\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(newX)} ${Outline.svgRound(newY)}`,\n      },\n    };\n  }\n\n  get defaultSVGProperties() {\n    const bbox = this.#bbox;\n    return {\n      root: {\n        viewBox: this.viewBox,\n      },\n      rootClass: {\n        draw: true,\n      },\n      path: {\n        d: this.toSVGPath(),\n        \"transform-origin\": `${Outline.svgRound(bbox[0])} ${Outline.svgRound(bbox[1])}`,\n        transform: this.rotationTransform || null,\n      },\n      bbox,\n    };\n  }\n}\n\nexport { InkDrawOutline, InkDrawOutliner };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  shadow,\n  Util,\n} from \"../../shared/util.js\";\nimport { DrawingEditor, DrawingOptions } from \"./draw.js\";\nimport { InkDrawOutline, InkDrawOutliner } from \"./drawers/inkdraw.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { BasicColorPicker } from \"./color_picker.js\";\nimport { InkAnnotationElement } from \"../annotation_layer.js\";\n\nclass InkDrawingOptions extends DrawingOptions {\n  constructor(viewerParameters) {\n    super();\n    this._viewParameters = viewerParameters;\n\n    super.updateProperties({\n      fill: \"none\",\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-opacity\": 1,\n      \"stroke-width\": 1,\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-miterlimit\": 10,\n    });\n  }\n\n  updateSVGProperty(name, value) {\n    if (name === \"stroke-width\") {\n      value ??= this[\"stroke-width\"];\n      value *= this._viewParameters.realScale;\n    }\n    super.updateSVGProperty(name, value);\n  }\n\n  clone() {\n    const clone = new InkDrawingOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\n\n/**\n * Basic draw editor in order to generate an Ink annotation.\n */\nclass InkEditor extends DrawingEditor {\n  static _type = \"ink\";\n\n  static _editorType = AnnotationEditorType.INK;\n\n  static _defaultDrawingOptions = null;\n\n  constructor(params) {\n    super({ ...params, name: \"inkEditor\" });\n    this._willKeepAspectRatio = true;\n    this.defaultL10nId = \"pdfjs-editor-ink-editor\";\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n    this._defaultDrawingOptions = new InkDrawingOptions(\n      uiManager.viewParameters\n    );\n  }\n\n  /** @inheritdoc */\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n\n  /** @inheritdoc */\n  static get supportMultipleDrawings() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  static get typesMap() {\n    return shadow(\n      this,\n      \"typesMap\",\n      new Map([\n        [AnnotationEditorParamsType.INK_THICKNESS, \"stroke-width\"],\n        [AnnotationEditorParamsType.INK_COLOR, \"stroke\"],\n        [AnnotationEditorParamsType.INK_OPACITY, \"stroke-opacity\"],\n      ])\n    );\n  }\n\n  /** @inheritdoc */\n  static createDrawerInstance(x, y, parentWidth, parentHeight, rotation) {\n    return new InkDrawOutliner(\n      x,\n      y,\n      parentWidth,\n      parentHeight,\n      rotation,\n      this._defaultDrawingOptions[\"stroke-width\"]\n    );\n  }\n\n  /** @inheritdoc */\n  static deserializeDraw(\n    pageX,\n    pageY,\n    pageWidth,\n    pageHeight,\n    innerMargin,\n    data\n  ) {\n    return InkDrawOutline.deserialize(\n      pageX,\n      pageY,\n      pageWidth,\n      pageHeight,\n      innerMargin,\n      data\n    );\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof InkAnnotationElement) {\n      const {\n        data: {\n          inkLists,\n          rect,\n          rotation,\n          id,\n          color,\n          opacity,\n          borderStyle: { rawWidth: thickness },\n          popupRef,\n          contentsObj,\n        },\n        parent: {\n          page: { pageNumber },\n        },\n      } = data;\n      initialData = data = {\n        annotationType: AnnotationEditorType.INK,\n        color: Array.from(color),\n        thickness,\n        opacity,\n        paths: { points: inkLists },\n        boxes: null,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        popupRef,\n        comment: contentsObj?.str || null,\n      };\n    }\n\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data.comment);\n    }\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  get toolbarButtons() {\n    this._colorPicker ||= new BasicColorPicker(this);\n    return [[\"colorPicker\", this._colorPicker]];\n  }\n\n  get colorType() {\n    return AnnotationEditorParamsType.INK_COLOR;\n  }\n\n  get colorValue() {\n    return this._drawingOptions.stroke;\n  }\n\n  /** @inheritdoc */\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    super.onScaleChanging();\n    const { _drawId, _drawingOptions, parent } = this;\n    _drawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(\n      _drawId,\n      _drawingOptions.toSVGProperties()\n    );\n  }\n\n  static onScaleChangingWhenDrawing() {\n    const parent = this._currentParent;\n    if (!parent) {\n      return;\n    }\n    super.onScaleChangingWhenDrawing();\n    this._defaultDrawingOptions.updateSVGProperty(\"stroke-width\");\n    parent.drawLayer.updateProperties(\n      this._currentDrawId,\n      this._defaultDrawingOptions.toSVGProperties()\n    );\n  }\n\n  /** @inheritdoc */\n  createDrawingOptions({ color, thickness, opacity }) {\n    this._drawingOptions = InkEditor.getDefaultDrawingOptions({\n      stroke: Util.makeHexColor(...color),\n      \"stroke-width\": thickness,\n      \"stroke-opacity\": opacity,\n    });\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const { lines, points, rect } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: {\n        stroke,\n        \"stroke-opacity\": opacity,\n        \"stroke-width\": thickness,\n      },\n    } = this;\n    const serialized = {\n      annotationType: AnnotationEditorType.INK,\n      color: AnnotationEditor._colorManager.convert(stroke),\n      opacity,\n      thickness,\n      paths: {\n        lines,\n        points,\n      },\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n    this.addComment(serialized);\n\n    if (isForCopying) {\n      serialized.isCopy = true;\n      return serialized;\n    }\n\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const { color, thickness, opacity, pageIndex } = this._initialData;\n    return (\n      this.hasEditedComment ||\n      this._hasBeenMoved ||\n      this._hasBeenResized ||\n      serialized.color.some((c, i) => c !== color[i]) ||\n      serialized.thickness !== thickness ||\n      serialized.opacity !== opacity ||\n      serialized.pageIndex !== pageIndex\n    );\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const { points, rect } = this.serializeDraw(/* isForCopying = */ false);\n    const params = {\n      rect,\n      thickness: this._drawingOptions[\"stroke-width\"],\n      points,\n    };\n    if (this.hasEditedComment) {\n      params.popup = this.comment;\n    }\n    annotation.updateEdited(params);\n\n    return null;\n  }\n}\n\nexport { InkDrawingOptions, InkEditor };\n","/* Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InkDrawOutline } from \"./inkdraw.js\";\n\nclass ContourDrawOutline extends InkDrawOutline {\n  toSVGPath() {\n    let path = super.toSVGPath();\n    if (!path.endsWith(\"Z\")) {\n      path += \"Z\";\n    }\n    return path;\n  }\n}\n\nexport { ContourDrawOutline };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { fromBase64Util, toBase64Util, warn } from \"../../../shared/util.js\";\nimport { ContourDrawOutline } from \"./contour.js\";\nimport { InkDrawOutline } from \"./inkdraw.js\";\nimport { Outline } from \"./outline.js\";\n\nconst BASE_HEADER_LENGTH = 8;\nconst POINTS_PROPERTIES_NUMBER = 3;\n\n/**\n * Basic text editor in order to create a Signature annotation.\n */\nclass SignatureExtractor {\n  static #PARAMETERS = {\n    maxDim: 512,\n    sigmaSFactor: 0.02,\n    sigmaR: 25,\n    kernelSize: 16,\n  };\n\n  static #neighborIndexToId(i0, j0, i, j) {\n    /*\n      The idea is to map the neighbors of a pixel into a unique id.\n        3 2 1\n        4 X 0\n        5 6 7\n    */\n\n    i -= i0;\n    j -= j0;\n\n    if (i === 0) {\n      return j > 0 ? 0 : 4;\n    }\n\n    if (i === 1) {\n      return j + 6;\n    }\n\n    return 2 - j;\n  }\n\n  static #neighborIdToIndex = new Int32Array([\n    0, 1, -1, 1, -1, 0, -1, -1, 0, -1, 1, -1, 1, 0, 1, 1,\n  ]);\n\n  static #clockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (-k + id - offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n\n  static #counterClockwiseNonZero(buf, width, i0, j0, i, j, offset) {\n    const id = this.#neighborIndexToId(i0, j0, i, j);\n    for (let k = 0; k < 8; k++) {\n      const kk = (k + id + offset + 16) % 8;\n      const shiftI = this.#neighborIdToIndex[2 * kk];\n      const shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n      if (buf[(i0 + shiftI) * width + (j0 + shiftJ)] !== 0) {\n        return kk;\n      }\n    }\n    return -1;\n  }\n\n  static #findContours(buf, width, height, threshold) {\n    // Based on the Suzuki's algorithm:\n    //  https://web.archive.org/web/20231213161741/https://www.nevis.columbia.edu/~vgenty/public/suzuki_et_al.pdf\n\n    const N = buf.length;\n    const types = new Int32Array(N);\n    for (let i = 0; i < N; i++) {\n      types[i] = buf[i] <= threshold ? 1 : 0;\n    }\n\n    for (let i = 1; i < height - 1; i++) {\n      types[i * width] = types[i * width + width - 1] = 0;\n    }\n    for (let i = 0; i < width; i++) {\n      types[i] = types[width * height - 1 - i] = 0;\n    }\n\n    let nbd = 1;\n    let lnbd;\n    const contours = [];\n\n    for (let i = 1; i < height - 1; i++) {\n      lnbd = 1;\n      for (let j = 1; j < width - 1; j++) {\n        const ij = i * width + j;\n        const pix = types[ij];\n        if (pix === 0) {\n          continue;\n        }\n\n        let i2 = i;\n        let j2 = j;\n\n        if (pix === 1 && types[ij - 1] === 0) {\n          // Outer border.\n          nbd += 1;\n          j2 -= 1;\n        } else if (pix >= 1 && types[ij + 1] === 0) {\n          // Hole border.\n          nbd += 1;\n          j2 += 1;\n          if (pix > 1) {\n            lnbd = pix;\n          }\n        } else {\n          if (pix !== 1) {\n            lnbd = Math.abs(pix);\n          }\n          continue;\n        }\n\n        const points = [j, i];\n        const isHole = j2 === j + 1;\n        const contour = {\n          isHole,\n          points,\n          id: nbd,\n          parent: 0,\n        };\n        contours.push(contour);\n\n        let contour0;\n        for (const c of contours) {\n          if (c.id === lnbd) {\n            contour0 = c;\n            break;\n          }\n        }\n\n        if (!contour0) {\n          contour.parent = isHole ? lnbd : 0;\n        } else if (contour0.isHole) {\n          contour.parent = isHole ? contour0.parent : lnbd;\n        } else {\n          contour.parent = isHole ? lnbd : contour0.parent;\n        }\n\n        const k = this.#clockwiseNonZero(types, width, i, j, i2, j2, 0);\n        if (k === -1) {\n          types[ij] = -nbd;\n          if (types[ij] !== 1) {\n            lnbd = Math.abs(types[ij]);\n          }\n          continue;\n        }\n\n        let shiftI = this.#neighborIdToIndex[2 * k];\n        let shiftJ = this.#neighborIdToIndex[2 * k + 1];\n        const i1 = i + shiftI;\n        const j1 = j + shiftJ;\n        i2 = i1;\n        j2 = j1;\n        let i3 = i;\n        let j3 = j;\n\n        while (true) {\n          const kk = this.#counterClockwiseNonZero(\n            types,\n            width,\n            i3,\n            j3,\n            i2,\n            j2,\n            1\n          );\n          shiftI = this.#neighborIdToIndex[2 * kk];\n          shiftJ = this.#neighborIdToIndex[2 * kk + 1];\n          const i4 = i3 + shiftI;\n          const j4 = j3 + shiftJ;\n          points.push(j4, i4);\n          const ij3 = i3 * width + j3;\n          if (types[ij3 + 1] === 0) {\n            types[ij3] = -nbd;\n          } else if (types[ij3] === 1) {\n            types[ij3] = nbd;\n          }\n\n          if (i4 === i && j4 === j && i3 === i1 && j3 === j1) {\n            if (types[ij] !== 1) {\n              lnbd = Math.abs(types[ij]);\n            }\n            break;\n          } else {\n            i2 = i3;\n            j2 = j3;\n            i3 = i4;\n            j3 = j4;\n          }\n        }\n      }\n    }\n    return contours;\n  }\n\n  static #douglasPeuckerHelper(points, start, end, output) {\n    // Based on the Douglas-Peucker algorithm:\n    //  https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\n    if (end - start <= 4) {\n      for (let i = start; i < end - 2; i += 2) {\n        output.push(points[i], points[i + 1]);\n      }\n      return;\n    }\n\n    const ax = points[start];\n    const ay = points[start + 1];\n    const abx = points[end - 4] - ax;\n    const aby = points[end - 3] - ay;\n    const dist = Math.hypot(abx, aby);\n    const nabx = abx / dist;\n    const naby = aby / dist;\n    const aa = nabx * ay - naby * ax;\n\n    // Guessing the epsilon value.\n    // See \"A novel framework for making dominant point detection methods\n    // non-parametric\".\n    const m = aby / abx;\n    const invS = 1 / dist;\n    const phi = Math.atan(m);\n    const cosPhi = Math.cos(phi);\n    const sinPhi = Math.sin(phi);\n    const tmax = invS * (Math.abs(cosPhi) + Math.abs(sinPhi));\n    const poly = invS * (1 - tmax + tmax ** 2);\n    const partialPhi = Math.max(\n      Math.atan(Math.abs(sinPhi + cosPhi) * poly),\n      Math.atan(Math.abs(sinPhi - cosPhi) * poly)\n    );\n\n    let dmax = 0;\n    let index = start;\n    for (let i = start + 2; i < end - 2; i += 2) {\n      const d = Math.abs(aa - nabx * points[i + 1] + naby * points[i]);\n      if (d > dmax) {\n        index = i;\n        dmax = d;\n      }\n    }\n\n    if (dmax > (dist * partialPhi) ** 2) {\n      this.#douglasPeuckerHelper(points, start, index + 2, output);\n      this.#douglasPeuckerHelper(points, index, end, output);\n    } else {\n      output.push(ax, ay);\n    }\n  }\n\n  static #douglasPeucker(points) {\n    const output = [];\n    const len = points.length;\n    this.#douglasPeuckerHelper(points, 0, len, output);\n    output.push(points[len - 2], points[len - 1]);\n    return output.length <= 4 ? null : output;\n  }\n\n  static #bilateralFilter(buf, width, height, sigmaS, sigmaR, kernelSize) {\n    // The bilateral filter is a nonlinear filter that does spatial averaging.\n    // Its main interest is to preserve edges while removing noise.\n    // See https://en.wikipedia.org/wiki/Bilateral_filter for more details.\n    // sigmaS is the standard deviation of the spatial gaussian.\n    // sigmaR is the standard deviation of the range (in term of pixel\n    // intensity) gaussian.\n\n    // Create a gaussian kernel\n    const kernel = new Float32Array(kernelSize ** 2);\n    const sigmaS2 = -2 * sigmaS ** 2;\n    const halfSize = kernelSize >> 1;\n\n    for (let i = 0; i < kernelSize; i++) {\n      const x = (i - halfSize) ** 2;\n      for (let j = 0; j < kernelSize; j++) {\n        kernel[i * kernelSize + j] = Math.exp(\n          (x + (j - halfSize) ** 2) / sigmaS2\n        );\n      }\n    }\n\n    // Create the range values to be used with the distance between pixels.\n    // It's a way faster with a lookup table than computing the exponential.\n    const rangeValues = new Float32Array(256);\n    const sigmaR2 = -2 * sigmaR ** 2;\n    for (let i = 0; i < 256; i++) {\n      rangeValues[i] = Math.exp(i ** 2 / sigmaR2);\n    }\n\n    const N = buf.length;\n    const out = new Uint8Array(N);\n\n    // We compute the histogram here instead of doing it later: it's slightly\n    // faster.\n    const histogram = new Uint32Array(256);\n    for (let i = 0; i < height; i++) {\n      for (let j = 0; j < width; j++) {\n        const ij = i * width + j;\n        const center = buf[ij];\n        let sum = 0;\n        let norm = 0;\n\n        for (let k = 0; k < kernelSize; k++) {\n          const y = i + k - halfSize;\n          if (y < 0 || y >= height) {\n            continue;\n          }\n          for (let l = 0; l < kernelSize; l++) {\n            const x = j + l - halfSize;\n            if (x < 0 || x >= width) {\n              continue;\n            }\n            const neighbour = buf[y * width + x];\n            const w =\n              kernel[k * kernelSize + l] *\n              rangeValues[Math.abs(neighbour - center)];\n            sum += neighbour * w;\n            norm += w;\n          }\n        }\n\n        const pix = (out[ij] = Math.round(sum / norm));\n        histogram[pix]++;\n      }\n    }\n\n    return [out, histogram];\n  }\n\n  static #getHistogram(buf) {\n    const histogram = new Uint32Array(256);\n    for (const g of buf) {\n      histogram[g]++;\n    }\n    return histogram;\n  }\n\n  static #toUint8(buf) {\n    // We have a RGBA buffer, containing a grayscale image.\n    // We want to convert it into a basic G buffer.\n    // Also, we want to normalize the values between 0 and 255 in order to\n    // increase the contrast.\n    const N = buf.length;\n    const out = new Uint8ClampedArray(N >> 2);\n    let max = -Infinity;\n    let min = Infinity;\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      const pix = (out[i] = buf[i << 2]);\n      max = Math.max(max, pix);\n      min = Math.min(min, pix);\n    }\n    const ratio = 255 / (max - min);\n    for (let i = 0, ii = out.length; i < ii; i++) {\n      out[i] = (out[i] - min) * ratio;\n    }\n\n    return out;\n  }\n\n  static #guessThreshold(histogram) {\n    // We want to find the threshold that will separate the background from the\n    // foreground.\n    // We could have used Otsu's method, but unfortunately it doesn't work well\n    // when the background has too much shade of greys.\n    // So the idea is to find a maximum in the black part of the histogram and\n    // figure out the value which will be the first one of the white part.\n\n    let i;\n    let M = -Infinity;\n    let L = -Infinity;\n    const min = histogram.findIndex(v => v !== 0);\n    let pos = min;\n    let spos = min;\n    for (i = min; i < 256; i++) {\n      const v = histogram[i];\n      if (v > M) {\n        if (i - pos > L) {\n          L = i - pos;\n          spos = i - 1;\n        }\n        M = v;\n        pos = i;\n      }\n    }\n    for (i = spos - 1; i >= 0; i--) {\n      if (histogram[i] > histogram[i + 1]) {\n        break;\n      }\n    }\n\n    return i;\n  }\n\n  static #getGrayPixels(bitmap) {\n    const originalBitmap = bitmap;\n    const { width, height } = bitmap;\n    const { maxDim } = this.#PARAMETERS;\n    let newWidth = width;\n    let newHeight = height;\n\n    if (width > maxDim || height > maxDim) {\n      let prevWidth = width;\n      let prevHeight = height;\n\n      let steps = Math.log2(Math.max(width, height) / maxDim);\n      const isteps = Math.floor(steps);\n      steps = steps === isteps ? isteps - 1 : isteps;\n      for (let i = 0; i < steps; i++) {\n        newWidth = Math.ceil(prevWidth / 2);\n        newHeight = Math.ceil(prevHeight / 2);\n\n        const offscreen = new OffscreenCanvas(newWidth, newHeight);\n        const ctx = offscreen.getContext(\"2d\");\n        ctx.drawImage(\n          bitmap,\n          0,\n          0,\n          prevWidth,\n          prevHeight,\n          0,\n          0,\n          newWidth,\n          newHeight\n        );\n        prevWidth = newWidth;\n        prevHeight = newHeight;\n\n        // Release the resources associated with the bitmap.\n        if (bitmap !== originalBitmap) {\n          bitmap.close();\n        }\n        bitmap = offscreen.transferToImageBitmap();\n      }\n\n      const ratio = Math.min(maxDim / newWidth, maxDim / newHeight);\n      newWidth = Math.round(newWidth * ratio);\n      newHeight = Math.round(newHeight * ratio);\n    }\n    const offscreen = new OffscreenCanvas(newWidth, newHeight);\n    const ctx = offscreen.getContext(\"2d\", { willReadFrequently: true });\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, newWidth, newHeight);\n    ctx.filter = \"grayscale(1)\";\n    ctx.drawImage(\n      bitmap,\n      0,\n      0,\n      bitmap.width,\n      bitmap.height,\n      0,\n      0,\n      newWidth,\n      newHeight\n    );\n    const grayImage = ctx.getImageData(0, 0, newWidth, newHeight).data;\n    const uint8Buf = this.#toUint8(grayImage);\n\n    return [uint8Buf, newWidth, newHeight];\n  }\n\n  static extractContoursFromText(\n    text,\n    { fontFamily, fontStyle, fontWeight },\n    pageWidth,\n    pageHeight,\n    rotation,\n    innerMargin\n  ) {\n    let canvas = new OffscreenCanvas(1, 1);\n    let ctx = canvas.getContext(\"2d\", { alpha: false });\n    const fontSize = 200;\n    const font =\n      (ctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`);\n    const {\n      actualBoundingBoxLeft,\n      actualBoundingBoxRight,\n      actualBoundingBoxAscent,\n      actualBoundingBoxDescent,\n      fontBoundingBoxAscent,\n      fontBoundingBoxDescent,\n      width,\n    } = ctx.measureText(text);\n\n    // We rescale the canvas to make \"sure\" the text fits.\n    const SCALE = 1.5;\n    const canvasWidth = Math.ceil(\n      Math.max(\n        Math.abs(actualBoundingBoxLeft) + Math.abs(actualBoundingBoxRight) || 0,\n        width\n      ) * SCALE\n    );\n    const canvasHeight = Math.ceil(\n      Math.max(\n        Math.abs(actualBoundingBoxAscent) +\n          Math.abs(actualBoundingBoxDescent) || fontSize,\n        Math.abs(fontBoundingBoxAscent) + Math.abs(fontBoundingBoxDescent) ||\n          fontSize\n      ) * SCALE\n    );\n    canvas = new OffscreenCanvas(canvasWidth, canvasHeight);\n    ctx = canvas.getContext(\"2d\", { alpha: true, willReadFrequently: true });\n    ctx.font = font;\n    ctx.filter = \"grayscale(1)\";\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvasWidth, canvasHeight);\n    ctx.fillStyle = \"black\";\n    ctx.fillText(\n      text,\n      (canvasWidth * (SCALE - 1)) / 2,\n      (canvasHeight * (3 - SCALE)) / 2\n    );\n\n    const uint8Buf = this.#toUint8(\n      ctx.getImageData(0, 0, canvasWidth, canvasHeight).data\n    );\n    const histogram = this.#getHistogram(uint8Buf);\n    const threshold = this.#guessThreshold(histogram);\n\n    const contourList = this.#findContours(\n      uint8Buf,\n      canvasWidth,\n      canvasHeight,\n      threshold\n    );\n\n    return this.processDrawnLines({\n      lines: { curves: contourList, width: canvasWidth, height: canvasHeight },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true,\n    });\n  }\n\n  static process(bitmap, pageWidth, pageHeight, rotation, innerMargin) {\n    const [uint8Buf, width, height] = this.#getGrayPixels(bitmap);\n    const [buffer, histogram] = this.#bilateralFilter(\n      uint8Buf,\n      width,\n      height,\n      Math.hypot(width, height) * this.#PARAMETERS.sigmaSFactor,\n      this.#PARAMETERS.sigmaR,\n      this.#PARAMETERS.kernelSize\n    );\n\n    const threshold = this.#guessThreshold(histogram);\n    const contourList = this.#findContours(buffer, width, height, threshold);\n\n    return this.processDrawnLines({\n      lines: { curves: contourList, width, height },\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin,\n      mustSmooth: true,\n      areContours: true,\n    });\n  }\n\n  static processDrawnLines({\n    lines,\n    pageWidth,\n    pageHeight,\n    rotation,\n    innerMargin,\n    mustSmooth,\n    areContours,\n  }) {\n    if (rotation % 180 !== 0) {\n      [pageWidth, pageHeight] = [pageHeight, pageWidth];\n    }\n\n    const { curves, width, height } = lines;\n    const thickness = lines.thickness ?? 0;\n    const linesAndPoints = [];\n    const ratio = Math.min(pageWidth / width, pageHeight / height);\n    const xScale = ratio / pageWidth;\n    const yScale = ratio / pageHeight;\n    const newCurves = [];\n\n    for (const { points } of curves) {\n      const reducedPoints = mustSmooth ? this.#douglasPeucker(points) : points;\n      if (!reducedPoints) {\n        continue;\n      }\n      newCurves.push(reducedPoints);\n\n      const len = reducedPoints.length;\n      const newPoints = new Float32Array(len);\n      const line = new Float32Array(3 * (len === 2 ? 2 : len - 2));\n      linesAndPoints.push({ line, points: newPoints });\n\n      if (len === 2) {\n        newPoints[0] = reducedPoints[0] * xScale;\n        newPoints[1] = reducedPoints[1] * yScale;\n        line.set([NaN, NaN, NaN, NaN, newPoints[0], newPoints[1]], 0);\n        continue;\n      }\n\n      let [x1, y1, x2, y2] = reducedPoints;\n      x1 *= xScale;\n      y1 *= yScale;\n      x2 *= xScale;\n      y2 *= yScale;\n      newPoints.set([x1, y1, x2, y2], 0);\n\n      line.set([NaN, NaN, NaN, NaN, x1, y1], 0);\n      for (let i = 4; i < len; i += 2) {\n        const x = (newPoints[i] = reducedPoints[i] * xScale);\n        const y = (newPoints[i + 1] = reducedPoints[i + 1] * yScale);\n        line.set(Outline.createBezierPoints(x1, y1, x2, y2, x, y), (i - 2) * 3);\n        [x1, y1, x2, y2] = [x2, y2, x, y];\n      }\n    }\n\n    if (linesAndPoints.length === 0) {\n      return null;\n    }\n\n    const outline = areContours\n      ? new ContourDrawOutline()\n      : new InkDrawOutline();\n\n    outline.build(\n      linesAndPoints,\n      pageWidth,\n      pageHeight,\n      1,\n      rotation,\n      areContours ? 0 : thickness,\n      innerMargin\n    );\n\n    return { outline, newCurves, areContours, thickness, width, height };\n  }\n\n  static async compressSignature({\n    outlines,\n    areContours,\n    thickness,\n    width,\n    height,\n  }) {\n    // We create a single array containing all the outlines.\n    // The format is the following:\n    // - 4 bytes: data length.\n    // - 4 bytes: version.\n    // - 4 bytes: width.\n    // - 4 bytes: height.\n    // - 4 bytes: 0 if it's a contour, 1 if it's an ink.\n    // - 4 bytes: thickness.\n    // - 4 bytes: number of drawings.\n    // - 4 bytes: size of the buffer containing the diff of the coordinates.\n    // - 4 bytes: number of points in the first drawing.\n    // - 4 bytes: x coordinate of the first point.\n    // - 4 bytes: y coordinate of the first point.\n    // - 4 bytes: number of points in the second drawing.\n    // - 4 bytes: x coordinate of the first point.\n    // - 4 bytes: y coordinate of the first point.\n    // - ...\n    // - The buffer containing the diff of the coordinates.\n\n    // The coordinates are supposed to be positive integers.\n\n    // We also compute the min and max difference between two points.\n    // This will help us to determine the type of the buffer (Int8, Int16 or\n    // Int32) in order to minimize the amount of data we have.\n    let minDiff = Infinity;\n    let maxDiff = -Infinity;\n    let outlinesLength = 0;\n    for (const points of outlines) {\n      outlinesLength += points.length;\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        const dx = points[i] - points[i - 2];\n        minDiff = Math.min(minDiff, dx);\n        maxDiff = Math.max(maxDiff, dx);\n      }\n    }\n\n    let bufferType;\n    if (minDiff >= -128 && maxDiff <= 127) {\n      bufferType = Int8Array;\n    } else if (minDiff >= -32768 && maxDiff <= 32767) {\n      bufferType = Int16Array;\n    } else {\n      bufferType = Int32Array;\n    }\n\n    const len = outlines.length;\n    const headerLength = BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * len;\n    const header = new Uint32Array(headerLength);\n\n    let offset = 0;\n    header[offset++] =\n      headerLength * Uint32Array.BYTES_PER_ELEMENT +\n      (outlinesLength - 2 * len) * bufferType.BYTES_PER_ELEMENT;\n    header[offset++] = 0; // Version.\n    header[offset++] = width;\n    header[offset++] = height;\n    header[offset++] = areContours ? 0 : 1;\n    header[offset++] = Math.max(0, Math.floor(thickness ?? 0));\n    header[offset++] = len;\n    header[offset++] = bufferType.BYTES_PER_ELEMENT;\n    for (const points of outlines) {\n      header[offset++] = points.length - 2;\n      header[offset++] = points[0];\n      header[offset++] = points[1];\n    }\n\n    const cs = new CompressionStream(\"deflate-raw\");\n    const writer = cs.writable.getWriter();\n    await writer.ready;\n\n    writer.write(header);\n    const BufferCtor = bufferType.prototype.constructor;\n    for (const points of outlines) {\n      const diffs = new BufferCtor(points.length - 2);\n      for (let i = 2, ii = points.length; i < ii; i++) {\n        diffs[i - 2] = points[i] - points[i - 2];\n      }\n      writer.write(diffs);\n    }\n\n    writer.close();\n\n    const buf = await new Response(cs.readable).arrayBuffer();\n    const bytes = new Uint8Array(buf);\n\n    return toBase64Util(bytes);\n  }\n\n  static async decompressSignature(signatureData) {\n    try {\n      const bytes = fromBase64Util(signatureData);\n      const { readable, writable } = new DecompressionStream(\"deflate-raw\");\n      const writer = writable.getWriter();\n      await writer.ready;\n\n      // We can't await writer.write() because it'll block until the reader\n      // starts which happens few lines below.\n      writer\n        .write(bytes)\n        .then(async () => {\n          await writer.ready;\n          await writer.close();\n        })\n        .catch(() => {});\n\n      let data = null;\n      let offset = 0;\n      for await (const chunk of readable) {\n        data ||= new Uint8Array(new Uint32Array(chunk.buffer, 0, 4)[0]);\n        data.set(chunk, offset);\n        offset += chunk.length;\n      }\n\n      // We take a bit too much data for the header but it's fine.\n      const header = new Uint32Array(data.buffer, 0, data.length >> 2);\n      const version = header[1];\n      if (version !== 0) {\n        throw new Error(`Invalid version: ${version}`);\n      }\n      const width = header[2];\n      const height = header[3];\n      const areContours = header[4] === 0;\n      const thickness = header[5];\n      const numberOfDrawings = header[6];\n      const bufferType = header[7];\n      const outlines = [];\n      const diffsOffset =\n        (BASE_HEADER_LENGTH + POINTS_PROPERTIES_NUMBER * numberOfDrawings) *\n        Uint32Array.BYTES_PER_ELEMENT;\n      let diffs;\n\n      switch (bufferType) {\n        case Int8Array.BYTES_PER_ELEMENT:\n          diffs = new Int8Array(data.buffer, diffsOffset);\n          break;\n        case Int16Array.BYTES_PER_ELEMENT:\n          diffs = new Int16Array(data.buffer, diffsOffset);\n          break;\n        case Int32Array.BYTES_PER_ELEMENT:\n          diffs = new Int32Array(data.buffer, diffsOffset);\n          break;\n      }\n\n      offset = 0;\n      for (let i = 0; i < numberOfDrawings; i++) {\n        const len = header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH];\n        const points = new Float32Array(len + 2);\n        outlines.push(points);\n\n        for (let j = 0; j < POINTS_PROPERTIES_NUMBER - 1; j++) {\n          points[j] =\n            header[POINTS_PROPERTIES_NUMBER * i + BASE_HEADER_LENGTH + j + 1];\n        }\n        for (let j = 0; j < len; j++) {\n          points[j + 2] = points[j] + diffs[offset++];\n        }\n      }\n\n      return {\n        areContours,\n        thickness,\n        outlines,\n        width,\n        height,\n      };\n    } catch (e) {\n      warn(`decompressSignature: ${e}`);\n      return null;\n    }\n  }\n}\n\nexport { SignatureExtractor };\n","/* Copyright 2025 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorType, shadow } from \"../../shared/util.js\";\nimport { DrawingEditor, DrawingOptions } from \"./draw.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { ContourDrawOutline } from \"./drawers/contour.js\";\nimport { InkDrawingOptions } from \"./ink.js\";\nimport { InkDrawOutline } from \"./drawers/inkdraw.js\";\nimport { SignatureExtractor } from \"./drawers/signaturedraw.js\";\n\nclass SignatureOptions extends DrawingOptions {\n  constructor() {\n    super();\n\n    super.updateProperties({\n      fill: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 0,\n    });\n  }\n\n  clone() {\n    const clone = new SignatureOptions();\n    clone.updateAll(this);\n    return clone;\n  }\n}\n\nclass DrawnSignatureOptions extends InkDrawingOptions {\n  constructor(viewerParameters) {\n    super(viewerParameters);\n\n    super.updateProperties({\n      stroke: AnnotationEditor._defaultLineColor,\n      \"stroke-width\": 1,\n    });\n  }\n\n  clone() {\n    const clone = new DrawnSignatureOptions(this._viewParameters);\n    clone.updateAll(this);\n    return clone;\n  }\n}\n\n/**\n * Basic editor in order to generate an Stamp annotation annotation containing\n * a signature drawing.\n */\nclass SignatureEditor extends DrawingEditor {\n  #isExtracted = false;\n\n  #description = null;\n\n  #signatureData = null;\n\n  #signatureUUID = null;\n\n  static _type = \"signature\";\n\n  static _editorType = AnnotationEditorType.SIGNATURE;\n\n  static _defaultDrawingOptions = null;\n\n  constructor(params) {\n    super({ ...params, mustBeCommitted: true, name: \"signatureEditor\" });\n    this._willKeepAspectRatio = true;\n    this.#signatureData = params.signatureData || null;\n    this.#description = null;\n    this.defaultL10nId = \"pdfjs-editor-signature-editor1\";\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n\n    this._defaultDrawingOptions = new SignatureOptions();\n    this._defaultDrawnSignatureOptions = new DrawnSignatureOptions(\n      uiManager.viewParameters\n    );\n  }\n\n  /** @inheritdoc */\n  static getDefaultDrawingOptions(options) {\n    const clone = this._defaultDrawingOptions.clone();\n    clone.updateProperties(options);\n    return clone;\n  }\n\n  /** @inheritdoc */\n  static get supportMultipleDrawings() {\n    return false;\n  }\n\n  static get typesMap() {\n    return shadow(this, \"typesMap\", new Map());\n  }\n\n  static get isDrawer() {\n    return false;\n  }\n\n  /** @inheritdoc */\n  get telemetryFinalData() {\n    return {\n      type: \"signature\",\n      hasDescription: !!this.#description,\n    };\n  }\n\n  static computeTelemetryFinalData(data) {\n    const hasDescriptionStats = data.get(\"hasDescription\");\n    return {\n      hasAltText: hasDescriptionStats.get(true) ?? 0,\n      hasNoAltText: hasDescriptionStats.get(false) ?? 0,\n    };\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  onScaleChanging() {\n    if (this._drawId === null) {\n      return;\n    }\n    super.onScaleChanging();\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    const { _isCopy } = this;\n    if (_isCopy) {\n      // No need to adjust the position when rendering in DrawingEditor.\n      this._isCopy = false;\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n\n    if (this._drawId === null) {\n      if (this.#signatureData) {\n        const {\n          lines,\n          mustSmooth,\n          areContours,\n          description,\n          uuid,\n          heightInPage,\n        } = this.#signatureData;\n        const {\n          rawDims: { pageWidth, pageHeight },\n          rotation,\n        } = this.parent.viewport;\n        const outline = SignatureExtractor.processDrawnLines({\n          lines,\n          pageWidth,\n          pageHeight,\n          rotation,\n          innerMargin: SignatureEditor._INNER_MARGIN,\n          mustSmooth,\n          areContours,\n        });\n        this.addSignature(outline, heightInPage, description, uuid);\n      } else {\n        // Avoid Firefox crashing (with a local build) because the description\n        // parameter is missing.\n        this.div.setAttribute(\n          \"data-l10n-args\",\n          JSON.stringify({ description: \"\" })\n        );\n        this.div.hidden = true;\n        this._uiManager.getSignature(this);\n      }\n    } else {\n      this.div.setAttribute(\n        \"data-l10n-args\",\n        JSON.stringify({ description: this.#description || \"\" })\n      );\n    }\n\n    if (_isCopy) {\n      this._isCopy = true;\n      this._moveAfterPaste(baseX, baseY);\n    }\n\n    return this.div;\n  }\n\n  setUuid(uuid) {\n    this.#signatureUUID = uuid;\n    this.addEditToolbar();\n  }\n\n  getUuid() {\n    return this.#signatureUUID;\n  }\n\n  get description() {\n    return this.#description;\n  }\n\n  set description(description) {\n    this.#description = description;\n    if (!this.div) {\n      return;\n    }\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({ description }));\n    super.addEditToolbar().then(toolbar => {\n      toolbar?.updateEditSignatureButton(description);\n    });\n  }\n\n  getSignaturePreview() {\n    const { newCurves, areContours, thickness, width, height } =\n      this.#signatureData;\n    const maxDim = Math.max(width, height);\n    const outlineData = SignatureExtractor.processDrawnLines({\n      lines: {\n        curves: newCurves.map(points => ({ points })),\n        thickness,\n        width,\n        height,\n      },\n      pageWidth: maxDim,\n      pageHeight: maxDim,\n      rotation: 0,\n      innerMargin: 0,\n      mustSmooth: false,\n      areContours,\n    });\n    return { areContours, outline: outlineData.outline };\n  }\n\n  /** @inheritdoc */\n  get toolbarButtons() {\n    if (this._uiManager.signatureManager) {\n      return [[\"editSignature\", this._uiManager.signatureManager]];\n    }\n    return super.toolbarButtons;\n  }\n\n  addSignature(data, heightInPage, description, uuid) {\n    const { x: savedX, y: savedY } = this;\n    const { outline } = (this.#signatureData = data);\n    this.#isExtracted = outline instanceof ContourDrawOutline;\n    this.description = description;\n    let drawingOptions;\n    if (this.#isExtracted) {\n      drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      drawingOptions = SignatureEditor._defaultDrawnSignatureOptions.clone();\n      drawingOptions.updateProperties({ \"stroke-width\": outline.thickness });\n    }\n    this._addOutlines({\n      drawOutlines: outline,\n      drawingOptions,\n    });\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const [, pageHeight] = this.pageDimensions;\n    let newHeight = heightInPage / pageHeight;\n    // Ensure the signature doesn't exceed the page height.\n    // If the signature is too big, we scale it down to 50% of the page height.\n    newHeight = newHeight >= 1 ? 0.5 : newHeight;\n\n    this.width *= newHeight / this.height;\n    if (this.width >= 1) {\n      newHeight *= 0.9 / this.width;\n      this.width = 0.9;\n    }\n\n    this.height = newHeight;\n    this.setDims(parentWidth * this.width, parentHeight * this.height);\n    this.x = savedX;\n    this.y = savedY;\n    this.center();\n\n    this._onResized();\n    this.onScaleChanging();\n    this.rotate();\n    this._uiManager.addToAnnotationStorage(this);\n    this.setUuid(uuid);\n\n    this._reportTelemetry({\n      action: \"pdfjs.signature.inserted\",\n      data: {\n        hasBeenSaved: !!uuid,\n        hasDescription: !!description,\n      },\n    });\n\n    this.div.hidden = false;\n  }\n\n  getFromImage(bitmap) {\n    const {\n      rawDims: { pageWidth, pageHeight },\n      rotation,\n    } = this.parent.viewport;\n    return SignatureExtractor.process(\n      bitmap,\n      pageWidth,\n      pageHeight,\n      rotation,\n      SignatureEditor._INNER_MARGIN\n    );\n  }\n\n  getFromText(text, fontInfo) {\n    const {\n      rawDims: { pageWidth, pageHeight },\n      rotation,\n    } = this.parent.viewport;\n    return SignatureExtractor.extractContoursFromText(\n      text,\n      fontInfo,\n      pageWidth,\n      pageHeight,\n      rotation,\n      SignatureEditor._INNER_MARGIN\n    );\n  }\n\n  getDrawnSignature(curves) {\n    const {\n      rawDims: { pageWidth, pageHeight },\n      rotation,\n    } = this.parent.viewport;\n    return SignatureExtractor.processDrawnLines({\n      lines: curves,\n      pageWidth,\n      pageHeight,\n      rotation,\n      innerMargin: SignatureEditor._INNER_MARGIN,\n      mustSmooth: false,\n      areContours: false,\n    });\n  }\n\n  /** @inheritdoc */\n  createDrawingOptions({ areContours, thickness }) {\n    if (areContours) {\n      this._drawingOptions = SignatureEditor.getDefaultDrawingOptions();\n    } else {\n      this._drawingOptions =\n        SignatureEditor._defaultDrawnSignatureOptions.clone();\n      this._drawingOptions.updateProperties({ \"stroke-width\": thickness });\n    }\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    const { lines, points, rect } = this.serializeDraw(isForCopying);\n    const {\n      _drawingOptions: { \"stroke-width\": thickness },\n    } = this;\n    const serialized = {\n      annotationType: AnnotationEditorType.SIGNATURE,\n      isSignature: true,\n      areContours: this.#isExtracted,\n      color: [0, 0, 0],\n      thickness: this.#isExtracted ? 0 : thickness,\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId,\n    };\n    this.addComment(serialized);\n    if (isForCopying) {\n      serialized.paths = { lines, points };\n      serialized.uuid = this.#signatureUUID;\n      serialized.isCopy = true;\n    } else {\n      serialized.lines = lines;\n    }\n    if (this.#description) {\n      serialized.accessibilityData = { type: \"Figure\", alt: this.#description };\n    }\n    return serialized;\n  }\n\n  /** @inheritdoc */\n  static deserializeDraw(\n    pageX,\n    pageY,\n    pageWidth,\n    pageHeight,\n    innerMargin,\n    data\n  ) {\n    if (data.areContours) {\n      return ContourDrawOutline.deserialize(\n        pageX,\n        pageY,\n        pageWidth,\n        pageHeight,\n        innerMargin,\n        data\n      );\n    }\n\n    return InkDrawOutline.deserialize(\n      pageX,\n      pageY,\n      pageWidth,\n      pageHeight,\n      innerMargin,\n      data\n    );\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    const editor = await super.deserialize(data, parent, uiManager);\n    editor.#isExtracted = data.areContours;\n    editor.description = data.accessibilityData?.alt || \"\";\n    editor.#signatureUUID = data.uuid;\n    return editor;\n  }\n}\n\nexport { SignatureEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnnotationEditorType, AnnotationPrefix } from \"../../shared/util.js\";\nimport {\n  OutputScale,\n  PixelsPerInch,\n  SupportedImageMimeTypes,\n} from \"../display_utils.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { StampAnnotationElement } from \"../annotation_layer.js\";\n\n/**\n * Basic text editor in order to create a FreeTex annotation.\n */\nclass StampEditor extends AnnotationEditor {\n  #bitmap = null;\n\n  #bitmapId = null;\n\n  #bitmapPromise = null;\n\n  #bitmapUrl = null;\n\n  #bitmapFile = null;\n\n  #bitmapFileName = \"\";\n\n  #canvas = null;\n\n  #missingCanvas = false;\n\n  #resizeTimeoutId = null;\n\n  #isSvg = false;\n\n  #hasBeenAddedInUndoStack = false;\n\n  static _type = \"stamp\";\n\n  static _editorType = AnnotationEditorType.STAMP;\n\n  constructor(params) {\n    super({ ...params, name: \"stampEditor\" });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n    this.defaultL10nId = \"pdfjs-editor-stamp-editor\";\n  }\n\n  /** @inheritdoc */\n  static initialize(l10n, uiManager) {\n    AnnotationEditor.initialize(l10n, uiManager);\n  }\n\n  /** @inheritdoc */\n  static isHandlingMimeForPasting(mime) {\n    return SupportedImageMimeTypes.includes(mime);\n  }\n\n  /** @inheritdoc */\n  static paste(item, parent) {\n    parent.pasteEditor(\n      { mode: AnnotationEditorType.STAMP },\n      { bitmapFile: item.getAsFile() }\n    );\n  }\n\n  /** @inheritdoc */\n  altTextFinish() {\n    if (this._uiManager.useNewAltTextFlow) {\n      this.div.hidden = false;\n    }\n    super.altTextFinish();\n  }\n\n  /** @inheritdoc */\n  get telemetryFinalData() {\n    return {\n      type: \"stamp\",\n      hasAltText: !!this.altTextData?.altText,\n    };\n  }\n\n  static computeTelemetryFinalData(data) {\n    const hasAltTextStats = data.get(\"hasAltText\");\n    return {\n      hasAltText: hasAltTextStats.get(true) ?? 0,\n      hasNoAltText: hasAltTextStats.get(false) ?? 0,\n    };\n  }\n\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (!this.#canvas) {\n      return;\n    }\n    if (\n      this._uiManager.useNewAltTextWhenAddingImage &&\n      this._uiManager.useNewAltTextFlow &&\n      this.#bitmap\n    ) {\n      this.addEditToolbar().then(() => {\n        this._editToolbar.hide();\n        this._uiManager.editAltText(this, /* firstTime = */ true);\n      });\n      return;\n    }\n\n    if (\n      !this._uiManager.useNewAltTextWhenAddingImage &&\n      this._uiManager.useNewAltTextFlow &&\n      this.#bitmap\n    ) {\n      this._reportTelemetry({\n        action: \"pdfjs.image.image_added\",\n        data: { alt_text_modal: false, alt_text_type: \"empty\" },\n      });\n      try {\n        // The alt-text dialog isn't opened but we still want to guess the alt\n        // text.\n        this.mlGuessAltText();\n      } catch {}\n    }\n\n    this.div.focus();\n  }\n\n  async mlGuessAltText(imageData = null, updateAltTextData = true) {\n    if (this.hasAltTextData()) {\n      return null;\n    }\n\n    const { mlManager } = this._uiManager;\n    if (!mlManager) {\n      throw new Error(\"No ML.\");\n    }\n    if (!(await mlManager.isEnabledFor(\"altText\"))) {\n      throw new Error(\"ML isn't enabled for alt text.\");\n    }\n    const { data, width, height } =\n      imageData ||\n      this.copyCanvas(null, null, /* createImageData = */ true).imageData;\n    const response = await mlManager.guess({\n      name: \"altText\",\n      request: {\n        data,\n        width,\n        height,\n        channels: data.length / (width * height),\n      },\n    });\n    if (!response) {\n      throw new Error(\"No response from the AI service.\");\n    }\n    if (response.error) {\n      throw new Error(\"Error from the AI service.\");\n    }\n    if (response.cancel) {\n      return null;\n    }\n    if (!response.output) {\n      throw new Error(\"No valid response from the AI service.\");\n    }\n    const altText = response.output;\n    await this.setGuessedAltText(altText);\n    if (updateAltTextData && !this.hasAltTextData()) {\n      this.altTextData = { alt: altText, decorative: false };\n    }\n    return altText;\n  }\n\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager\n        .getFromId(this.#bitmapId)\n        .then(data => this.#getBitmapFetched(data, /* fromId = */ true))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromUrl(url)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager\n        .getFromFile(file)\n        .then(data => this.#getBitmapFetched(data))\n        .finally(() => this.#getBitmapDone());\n      return;\n    }\n\n    const input = document.createElement(\"input\");\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n      input.hidden = true;\n      input.id = \"stampEditorFileInput\";\n      document.body.append(input);\n    }\n    input.type = \"file\";\n    input.accept = SupportedImageMimeTypes.join(\",\");\n    const signal = this._uiManager._signal;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\n        \"change\",\n        async () => {\n          if (!input.files || input.files.length === 0) {\n            this.remove();\n          } else {\n            this._uiManager.enableWaiting(true);\n            const data = await this._uiManager.imageManager.getFromFile(\n              input.files[0]\n            );\n            this._reportTelemetry({\n              action: \"pdfjs.image.image_selected\",\n              data: { alt_text_modal: this._uiManager.useNewAltTextFlow },\n            });\n            this.#getBitmapFetched(data);\n          }\n          if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING\")) {\n            input.remove();\n          }\n          resolve();\n        },\n        { signal }\n      );\n      input.addEventListener(\n        \"cancel\",\n        () => {\n          this.remove();\n          resolve();\n        },\n        { signal }\n      );\n    }).finally(() => this.#getBitmapDone());\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"TESTING\")) {\n      input.click();\n    }\n  }\n\n  /** @inheritdoc */\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n\n  /** @inheritdoc */\n  rebuild() {\n    if (!this.parent) {\n      // It's possible to have to rebuild an editor which is not on a visible\n      // page.\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n\n    if (!this.isAttachedToDOM) {\n      // At some point this editor was removed and we're rebuilting it,\n      // hence we must add it to its parent.\n      this.parent.add(this);\n    }\n  }\n\n  /** @inheritdoc */\n  onceAdded(focus) {\n    this._isDraggable = true;\n    if (focus) {\n      this.div.focus();\n    }\n  }\n\n  /** @inheritdoc */\n  isEmpty() {\n    return !(\n      this.#bitmapPromise ||\n      this.#bitmap ||\n      this.#bitmapUrl ||\n      this.#bitmapFile ||\n      this.#bitmapId ||\n      this.#missingCanvas\n    );\n  }\n\n  /** @inheritdoc */\n  get toolbarButtons() {\n    return [[\"altText\", this.createAltText()]];\n  }\n\n  /** @inheritdoc */\n  get isResizable() {\n    return true;\n  }\n\n  /** @inheritdoc */\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n\n    let baseX, baseY;\n    if (this._isCopy) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n\n    super.render();\n    this.div.hidden = true;\n\n    this.createAltText();\n\n    if (!this.#missingCanvas) {\n      if (this.#bitmap) {\n        this.#createCanvas();\n      } else {\n        this.#getBitmap();\n      }\n    }\n\n    if (this._isCopy) {\n      this._moveAfterPaste(baseX, baseY);\n    }\n\n    this._uiManager.addShouldRescale(this);\n\n    return this.div;\n  }\n\n  setCanvas(annotationElementId, canvas) {\n    const { id: bitmapId, bitmap } = this._uiManager.imageManager.getFromCanvas(\n      annotationElementId,\n      canvas\n    );\n    canvas.remove();\n    if (bitmapId && this._uiManager.imageManager.isValidId(bitmapId)) {\n      this.#bitmapId = bitmapId;\n      if (bitmap) {\n        this.#bitmap = bitmap;\n      }\n      this.#missingCanvas = false;\n      this.#createCanvas();\n    }\n  }\n\n  /** @inheritdoc */\n  _onResized() {\n    // We used a CSS-zoom during the resizing, but now it's resized we can\n    // rescale correctly the bitmap to fit the new dimensions.\n    this.onScaleChanging();\n  }\n\n  onScaleChanging() {\n    if (!this.parent) {\n      return;\n    }\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    // The user's zooming the page, there is no need to redraw the bitmap at\n    // each step, hence we wait a bit before redrawing it.\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap();\n    }, TIME_TO_WAIT);\n  }\n\n  #createCanvas() {\n    const { div } = this;\n    let { width, height } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (\n      width > MAX_RATIO * pageWidth ||\n      height > MAX_RATIO * pageHeight\n    ) {\n      // If the image is too big compared to the page dimensions\n      // (more than MAX_RATIO) then we scale it down.\n      const factor = Math.min(\n        (MAX_RATIO * pageWidth) / width,\n        (MAX_RATIO * pageHeight) / height\n      );\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(\n      (width * parentWidth) / pageWidth,\n      (height * parentHeight) / pageHeight\n    );\n\n    this._uiManager.enableWaiting(false);\n    const canvas = (this.#canvas = document.createElement(\"canvas\"));\n    canvas.setAttribute(\"role\", \"img\");\n    this.addContainer(canvas);\n\n    this.width = width / pageWidth;\n    this.height = height / pageHeight;\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n\n    if (\n      !this._uiManager.useNewAltTextWhenAddingImage ||\n      !this._uiManager.useNewAltTextFlow ||\n      this.annotationElementId\n    ) {\n      div.hidden = false;\n    }\n    this.#drawBitmap();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n\n    // There are multiple ways to add an image to the page, so here we just\n    // count the number of times an image is added to the page whatever the way\n    // is.\n    this._reportTelemetry({\n      action: \"inserted_image\",\n    });\n    if (this.#bitmapFileName) {\n      this.div.setAttribute(\"aria-description\", this.#bitmapFileName);\n    }\n    if (!this.annotationElementId) {\n      this._uiManager.a11yAlert(\"pdfjs-editor-stamp-added-alert\");\n    }\n  }\n\n  copyCanvas(maxDataDimension, maxPreviewDimension, createImageData = false) {\n    if (!maxDataDimension) {\n      // TODO: get this value from Firefox\n      //   (https://bugzilla.mozilla.org/show_bug.cgi?id=1908184)\n      // It's the maximum dimension that the AI can handle.\n      maxDataDimension = 224;\n    }\n\n    const { width: bitmapWidth, height: bitmapHeight } = this.#bitmap;\n    const outputScale = new OutputScale();\n\n    let bitmap = this.#bitmap;\n    let width = bitmapWidth,\n      height = bitmapHeight;\n    let canvas = null;\n\n    if (maxPreviewDimension) {\n      if (\n        bitmapWidth > maxPreviewDimension ||\n        bitmapHeight > maxPreviewDimension\n      ) {\n        const ratio = Math.min(\n          maxPreviewDimension / bitmapWidth,\n          maxPreviewDimension / bitmapHeight\n        );\n        width = Math.floor(bitmapWidth * ratio);\n        height = Math.floor(bitmapHeight * ratio);\n      }\n\n      canvas = document.createElement(\"canvas\");\n      const scaledWidth = (canvas.width = Math.ceil(width * outputScale.sx));\n      const scaledHeight = (canvas.height = Math.ceil(height * outputScale.sy));\n\n      if (!this.#isSvg) {\n        bitmap = this.#scaleBitmap(scaledWidth, scaledHeight);\n      }\n\n      const ctx = canvas.getContext(\"2d\");\n      ctx.filter = this._uiManager.hcmFilter;\n\n      // Add a checkerboard pattern as a background in case the image has some\n      // transparency.\n      let white = \"white\",\n        black = \"#cfcfd8\";\n      if (this._uiManager.hcmFilter !== \"none\") {\n        black = \"black\";\n      } else if (window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches) {\n        white = \"#8f8f9d\";\n        black = \"#42414d\";\n      }\n      const boxDim = 15;\n      const boxDimWidth = boxDim * outputScale.sx;\n      const boxDimHeight = boxDim * outputScale.sy;\n      const pattern = new OffscreenCanvas(boxDimWidth * 2, boxDimHeight * 2);\n      const patternCtx = pattern.getContext(\"2d\");\n      patternCtx.fillStyle = white;\n      patternCtx.fillRect(0, 0, boxDimWidth * 2, boxDimHeight * 2);\n      patternCtx.fillStyle = black;\n      patternCtx.fillRect(0, 0, boxDimWidth, boxDimHeight);\n      patternCtx.fillRect(boxDimWidth, boxDimHeight, boxDimWidth, boxDimHeight);\n      ctx.fillStyle = ctx.createPattern(pattern, \"repeat\");\n      ctx.fillRect(0, 0, scaledWidth, scaledHeight);\n      ctx.drawImage(\n        bitmap,\n        0,\n        0,\n        bitmap.width,\n        bitmap.height,\n        0,\n        0,\n        scaledWidth,\n        scaledHeight\n      );\n    }\n\n    let imageData = null;\n    if (createImageData) {\n      let dataWidth, dataHeight;\n      if (\n        outputScale.symmetric &&\n        bitmap.width < maxDataDimension &&\n        bitmap.height < maxDataDimension\n      ) {\n        dataWidth = bitmap.width;\n        dataHeight = bitmap.height;\n      } else {\n        bitmap = this.#bitmap;\n        if (bitmapWidth > maxDataDimension || bitmapHeight > maxDataDimension) {\n          const ratio = Math.min(\n            maxDataDimension / bitmapWidth,\n            maxDataDimension / bitmapHeight\n          );\n          dataWidth = Math.floor(bitmapWidth * ratio);\n          dataHeight = Math.floor(bitmapHeight * ratio);\n\n          if (!this.#isSvg) {\n            bitmap = this.#scaleBitmap(dataWidth, dataHeight);\n          }\n        }\n      }\n\n      const offscreen = new OffscreenCanvas(dataWidth, dataHeight);\n      const offscreenCtx = offscreen.getContext(\"2d\", {\n        willReadFrequently: true,\n      });\n      offscreenCtx.drawImage(\n        bitmap,\n        0,\n        0,\n        bitmap.width,\n        bitmap.height,\n        0,\n        0,\n        dataWidth,\n        dataHeight\n      );\n      imageData = {\n        width: dataWidth,\n        height: dataHeight,\n        data: offscreenCtx.getImageData(0, 0, dataWidth, dataHeight).data,\n      };\n    }\n\n    return { canvas, width, height, imageData };\n  }\n\n  #scaleBitmap(width, height) {\n    const { width: bitmapWidth, height: bitmapHeight } = this.#bitmap;\n\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n\n      if (newWidth > 2 * width) {\n        // See bug 1820511 (Windows specific bug).\n        // TODO: once the above bug is fixed we could revert to:\n        // newWidth = Math.ceil(newWidth / 2);\n        newWidth =\n          newWidth >= 16384\n            ? Math.floor(newWidth / 2) - 1\n            : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight =\n          newHeight >= 16384\n            ? Math.floor(newHeight / 2) - 1\n            : Math.ceil(newHeight / 2);\n      }\n\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        bitmap,\n        0,\n        0,\n        prevWidth,\n        prevHeight,\n        0,\n        0,\n        newWidth,\n        newHeight\n      );\n      bitmap = offscreen.transferToImageBitmap();\n    }\n\n    return bitmap;\n  }\n\n  #drawBitmap() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const { width, height } = this;\n    const outputScale = new OutputScale();\n    const scaledWidth = Math.ceil(width * parentWidth * outputScale.sx);\n    const scaledHeight = Math.ceil(height * parentHeight * outputScale.sy);\n    const canvas = this.#canvas;\n\n    if (\n      !canvas ||\n      (canvas.width === scaledWidth && canvas.height === scaledHeight)\n    ) {\n      return;\n    }\n\n    canvas.width = scaledWidth;\n    canvas.height = scaledHeight;\n\n    const bitmap = this.#isSvg\n      ? this.#bitmap\n      : this.#scaleBitmap(scaledWidth, scaledHeight);\n\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(\n      bitmap,\n      0,\n      0,\n      bitmap.width,\n      bitmap.height,\n      0,\n      0,\n      scaledWidth,\n      scaledHeight\n    );\n  }\n\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      // We convert to a data url because it's sync and the url can live in the\n      // clipboard.\n      const canvas = document.createElement(\"canvas\");\n      ({ width: canvas.width, height: canvas.height } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n\n      return canvas.toDataURL();\n    }\n\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      // Multiply by PixelsPerInch.PDF_TO_CSS_UNITS in order to increase the\n      // image resolution when rasterizing it.\n      const width = Math.round(\n        this.width * pageWidth * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const height = Math.round(\n        this.height * pageHeight * PixelsPerInch.PDF_TO_CSS_UNITS\n      );\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(\n        this.#bitmap,\n        0,\n        0,\n        this.#bitmap.width,\n        this.#bitmap.height,\n        0,\n        0,\n        width,\n        height\n      );\n      return offscreen.transferToImageBitmap();\n    }\n\n    return structuredClone(this.#bitmap);\n  }\n\n  /** @inheritdoc */\n  static async deserialize(data, parent, uiManager) {\n    let initialData = null;\n    let missingCanvas = false;\n    if (data instanceof StampAnnotationElement) {\n      const {\n        data: { rect, rotation, id, structParent, popupRef, contentsObj },\n        container,\n        parent: {\n          page: { pageNumber },\n        },\n        canvas,\n      } = data;\n      let bitmapId, bitmap;\n      if (canvas) {\n        delete data.canvas;\n        ({ id: bitmapId, bitmap } = uiManager.imageManager.getFromCanvas(\n          container.id,\n          canvas\n        ));\n        canvas.remove();\n      } else {\n        missingCanvas = true;\n        data._hasNoCanvas = true;\n      }\n\n      // When switching to edit mode, we wait for the structure tree to be\n      // ready (see pdf_viewer.js), so it's fine to use getAriaAttributesSync.\n      const altText =\n        (\n          await parent._structTree.getAriaAttributes(`${AnnotationPrefix}${id}`)\n        )?.get(\"aria-label\") || \"\";\n\n      initialData = data = {\n        annotationType: AnnotationEditorType.STAMP,\n        bitmapId,\n        bitmap,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        annotationElementId: id,\n        id,\n        deleted: false,\n        accessibilityData: {\n          decorative: false,\n          altText,\n        },\n        isSvg: false,\n        structParent,\n        popupRef,\n        comment: contentsObj?.str || null,\n      };\n    }\n    const editor = await super.deserialize(data, parent, uiManager);\n    const { rect, bitmap, bitmapUrl, bitmapId, isSvg, accessibilityData } =\n      data;\n    if (missingCanvas) {\n      uiManager.addMissingCanvas(data.id, editor);\n      editor.#missingCanvas = true;\n    } else if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n      if (bitmap) {\n        editor.#bitmap = bitmap;\n      }\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    editor._initialData = initialData;\n    if (data.comment) {\n      editor.setCommentData(data.comment);\n    }\n    // No need to be add in the undo stack if the editor is created from an\n    // existing one.\n    editor.#hasBeenAddedInUndoStack = !!initialData;\n\n    return editor;\n  }\n\n  /** @inheritdoc */\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n\n    if (this.deleted) {\n      return this.serializeDeleted();\n    }\n\n    const serialized = {\n      annotationType: AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getPDFRect(),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId,\n    };\n    this.addComment(serialized);\n\n    if (isForCopying) {\n      // We don't know what's the final destination (this pdf or another one)\n      // of this annotation and the clipboard doesn't support ImageBitmaps,\n      // hence we serialize the bitmap to a data url.\n      serialized.bitmapUrl = this.#serializeBitmap(/* toUrl = */ true);\n      serialized.accessibilityData = this.serializeAltText(true);\n      serialized.isCopy = true;\n      return serialized;\n    }\n\n    const { decorative, altText } = this.serializeAltText(false);\n    if (!decorative && altText) {\n      serialized.accessibilityData = { type: \"Figure\", alt: altText };\n    }\n    if (this.annotationElementId) {\n      const changes = this.#hasElementChanged(serialized);\n      if (changes.isSame) {\n        // Nothing has been changed.\n        return null;\n      }\n      if (changes.isSameAltText) {\n        delete serialized.accessibilityData;\n      } else {\n        serialized.accessibilityData.structParent =\n          this._initialData.structParent ?? -1;\n      }\n    }\n    serialized.id = this.annotationElementId;\n\n    if (context === null) {\n      return serialized;\n    }\n\n    context.stamps ||= new Map();\n    const area = this.#isSvg\n      ? (serialized.rect[2] - serialized.rect[0]) *\n        (serialized.rect[3] - serialized.rect[1])\n      : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      // We don't want to have multiple copies of the same bitmap in the\n      // annotationMap, hence we only add the bitmap the first time we meet it.\n      context.stamps.set(this.#bitmapId, { area, serialized });\n      serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n    } else if (this.#isSvg) {\n      // If we have multiple copies of the same svg but with different sizes,\n      // then we want to keep the biggest one.\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(/* toUrl = */ false);\n      }\n    }\n    return serialized;\n  }\n\n  #hasElementChanged(serialized) {\n    const {\n      pageIndex,\n      accessibilityData: { altText },\n    } = this._initialData;\n\n    const isSamePageIndex = serialized.pageIndex === pageIndex;\n    const isSameAltText = (serialized.accessibilityData?.alt || \"\") === altText;\n\n    return {\n      isSame:\n        !this.hasEditedComment &&\n        !this._hasBeenMoved &&\n        !this._hasBeenResized &&\n        isSamePageIndex &&\n        isSameAltText,\n      isSameAltText,\n    };\n  }\n\n  /** @inheritdoc */\n  renderAnnotationElement(annotation) {\n    if (this.deleted) {\n      annotation.hide();\n      return null;\n    }\n    const params = {\n      rect: this.getPDFRect(),\n    };\n    if (this.hasEditedComment) {\n      params.popup = this.comment;\n    }\n    annotation.updateEdited(params);\n\n    return null;\n  }\n}\n\nexport { StampEditor };\n","/* Copyright 2022 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./tools.js\").AnnotationEditorUIManager} AnnotationEditorUIManager */\n/** @typedef {import(\"../display_utils.js\").PageViewport} PageViewport */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../../../web/text_accessibility.js\").TextAccessibilityManager} TextAccessibilityManager */\n/** @typedef {import(\"../../../web/interfaces\").IL10n} IL10n */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../annotation_layer.js\").AnnotationLayer} AnnotationLayer */\n/** @typedef {import(\"../draw_layer.js\").DrawLayer} DrawLayer */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"../src/display/struct_tree_layer_builder.js\").StructTreeLayerBuilder} StructTreeLayerBuilder */\n\nimport {\n  AnnotationEditorPrefix,\n  AnnotationEditorType,\n  FeatureTest,\n} from \"../../shared/util.js\";\nimport { AnnotationEditor } from \"./editor.js\";\nimport { FreeTextEditor } from \"./freetext.js\";\nimport { HighlightEditor } from \"./highlight.js\";\nimport { InkEditor } from \"./ink.js\";\nimport { setLayerDimensions } from \"../display_utils.js\";\nimport { SignatureEditor } from \"./signature.js\";\nimport { StampEditor } from \"./stamp.js\";\n\n/**\n * @typedef {Object} AnnotationEditorLayerOptions\n * @property {Object} mode\n * @property {HTMLDivElement} div\n * @property {StructTreeLayerBuilder} structTreeLayer\n * @property {AnnotationEditorUIManager} uiManager\n * @property {boolean} enabled\n * @property {TextAccessibilityManager} [accessibilityManager]\n * @property {number} pageIndex\n * @property {IL10n} l10n\n * @property {AnnotationLayer} [annotationLayer]\n * @property {HTMLDivElement} [textLayer]\n * @property {DrawLayer} drawLayer\n * @property {PageViewport} viewport\n */\n\n/**\n * @typedef {Object} RenderEditorLayerOptions\n * @property {PageViewport} viewport\n */\n\n/**\n * Manage all the different editors on a page.\n */\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n\n  #allowClick = false;\n\n  #annotationLayer = null;\n\n  #clickAC = null;\n\n  #editorFocusTimeoutId = null;\n\n  #editors = new Map();\n\n  #hadPointerDown = false;\n\n  #isDisabling = false;\n\n  #isEnabling = false;\n\n  #drawingAC = null;\n\n  #focusedElement = null;\n\n  #textLayer = null;\n\n  #textSelectionAC = null;\n\n  #textLayerDblClickAC = null;\n\n  #lastPointerDownTimestamp = -1;\n\n  #uiManager;\n\n  static _initialized = false;\n\n  static #editorTypes = new Map(\n    [\n      FreeTextEditor,\n      InkEditor,\n      StampEditor,\n      HighlightEditor,\n      SignatureEditor,\n    ].map(type => [type._editorType, type])\n  );\n\n  /**\n   * @param {AnnotationEditorLayerOptions} options\n   */\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    structTreeLayer,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n,\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this._structTree = structTreeLayer;\n\n    this.#uiManager.addLayer(this);\n  }\n\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n\n  get isInvisible() {\n    return (\n      this.isEmpty && this.#uiManager.getMode() === AnnotationEditorType.NONE\n    );\n  }\n\n  /**\n   * Update the toolbar if it's required to reflect the tool currently used.\n   * @param {Object} options\n   */\n  updateToolbar(options) {\n    this.#uiManager.updateToolbar(options);\n  }\n\n  /**\n   * The mode has changed: it must be updated.\n   * @param {number} mode\n   */\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case AnnotationEditorType.INK:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n        break;\n      case AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n\n    this.toggleAnnotationLayerPointerEvents(false);\n    const { classList } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(\n        `${editorType._type}Editing`,\n        mode === editorType._editorType\n      );\n    }\n    this.div.hidden = false;\n  }\n\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n\n  /**\n   * Set the editing state.\n   * @param {boolean} isEditing\n   */\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n\n  /**\n   * Add some commands into the CommandManager (undo/redo stuff).\n   * @param {Object} params\n   */\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n\n  cleanUndoStack(type) {\n    this.#uiManager.cleanUndoStack(type);\n  }\n\n  toggleDrawing(enabled = false) {\n    this.div.classList.toggle(\"drawing\", !enabled);\n  }\n\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n\n  /**\n   * Enable pointer events on the main div in order to enable\n   * editor creation.\n   */\n  async enable() {\n    this.#isEnabling = true;\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    this.#textLayerDblClickAC?.abort();\n    this.#textLayerDblClickAC = null;\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n\n    if (!this.#annotationLayer) {\n      this.#isEnabling = false;\n      return;\n    }\n\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      // The element must be hidden whatever its state is.\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = await this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n    this.#isEnabling = false;\n  }\n\n  /**\n   * Disable editor creation.\n   */\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    if (this.#textLayer && !this.#textLayerDblClickAC) {\n      this.#textLayerDblClickAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textLayerDblClickAC);\n      this.#textLayer.div.addEventListener(\n        \"pointerdown\",\n        e => {\n          // It's the default value in Fenix:\n          // https://searchfox.org/mozilla-central/rev/beba5cde846f944c4d709e75cbe499d17af880a4/modules/libpref/init/StaticPrefList.yaml#19064\n          // and in Chrome and Windows:\n          // https://source.chromium.org/chromium/chromium/src/+/main:ui/events/event_constants.h;drc=f0f5f3ceebb00da9363ccc7a1e2c0f17b6b383ba;l=115\n          const DBL_CLICK_THRESHOLD = 500;\n          const { clientX, clientY, timeStamp } = e;\n          const lastPointerDownTimestamp = this.#lastPointerDownTimestamp;\n          if (timeStamp - lastPointerDownTimestamp > DBL_CLICK_THRESHOLD) {\n            this.#lastPointerDownTimestamp = timeStamp;\n            return;\n          }\n          this.#lastPointerDownTimestamp = -1;\n          const { classList } = this.div;\n          classList.toggle(\"getElements\", true);\n          const elements = document.elementsFromPoint(clientX, clientY);\n          classList.toggle(\"getElements\", false);\n          if (!this.div.contains(elements[0])) {\n            return;\n          }\n          let id;\n          const regex = new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);\n          for (const element of elements) {\n            if (regex.test(element.id)) {\n              id = element.id;\n              break;\n            }\n          }\n          if (!id) {\n            return;\n          }\n          const editor = this.#editors.get(id);\n          if (editor?.annotationElementId === null) {\n            e.stopPropagation();\n            e.preventDefault();\n            editor.dblclick();\n          }\n        },\n        { signal, capture: true }\n      );\n    }\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n\n    if (this.#annotationLayer) {\n      // Show the annotations that were hidden in enable().\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const { id } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          editable.updateEdited({ deleted: true });\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          if (editor.renderAnnotationElement(editable)) {\n            // Content has changed, so we need to hide the editor.\n            editor.show(false);\n          }\n        }\n        editable.show();\n      }\n    }\n\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const { classList } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n\n    this.#isDisabling = false;\n  }\n\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n\n  /**\n   * Set the current editor.\n   * @param {AnnotationEditor} editor\n   */\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n\n    this.#uiManager.setActiveEditor(editor);\n  }\n\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#textSelectionAC) {\n      this.#textSelectionAC = new AbortController();\n      const signal = this.#uiManager.combinedSignal(this.#textSelectionAC);\n\n      this.#textLayer.div.addEventListener(\n        \"pointerdown\",\n        this.#textLayerPointerDown.bind(this),\n        { signal }\n      );\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#textSelectionAC) {\n      this.#textSelectionAC.abort();\n      this.#textSelectionAC = null;\n\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n\n  #textLayerPointerDown(event) {\n    // Unselect all the editors in order to let the user select some text\n    // without being annoyed by an editor toolbar.\n    this.#uiManager.unselectAll();\n    const { target } = event;\n    if (\n      target === this.#textLayer.div ||\n      ((target.getAttribute(\"role\") === \"img\" ||\n        target.classList.contains(\"endOfContent\")) &&\n        this.#textLayer.div.contains(target))\n    ) {\n      const { isMac } = FeatureTest.platform;\n      if (event.button !== 0 || (event.ctrlKey && isMac)) {\n        // Do nothing on right click.\n        return;\n      }\n      this.#uiManager.showAllEditors(\n        \"highlight\",\n        true,\n        /* updateButton = */ true\n      );\n      this.#textLayer.div.classList.add(\"free\");\n      this.toggleDrawing();\n      HighlightEditor.startHighlighting(\n        this,\n        this.#uiManager.direction === \"ltr\",\n        { target: this.#textLayer.div, x: event.x, y: event.y }\n      );\n      this.#textLayer.div.addEventListener(\n        \"pointerup\",\n        () => {\n          this.#textLayer.div.classList.remove(\"free\");\n          this.toggleDrawing(true);\n        },\n        { once: true, signal: this.#uiManager._signal }\n      );\n      event.preventDefault();\n    }\n  }\n\n  enableClick() {\n    if (this.#clickAC) {\n      return;\n    }\n    this.#clickAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#clickAC);\n\n    this.div.addEventListener(\"pointerdown\", this.pointerdown.bind(this), {\n      signal,\n    });\n    const pointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerup\", pointerup, { signal });\n    this.div.addEventListener(\"pointercancel\", pointerup, { signal });\n  }\n\n  disableClick() {\n    this.#clickAC?.abort();\n    this.#clickAC = null;\n  }\n\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const { annotationElementId } = editor;\n    if (\n      annotationElementId &&\n      this.#uiManager.isDeletedAnnotationElement(annotationElementId)\n    ) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n\n  /**\n   * Remove an editor.\n   * @param {AnnotationEditor} editor\n   */\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n  }\n\n  /**\n   * An editor can have a different parent, for example after having\n   * being dragged and dropped from a page to another.\n   * @param {AnnotationEditor} editor\n   */\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n\n  /**\n   * Add a new editor in the current view.\n   * @param {AnnotationEditor} editor\n   */\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n\n    // The editor will be correctly moved into the DOM (see fixAndSetPosition).\n    editor.fixAndSetPosition();\n    editor.onceAdded(/* focus = */ !this.#isEnabling);\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n\n    const { activeElement } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      // When the div is moved in the DOM the focus can move somewhere else,\n      // so we want to be sure that the focus will stay on the editor but we\n      // don't want to call any focus callbacks, hence we disable them and only\n      // re-enable them when the editor has the focus.\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\n            \"focusin\",\n            () => {\n              editor._focusEventsAllowed = true;\n            },\n            { once: true, signal: this.#uiManager._signal }\n          );\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(\n      this.div,\n      editor.div,\n      editor.contentDiv,\n      /* isRemovable = */ true\n    );\n  }\n\n  /**\n   * Add or rebuild depending if it has been removed or not.\n   * @param {AnnotationEditor} editor\n   */\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Add a new editor and make this addition undoable.\n   * @param {AnnotationEditor} editor\n   */\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n\n    this.addCommands({ cmd, undo, mustExec: false });\n  }\n\n  /**\n   * Get an id for an editor.\n   * @returns {string}\n   */\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n\n  combinedSignal(ac) {\n    return this.#uiManager.combinedSignal(ac);\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} params\n   * @returns {AnnotationEditor}\n   */\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n\n  /**\n   * Paste some content into a new editor.\n   * @param {Object} options\n   * @param {Object} params\n   */\n  async pasteEditor(options, params) {\n    this.updateToolbar(options);\n    await this.#uiManager.updateMode(options.mode);\n\n    const { offsetX, offsetY } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n\n  /**\n   * Create a new editor\n   * @param {Object} data\n   * @returns {AnnotationEditor | null}\n   */\n  async deserialize(data) {\n    return (\n      (await AnnotationEditorLayer.#editorTypes\n        .get(data.annotationType ?? data.annotationEditorType)\n        ?.deserialize(data, this, this.#uiManager)) || null\n    );\n  }\n\n  /**\n   * Create and add a new editor.\n   * @param {PointerEvent} event\n   * @param {boolean} isCentered\n   * @param [Object] data\n   * @returns {AnnotationEditor}\n   */\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data,\n    });\n    if (editor) {\n      this.add(editor);\n    }\n\n    return editor;\n  }\n\n  #getCenterPoint() {\n    const { x, y, width, height } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] =\n      this.viewport.rotation % 180 === 0\n        ? [centerX, centerY]\n        : [centerY, centerX];\n\n    return { offsetX, offsetY };\n  }\n\n  /**\n   * Create and add a new editor.\n   */\n  addNewEditor(data = {}) {\n    this.createAndAddNewEditor(\n      this.#getCenterPoint(),\n      /* isCentered = */ true,\n      data\n    );\n  }\n\n  /**\n   * Set the last selected editor.\n   * @param {AnnotationEditor} editor\n   */\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n\n  /**\n   * Add or remove an editor the current selection.\n   * @param {AnnotationEditor} editor\n   */\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n\n  /**\n   * Unselect an editor.\n   * @param {AnnotationEditor} editor\n   */\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n\n  /**\n   * Pointerup callback.\n   * @param {PointerEvent} event\n   */\n  pointerup(event) {\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Don't create an editor on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    if (!this.#hadPointerDown) {\n      // It can happen when the user starts a drag inside a text editor\n      // and then releases the mouse button outside of it. In such a case\n      // we don't want to create a new editor, hence we check that a pointerdown\n      // occurred on this div previously.\n      return;\n    }\n    this.#hadPointerDown = false;\n\n    if (\n      this.#currentEditorType?.isDrawer &&\n      this.#currentEditorType.supportMultipleDrawings\n    ) {\n      return;\n    }\n\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n\n    const currentMode = this.#uiManager.getMode();\n    if (\n      currentMode === AnnotationEditorType.STAMP ||\n      currentMode === AnnotationEditorType.SIGNATURE\n    ) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n\n    this.createAndAddNewEditor(event, /* isCentered = */ false);\n  }\n\n  /**\n   * Pointerdown callback.\n   * @param {PointerEvent} event\n   */\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      // It's possible to have a second pointerdown event before a pointerup one\n      // when the user puts a finger on a touchscreen and then add a second one\n      // to start a pinch-to-zoom gesture.\n      // That said, in case it's possible to have two pointerdown events with\n      // a mouse, we don't want to create a new editor in such a case either.\n      this.#hadPointerDown = false;\n      return;\n    }\n    const { isMac } = FeatureTest.platform;\n    if (event.button !== 0 || (event.ctrlKey && isMac)) {\n      // Do nothing on right click.\n      return;\n    }\n\n    if (event.target !== this.div) {\n      return;\n    }\n\n    this.#hadPointerDown = true;\n\n    if (this.#currentEditorType?.isDrawer) {\n      this.startDrawingSession(event);\n      return;\n    }\n\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n\n  startDrawingSession(event) {\n    this.div.focus({\n      preventScroll: true,\n    });\n    if (this.#drawingAC) {\n      this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n      return;\n    }\n\n    this.#uiManager.setCurrentDrawingSession(this);\n    this.#drawingAC = new AbortController();\n    const signal = this.#uiManager.combinedSignal(this.#drawingAC);\n    this.div.addEventListener(\n      \"blur\",\n      ({ relatedTarget }) => {\n        if (relatedTarget && !this.div.contains(relatedTarget)) {\n          this.#focusedElement = null;\n          this.commitOrRemove();\n        }\n      },\n      { signal }\n    );\n    this.#currentEditorType.startDrawing(this, this.#uiManager, false, event);\n  }\n\n  pause(on) {\n    if (on) {\n      const { activeElement } = document;\n      if (this.div.contains(activeElement)) {\n        this.#focusedElement = activeElement;\n      }\n      return;\n    }\n    if (this.#focusedElement) {\n      setTimeout(() => {\n        this.#focusedElement?.focus();\n        this.#focusedElement = null;\n      }, 0);\n    }\n  }\n\n  endDrawingSession(isAborted = false) {\n    if (!this.#drawingAC) {\n      return null;\n    }\n    this.#uiManager.setCurrentDrawingSession(null);\n    this.#drawingAC.abort();\n    this.#drawingAC = null;\n    this.#focusedElement = null;\n    return this.#currentEditorType.endDrawing(isAborted);\n  }\n\n  /**\n   *\n   * @param {AnnotationEditor} editor\n   * @param {number} x\n   * @param {number} y\n   * @returns\n   */\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n\n  commitOrRemove() {\n    if (this.#drawingAC) {\n      this.endDrawingSession();\n      return true;\n    }\n    return false;\n  }\n\n  onScaleChanging() {\n    if (!this.#drawingAC) {\n      return;\n    }\n    this.#currentEditorType.onScaleChangingWhenDrawing(this);\n  }\n\n  /**\n   * Destroy the main editor.\n   */\n  destroy() {\n    this.commitOrRemove();\n    if (this.#uiManager.getActive()?.parent === this) {\n      // We need to commit the current editor before destroying the layer.\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n\n  #cleanup() {\n    // When we're cleaning up, some editors are removed but we don't want\n    // to add a new one which will induce an addition in this.#editors, hence\n    // an infinite loop.\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n  }\n\n  /**\n   * Render the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  render({ viewport }) {\n    this.viewport = viewport;\n    setLayerDimensions(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    // We're maybe rendering a layer which was invisible when we started to edit\n    // so we must set the different callbacks for it.\n    this.updateMode();\n  }\n\n  /**\n   * Update the main editor.\n   * @param {RenderEditorLayerOptions} parameters\n   */\n  update({ viewport }) {\n    // Editors have their dimensions/positions in percent so to avoid any\n    // issues (see #15582), we must commit the current one before changing\n    // the viewport.\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n\n    this.viewport = viewport;\n    setLayerDimensions(this.div, { rotation });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n  }\n\n  /**\n   * Get page dimensions.\n   * @returns {Object} dimensions.\n   */\n  get pageDimensions() {\n    const { pageWidth, pageHeight } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\nexport { AnnotationEditorLayer };\n","/* Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DOMSVGFactory } from \"./svg_factory.js\";\nimport { shadow } from \"../shared/util.js\";\n\n/**\n * Manage the SVGs drawn on top of the page canvas.\n * It's important to have them directly on top of the canvas because we want to\n * be able to use mix-blend-mode for some of them.\n */\nclass DrawLayer {\n  #parent = null;\n\n  #mapping = new Map();\n\n  #toUpdate = new Map();\n\n  static #id = 0;\n\n  constructor({ pageIndex }) {\n    this.pageIndex = pageIndex;\n  }\n\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n\n  static get _svgFactory() {\n    return shadow(this, \"_svgFactory\", new DOMSVGFactory());\n  }\n\n  static #setBox(element, [x, y, width, height]) {\n    const { style } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n\n  #createSVG() {\n    const svg = DrawLayer._svgFactory.create(1, 1, /* skipDimensions = */ true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n\n    return svg;\n  }\n\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n\n    return clipPathId;\n  }\n\n  #updateProperties(element, properties) {\n    for (const [key, value] of Object.entries(properties)) {\n      if (value === null) {\n        element.removeAttribute(key);\n      } else {\n        element.setAttribute(key, value);\n      }\n    }\n  }\n\n  draw(properties, isPathUpdatable = false, hasClip = false) {\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n\n    // Create the clipping path for the editor div.\n    const clipPathId = hasClip ? this.#createClipPath(defs, pathId) : null;\n\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.updateProperties(root, properties);\n\n    this.#mapping.set(id, root);\n\n    return { id, clipPathId: `url(#${clipPathId})` };\n  }\n\n  drawOutline(properties, mustRemoveSelfIntersections) {\n    // We cannot draw the outline directly in the SVG for highlights because\n    // it composes with its parent with mix-blend-mode: multiply.\n    // But the outline has a different mix-blend-mode, so we need to draw it in\n    // its own SVG.\n    const id = DrawLayer.#id++;\n    const root = this.#createSVG();\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n\n    let maskId;\n    if (mustRemoveSelfIntersections) {\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n\n    this.updateProperties(root, properties);\n\n    this.#mapping.set(id, root);\n\n    return id;\n  }\n\n  finalizeDraw(id, properties) {\n    this.#toUpdate.delete(id);\n    this.updateProperties(id, properties);\n  }\n\n  updateProperties(elementOrId, properties) {\n    if (!properties) {\n      return;\n    }\n    const { root, bbox, rootClass, path } = properties;\n    const element =\n      typeof elementOrId === \"number\"\n        ? this.#mapping.get(elementOrId)\n        : elementOrId;\n    if (!element) {\n      return;\n    }\n    if (root) {\n      this.#updateProperties(element, root);\n    }\n    if (bbox) {\n      DrawLayer.#setBox(element, bbox);\n    }\n    if (rootClass) {\n      const { classList } = element;\n      for (const [className, value] of Object.entries(rootClass)) {\n        classList.toggle(className, value);\n      }\n    }\n    if (path) {\n      const defs = element.firstChild;\n      const pathElement = defs.firstChild;\n      this.#updateProperties(pathElement, path);\n    }\n  }\n\n  updateParent(id, layer) {\n    if (layer === this) {\n      return;\n    }\n    const root = this.#mapping.get(id);\n    if (!root) {\n      return;\n    }\n    layer.#parent.append(root);\n    this.#mapping.delete(id);\n    layer.#mapping.set(id, root);\n  }\n\n  remove(id) {\n    this.#toUpdate.delete(id);\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n    this.#toUpdate.clear();\n  }\n}\n\nexport { DrawLayer };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").OnProgressParameters} OnProgressParameters */\n// eslint-disable-next-line max-len\n/** @typedef {import(\"./display/api\").PDFDocumentLoadingTask} PDFDocumentLoadingTask */\n/** @typedef {import(\"./display/api\").PDFDocumentProxy} PDFDocumentProxy */\n/** @typedef {import(\"./display/api\").PDFPageProxy} PDFPageProxy */\n/** @typedef {import(\"./display/api\").RenderTask} RenderTask */\n/** @typedef {import(\"./display/display_utils\").PageViewport} PageViewport */\n\nimport {\n  AbortException,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationMode,\n  AnnotationType,\n  createValidAbsoluteUrl,\n  FeatureTest,\n  getUuid,\n  ImageKind,\n  InvalidPDFException,\n  MathClamp,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PermissionFlag,\n  ResponseException,\n  shadow,\n  updateUrlHash,\n  Util,\n  VerbosityLevel,\n} from \"./shared/util.js\";\nimport {\n  build,\n  getDocument,\n  PDFDataRangeTransport,\n  PDFWorker,\n  version,\n} from \"./display/api.js\";\nimport {\n  fetchData,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getXfaPageViewport,\n  isDataScheme,\n  isPdfFile,\n  noContextMenu,\n  OutputScale,\n  PDFDateString,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  stopEvent,\n  SupportedImageMimeTypes,\n} from \"./display/display_utils.js\";\nimport { AnnotationEditorLayer } from \"./display/editor/annotation_editor_layer.js\";\nimport { AnnotationEditorUIManager } from \"./display/editor/tools.js\";\nimport { AnnotationLayer } from \"./display/annotation_layer.js\";\nimport { ColorPicker } from \"./display/editor/color_picker.js\";\nimport { DOMSVGFactory } from \"./display/svg_factory.js\";\nimport { DrawLayer } from \"./display/draw_layer.js\";\nimport { GlobalWorkerOptions } from \"./display/worker_options.js\";\nimport { HighlightOutliner } from \"./display/editor/drawers/highlight.js\";\nimport { isValidExplicitDest } from \"./display/api_utils.js\";\nimport { SignatureExtractor } from \"./display/editor/drawers/signaturedraw.js\";\nimport { TextLayer } from \"./display/text_layer.js\";\nimport { TouchManager } from \"./display/touch_manager.js\";\nimport { XfaLayer } from \"./display/xfa_layer.js\";\n\nif (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"TESTING || GENERIC\")) {\n  globalThis._pdfjsTestingUtils = {\n    HighlightOutliner,\n  };\n}\n\nglobalThis.pdfjsLib = {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  AnnotationType,\n  build,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getUuid,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  isValidExplicitDest,\n  MathClamp,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  OutputScale,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  ResponseException,\n  setLayerDimensions,\n  shadow,\n  SignatureExtractor,\n  stopEvent,\n  SupportedImageMimeTypes,\n  TextLayer,\n  TouchManager,\n  updateUrlHash,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer,\n};\n\nexport {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  AnnotationType,\n  build,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getRGB,\n  getUuid,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  isValidExplicitDest,\n  MathClamp,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  OutputScale,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  ResponseException,\n  setLayerDimensions,\n  shadow,\n  SignatureExtractor,\n  stopEvent,\n  SupportedImageMimeTypes,\n  TextLayer,\n  TouchManager,\n  updateUrlHash,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer,\n};\n","import React, { useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport * as pdfjsLib from 'pdfjs-dist';\n\n// PDF.js worker  - CDN  (API  )\npdfjsLib.GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@5.4.149/build/pdf.worker.min.mjs';\n\nconst StaticPDFViewer = ({ \n  pdfFileName = 'somapremier.pdf',\n  pageNum = 1, \n  zoomScale = 1.0, \n  selectedTool = 'pen',\n  selectedColor = '#ef4444',\n  brushSize = 3,\n  onStrokeDataChange,\n  isRecording = false,\n  studentStrokeData = null,\n  teacherFeedbackData = null,\n  showTeacherFeedback = false,\n  isTeacherMode = false,\n  isStudentMode = false,\n  onPageCountChange,\n  onPageChange\n}) => {\n  const canvasRef = useRef(null);\n  const markupCanvasRef = useRef(null);\n  const containerRef = useRef(null);\n  \n  const [pdfDoc, setPdfDoc] = useState(null);\n  const [pageRendering, setPageRendering] = useState(false);\n  const [savedDrawings, setSavedDrawings] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [renderTask, setRenderTask] = useState(null);\n  \n  // PDF   ( )\n  const MAX_PAGES = 5; //  5 \n  //     ( )\n  const [thumbnails, setThumbnails] = useState({});\n  const [showThumbnails, setShowThumbnails] = useState(false);\n  const THUMBNAIL_ENABLED = false; //   / \n  \n  // Drawing state\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [lastPos, setLastPos] = useState({ x: 0, y: 0 });\n  const [currentPath, setCurrentPath] = useState([]);\n\n  // PDF   (  )\n  useEffect(() => {\n    const loadPDF = async () => {\n      try {\n        setPageRendering(true);\n        console.log('PDF  :', pdfFileName);\n        \n        //   PDF  (PUBLIC_URL )\n        const pdfUrl = `${process.env.PUBLIC_URL}/static/${pdfFileName}`;\n        console.log('PDF URL:', pdfUrl);\n        console.log('PUBLIC_URL:', process.env.PUBLIC_URL);\n        console.log('pdfFileName:', pdfFileName);\n        \n        //  fetch PDF   ArrayBuffer \n        const response = await fetch(pdfUrl);\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const arrayBuffer = await response.arrayBuffer();\n        console.log('PDF   , :', arrayBuffer.byteLength);\n        \n        //  100   PDF \n        const firstBytes = new Uint8Array(arrayBuffer.slice(0, 100));\n        const firstString = String.fromCharCode.apply(null, firstBytes);\n        console.log('  :', firstString);\n        \n        if (!firstString.startsWith('%PDF')) {\n          throw new Error('  PDF . HTML    .');\n        }\n        \n        const loadingTask = pdfjsLib.getDocument({\n          data: arrayBuffer,\n          cMapUrl: 'https://unpkg.com/pdfjs-dist@5.4.149/cmaps/',\n          cMapPacked: true,\n          verbosity: 0\n        });\n        \n        const pdf = await loadingTask.promise;\n        \n        setPdfDoc(pdf);\n        //          \n        const displayPages = Math.min(pdf.numPages, MAX_PAGES);\n        setTotalPages(displayPages);\n        if (onPageCountChange) {\n          onPageCountChange(displayPages);\n        }\n        \n        console.log(`PDF  :  ${pdf.numPages}  ${displayPages} `);\n        \n        console.log('PDF  :', pdf.numPages, '');\n        setPageRendering(false);\n      } catch (error) {\n        console.error('PDF  :', error);\n        setPageRendering(false);\n      }\n    };\n\n    if (pdfFileName) {\n      loadPDF();\n    }\n  }, [pdfFileName, onPageCountChange]);\n\n  //  \n  const drawStroke = (context, drawing) => {\n    if (drawing.points.length < 2) return;\n    \n    context.beginPath();\n    context.lineWidth = drawing.brushSize || 3;\n    context.strokeStyle = drawing.color || '#ef4444';\n    context.lineCap = 'round';\n    context.lineJoin = 'round';\n    \n    context.moveTo(drawing.points[0].x, drawing.points[0].y);\n    for (let i = 1; i < drawing.points.length; i++) {\n      context.lineTo(drawing.points[i].x, drawing.points[i].y);\n    }\n    context.stroke();\n  };\n\n  //    ( )\n  const redrawMarkups = useCallback(() => {\n    const markupCanvas = markupCanvasRef.current;\n    if (!markupCanvas) return;\n    \n    const context = markupCanvas.getContext('2d');\n    \n    //      clearRect \n    if (markupCanvas.width > 0 && markupCanvas.height > 0) {\n      context.clearRect(0, 0, markupCanvas.width, markupCanvas.height);\n    }\n    \n    //    \n    if (isStudentMode && studentStrokeData) {\n      studentStrokeData.forEach(drawing => {\n        drawStroke(context, drawing);\n      });\n    }\n    \n    //    \n    if (isTeacherMode && teacherFeedbackData && showTeacherFeedback) {\n      teacherFeedbackData.forEach(drawing => {\n        drawStroke(context, drawing);\n      });\n    }\n    \n    //    \n    savedDrawings.forEach(drawing => {\n      drawStroke(context, drawing);\n    });\n  }, [savedDrawings, isTeacherMode, studentStrokeData, isStudentMode, teacherFeedbackData, showTeacherFeedback]);\n\n  //   (  )\n  const renderPage = useCallback(async (page, canvas, scale) => {\n    //       \n    const currentRenderTask = renderTask;\n    if (currentRenderTask) {\n      try {\n        currentRenderTask.cancel();\n        //    \n        await new Promise(resolve => setTimeout(resolve, 50));\n      } catch (error) {\n        console.log('   ');\n      }\n      setRenderTask(null);\n    }\n    \n    //  \n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    \n    const viewport = page.getViewport({ scale });\n    \n    //   \n    canvas.height = viewport.height;\n    canvas.width = viewport.width;\n    \n    const renderContext = {\n      canvasContext: context,\n      viewport: viewport\n    };\n    \n    //    \n    const task = page.render(renderContext);\n    \n    try {\n      await task.promise;\n    } catch (error) {\n      if (error.name === 'RenderingCancelledException') {\n        console.log(' ');\n        return task;\n      }\n      console.error('  :', error);\n    }\n    \n    return task;\n  }, []);\n\n  //     (  +  )\n  useEffect(() => {\n    if (pdfDoc && pageNum && pageNum <= MAX_PAGES) {\n      setPageRendering(true);\n      \n      //    \n      const currentRenderTask = renderTask;\n      if (currentRenderTask) {\n        currentRenderTask.cancel();\n        setRenderTask(null);\n      }\n      \n      //    \n      const renderCurrentPage = async () => {\n        try {\n          const page = await pdfDoc.getPage(pageNum);\n          const canvas = canvasRef.current;\n          const markupCanvas = markupCanvasRef.current;\n          \n          if (canvas && markupCanvas) {\n            const scale = zoomScale || 1.0;\n            \n            //  \n            const ctx = canvas.getContext('2d');\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\n            \n            // PDF \n            const task = await renderPage(page, canvas, scale);\n            setRenderTask(task);\n            \n            //    \n            markupCanvas.height = canvas.height;\n            markupCanvas.width = canvas.width;\n            \n            //    (   )\n            setTimeout(() => {\n              redrawMarkups();\n            }, 50);\n          }\n        } catch (error) {\n          console.error('  :', error);\n        } finally {\n          setPageRendering(false);\n        }\n      };\n      \n      renderCurrentPage();\n    } else if (pageNum > MAX_PAGES) {\n      //       \n      console.log(` ${pageNum}  (${MAX_PAGES}) .`);\n      if (onPageChange) {\n        onPageChange(1);\n      }\n    }\n  }, [pdfDoc, pageNum, zoomScale, redrawMarkups, MAX_PAGES, onPageChange]);\n\n  //      \n  useEffect(() => {\n    return () => {\n      if (renderTask) {\n        try {\n          renderTask.cancel();\n          setRenderTask(null);\n        } catch (error) {\n          //    \n          console.log('     ');\n        }\n      }\n    };\n  }, [renderTask]);\n\n  //    \n  useEffect(() => {\n    return () => {\n      setRenderTask(null);\n      setPageRendering(false);\n    };\n  }, []);\n\n  //    ( )\n  const generateThumbnail = useCallback(async (page, pageNumber) => {\n    try {\n      const viewport = page.getViewport({ scale: 0.15 }); //     \n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      \n      //   \n      const maxWidth = 150;\n      const maxHeight = 200;\n      \n      if (viewport.width > maxWidth || viewport.height > maxHeight) {\n        const scale = Math.min(maxWidth / viewport.width, maxHeight / viewport.height);\n        const scaledViewport = page.getViewport({ scale: 0.15 * scale });\n        canvas.width = scaledViewport.width;\n        canvas.height = scaledViewport.height;\n        \n        const renderContext = {\n          canvasContext: context,\n          viewport: scaledViewport\n        };\n        \n        await page.render(renderContext).promise;\n      } else {\n        canvas.width = viewport.width;\n        canvas.height = viewport.height;\n        \n        const renderContext = {\n          canvasContext: context,\n          viewport: viewport\n        };\n        \n        await page.render(renderContext).promise;\n      }\n      \n      // JPEG    \n      const dataUrl = canvas.toDataURL('image/jpeg', 0.7);\n      \n      setThumbnails(prev => ({\n        ...prev,\n        [pageNumber]: dataUrl\n      }));\n      \n      //   \n      canvas.width = 0;\n      canvas.height = 0;\n    } catch (error) {\n      console.error(`   ( ${pageNumber}):`, error);\n    }\n  }, []);\n\n  //    (  +  )\n  const generateThumbnailIfNeeded = useCallback(async (pageNumber) => {\n    if (thumbnails[pageNumber] || !pdfDoc) return;\n    \n    try {\n      const page = await pdfDoc.getPage(pageNumber);\n      await generateThumbnail(page, pageNumber);\n      \n      //    ( 10 )\n      setThumbnails(prev => {\n        const newThumbnails = { ...prev };\n        const keys = Object.keys(newThumbnails);\n        \n        if (keys.length > 10) {\n          //      \n          const sortedKeys = keys.sort((a, b) => {\n            const distA = Math.abs(parseInt(a) - pageNum);\n            const distB = Math.abs(parseInt(b) - pageNum);\n            return distB - distA;\n          });\n          \n          //   3 \n          for (let i = 0; i < 3 && i < sortedKeys.length; i++) {\n            delete newThumbnails[sortedKeys[i]];\n          }\n        }\n        \n        return newThumbnails;\n      });\n    } catch (error) {\n      console.error(` ${pageNumber}   :`, error);\n    }\n  }, [pdfDoc, generateThumbnail, thumbnails, pageNum]);\n\n  //       ( )\n  useEffect(() => {\n    if (THUMBNAIL_ENABLED && showThumbnails && pdfDoc && totalPages > 0) {\n      //      \n      const startPage = Math.max(1, pageNum - 2);\n      const endPage = Math.min(totalPages, pageNum + 2);\n      \n      for (let i = startPage; i <= endPage; i++) {\n        generateThumbnailIfNeeded(i);\n      }\n    }\n  }, [THUMBNAIL_ENABLED, showThumbnails, pdfDoc, totalPages, pageNum, generateThumbnailIfNeeded]);\n\n  //   \n  const handleThumbnailClick = useCallback((pageNumber) => {\n    if (onPageChange) {\n      onPageChange(pageNumber);\n    }\n  }, [onPageChange]);\n\n  // /  \n  const getEventPos = useCallback((e) => {\n    const canvas = markupCanvasRef.current;\n    if (!canvas) return { x: 0, y: 0 };\n    \n    const rect = canvas.getBoundingClientRect();\n    const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n    const clientY = e.touches ? e.touches[0].clientY : e.clientY;\n    \n    return {\n      x: clientX - rect.left,\n      y: clientY - rect.top\n    };\n  }, []);\n\n  //  \n  const startDrawing = useCallback((e) => {\n    if (selectedTool === 'hand') return;\n    \n    e.preventDefault();\n    e.stopPropagation();\n    \n    const pos = getEventPos(e);\n    setIsDrawing(true);\n    setLastPos(pos);\n    setCurrentPath([pos]);\n  }, [selectedTool, getEventPos]);\n\n  //   (  )\n  const draw = useCallback((e) => {\n    if (!isDrawing || selectedTool === 'hand') return;\n    \n    e.preventDefault();\n    e.stopPropagation();\n    \n    const pos = getEventPos(e);\n    setLastPos(pos);\n    setCurrentPath(prev => [...prev, pos]);\n    \n    //   ( )\n    const canvas = markupCanvasRef.current;\n    if (canvas) {\n      const context = canvas.getContext('2d');\n      \n      //     \n      context.save();\n      context.beginPath();\n      context.lineWidth = brushSize;\n      context.strokeStyle = selectedColor;\n      context.lineCap = 'round';\n      context.lineJoin = 'round';\n      context.globalCompositeOperation = 'source-over';\n      \n      context.moveTo(lastPos.x, lastPos.y);\n      context.lineTo(pos.x, pos.y);\n      context.stroke();\n      context.restore();\n    }\n  }, [isDrawing, selectedTool, getEventPos, lastPos, brushSize, selectedColor]);\n\n  //   ( )\n  const stopDrawing = useCallback((e) => {\n    if (selectedTool === 'hand') return;\n    \n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (isDrawing && currentPath.length > 1) {\n      const newDrawing = {\n        id: Date.now(),\n        type: 'stroke',\n        tool: selectedTool,\n        color: selectedColor,\n        brushSize: brushSize,\n        points: currentPath,\n        timestamp: new Date().toISOString(),\n        isRecording: isRecording\n      };\n      \n      setSavedDrawings(prev => {\n        const updatedDrawings = [...prev, newDrawing];\n        //     \n        if (onStrokeDataChange) {\n          onStrokeDataChange(updatedDrawings);\n        }\n        return updatedDrawings;\n      });\n      \n      //        ( )\n    }\n    \n    setIsDrawing(false);\n    setCurrentPath([]);\n  }, [isDrawing, currentPath, selectedTool, selectedColor, brushSize, isRecording, onStrokeDataChange, redrawMarkups]);\n\n  return (\n    <div style={{ display: 'flex', height: '100%', gap: '1rem' }}>\n      {/*   ( ) */}\n      {THUMBNAIL_ENABLED && (\n        <div style={{\n          width: showThumbnails ? '200px' : '0px',\n          overflow: 'hidden',\n          transition: 'width 0.3s ease',\n          backgroundColor: '#f8fafc',\n          borderRadius: '8px',\n          border: '1px solid #e2e8f0'\n        }}>\n        {showThumbnails && (\n          <div style={{\n            padding: '1rem',\n            height: '100%',\n            overflow: 'auto'\n          }}>\n            <div style={{\n              fontSize: '0.875rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '1rem',\n              textAlign: 'center'\n            }}>\n                \n            </div>\n            \n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.5rem'\n            }}>\n              {Array.from({ length: totalPages }, (_, index) => {\n                const pageNumber = index + 1;\n                const thumbnail = thumbnails[pageNumber];\n                \n                return (\n                  <div\n                    key={pageNumber}\n                    onClick={() => handleThumbnailClick(pageNumber)}\n                    style={{\n                      cursor: 'pointer',\n                      padding: '0.5rem',\n                      borderRadius: '6px',\n                      border: pageNumber === pageNum ? '2px solid #3b82f6' : '2px solid transparent',\n                      backgroundColor: pageNumber === pageNum ? 'rgba(59, 130, 246, 0.1)' : 'transparent',\n                      transition: 'all 0.2s ease',\n                      textAlign: 'center',\n                      minHeight: '120px',\n                      display: 'flex',\n                      flexDirection: 'column',\n                      justifyContent: 'center'\n                    }}\n                    onMouseEnter={(e) => {\n                      if (pageNumber !== pageNum) {\n                        e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.05)';\n                        e.target.style.borderColor = 'rgba(59, 130, 246, 0.3)';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (pageNumber !== pageNum) {\n                        e.target.style.backgroundColor = 'transparent';\n                        e.target.style.borderColor = 'transparent';\n                      }\n                    }}\n                    onMouseEnter={() => {\n                      //     \n                      generateThumbnailIfNeeded(pageNumber);\n                    }}\n                  >\n                    {thumbnail ? (\n                      <img\n                        src={thumbnail}\n                        alt={` ${pageNumber}`}\n                        style={{\n                          width: '100%',\n                          height: 'auto',\n                          borderRadius: '4px',\n                          border: '1px solid #e2e8f0'\n                        }}\n                      />\n                    ) : (\n                      <div style={{\n                        width: '100%',\n                        height: '80px',\n                        backgroundColor: '#f3f4f6',\n                        borderRadius: '4px',\n                        border: '1px solid #e2e8f0',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#9ca3af',\n                        fontSize: '0.75rem'\n                      }}>\n                         ...\n                      </div>\n                    )}\n                    <div style={{\n                      fontSize: '0.75rem',\n                      color: '#6b7280',\n                      marginTop: '0.25rem'\n                    }}>\n                       {pageNumber}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n        </div>\n      )}\n\n      {/*  PDF  */}\n      <div \n        ref={containerRef}\n        style={{\n          flex: 1,\n          overflow: 'auto',\n          backgroundColor: '#f1f5f9',\n          borderRadius: '12px',\n          padding: '1rem',\n          position: 'relative'\n        }}\n      >\n        {pageRendering && (\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: '400px',\n            flexDirection: 'column',\n            gap: '1rem'\n          }}>\n            <div style={{\n              width: '40px',\n              height: '40px',\n              border: '4px solid #e2e8f0',\n              borderTop: '4px solid #3b82f6',\n              borderRadius: '50%',\n              animation: 'spin 1s linear infinite'\n            }}></div>\n            <span style={{ color: '#6b7280', fontSize: '1rem' }}>PDF  ...</span>\n          </div>\n        )}\n        \n        <div style={{\n          display: pageRendering ? 'none' : 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          position: 'relative',\n          minHeight: '100%'\n        }}>\n          <div style={{\n            position: 'relative',\n            display: 'inline-block'\n          }}>\n            <canvas\n              ref={canvasRef}\n              style={{\n                border: '2px solid #e2e8f0',\n                borderRadius: '8px',\n                boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',\n                backgroundColor: 'white',\n                display: 'block',\n                //    \n                willChange: 'auto',\n                backfaceVisibility: 'hidden',\n                transform: 'translateZ(0)'\n              }}\n            />\n            <canvas\n              ref={markupCanvasRef}\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                cursor: selectedTool === 'hand' ? 'grab' : 'crosshair',\n                borderRadius: '8px',\n                pointerEvents: 'auto',\n                //    \n                willChange: 'auto',\n                backfaceVisibility: 'hidden',\n                transform: 'translateZ(0)'\n              }}\n              onMouseDown={startDrawing}\n              onMouseMove={draw}\n              onMouseUp={stopDrawing}\n              onMouseLeave={stopDrawing}\n              onTouchStart={startDrawing}\n              onTouchMove={draw}\n              onTouchEnd={stopDrawing}\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/*    */}\n      <div style={{\n        position: 'absolute',\n        top: '1rem',\n        right: '1rem',\n        zIndex: 10,\n        display: 'flex',\n        gap: '0.5rem',\n        alignItems: 'center'\n      }}>\n        {/*    */}\n        <div style={{\n          background: 'rgba(0, 0, 0, 0.7)',\n          color: 'white',\n          padding: '0.5rem 1rem',\n          borderRadius: '8px',\n          fontSize: '0.875rem',\n          fontFamily: 'var(--font-ui)'\n        }}>\n          {pageNum} / {totalPages}\n        </div>\n        \n        {/*    */}\n        <button\n          onClick={() => onPageChange && pageNum > 1 && onPageChange(pageNum - 1)}\n          disabled={pageNum <= 1}\n          style={{\n            background: pageNum <= 1 ? 'rgba(156, 163, 175, 0.5)' : 'rgba(59, 130, 246, 0.9)',\n            border: 'none',\n            borderRadius: '8px',\n            padding: '0.5rem',\n            color: 'white',\n            cursor: pageNum <= 1 ? 'not-allowed' : 'pointer',\n            transition: 'all 0.2s ease',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n          }}\n          onMouseEnter={(e) => {\n            if (pageNum > 1) {\n              e.target.style.backgroundColor = 'rgba(59, 130, 246, 1)';\n              e.target.style.transform = 'scale(1.05)';\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (pageNum > 1) {\n              e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';\n              e.target.style.transform = 'scale(1)';\n            }\n          }}\n        >\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"/>\n          </svg>\n        </button>\n        \n        {/*    */}\n        <button\n          onClick={() => onPageChange && pageNum < totalPages && onPageChange(pageNum + 1)}\n          disabled={pageNum >= totalPages}\n          style={{\n            background: pageNum >= totalPages ? 'rgba(156, 163, 175, 0.5)' : 'rgba(59, 130, 246, 0.9)',\n            border: 'none',\n            borderRadius: '8px',\n            padding: '0.5rem',\n            color: 'white',\n            cursor: pageNum >= totalPages ? 'not-allowed' : 'pointer',\n            transition: 'all 0.2s ease',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n          }}\n          onMouseEnter={(e) => {\n            if (pageNum < totalPages) {\n              e.target.style.backgroundColor = 'rgba(59, 130, 246, 1)';\n              e.target.style.transform = 'scale(1.05)';\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (pageNum < totalPages) {\n              e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';\n              e.target.style.transform = 'scale(1)';\n            }\n          }}\n        >\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"/>\n          </svg>\n        </button>\n      </div>\n      \n      {/*    ( ) */}\n      {THUMBNAIL_ENABLED && (\n        <button\n          onClick={() => setShowThumbnails(!showThumbnails)}\n          style={{\n            position: 'absolute',\n            top: '1rem',\n            left: showThumbnails ? '220px' : '1rem',\n            zIndex: 10,\n            background: 'rgba(59, 130, 246, 0.9)',\n            border: 'none',\n            borderRadius: '8px',\n            padding: '0.5rem',\n            color: 'white',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n          }}\n          onMouseEnter={(e) => {\n            e.target.style.backgroundColor = 'rgba(59, 130, 246, 1)';\n            e.target.style.transform = 'scale(1.05)';\n          }}\n          onMouseLeave={(e) => {\n            e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.9)';\n            e.target.style.transform = 'scale(1)';\n          }}\n        >\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z\"/>\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default StaticPDFViewer;","import React, { useState, useRef, useEffect } from 'react';\n\nconst AIChatbot = ({ isOpen, onClose, bookTitle }) => {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      type: 'ai',\n      content: `! ${bookTitle}      .     ! `,\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsTyping(true);\n\n    // AI   ( API )\n    setTimeout(() => {\n      const aiResponse = generateAIResponse(inputMessage);\n      const aiMessage = {\n        id: Date.now() + 1,\n        type: 'ai',\n        content: aiResponse,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, aiMessage]);\n      setIsTyping(false);\n    }, 1500);\n  };\n\n  const generateAIResponse = (userInput) => {\n    const responses = [\n      \" !    .     .\",\n      \"     .   .\",\n      \"      .     .\",\n      \" !     .    .\",\n      \"  .   .   .\",\n      \"  !    .\",\n      \"       .    .\",\n      \"   .       .\"\n    ];\n    \n    return responses[Math.floor(Math.random() * responses.length)];\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div style={{\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n      padding: '1rem'\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '20px',\n        width: '100%',\n        maxWidth: '500px',\n        height: '600px',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 20px 40px rgba(0, 0, 0, 0.15)',\n        overflow: 'hidden'\n      }}>\n        {/*  */}\n        <div style={{\n          background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n          color: 'white',\n          padding: '1rem 1.5rem',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <div style={{\n              width: '32px',\n              height: '32px',\n              background: 'rgba(255, 255, 255, 0.2)',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}>\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n              </svg>\n            </div>\n            <div>\n              <h3 style={{\n                margin: 0,\n                fontSize: '1.1rem',\n                fontWeight: '600'\n              }}>\n                AI  \n              </h3>\n              <p style={{\n                margin: 0,\n                fontSize: '0.8rem',\n                opacity: 0.9\n              }}>\n                {bookTitle}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: 'none',\n              borderRadius: '50%',\n              width: '32px',\n              height: '32px',\n              color: 'white',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              transition: 'background 0.2s'\n            }}\n            onMouseEnter={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.3)'}\n            onMouseLeave={(e) => e.target.style.background = 'rgba(255, 255, 255, 0.2)'}\n          >\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n            </svg>\n          </button>\n        </div>\n\n        {/*   */}\n        <div style={{\n          flex: 1,\n          padding: '1rem',\n          overflowY: 'auto',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem'\n        }}>\n          {messages.map((message) => (\n            <div\n              key={message.id}\n              style={{\n                display: 'flex',\n                justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start',\n                alignItems: 'flex-start',\n                gap: '0.5rem'\n              }}\n            >\n              {message.type === 'ai' && (\n                <div style={{\n                  width: '32px',\n                  height: '32px',\n                  background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                  borderRadius: '50%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  flexShrink: 0\n                }}>\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\n                    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n                  </svg>\n                </div>\n              )}\n              \n              <div style={{\n                maxWidth: '70%',\n                padding: '0.75rem 1rem',\n                borderRadius: message.type === 'user' ? '18px 18px 4px 18px' : '18px 18px 18px 4px',\n                background: message.type === 'user' \n                  ? 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)'\n                  : '#f1f5f9',\n                color: message.type === 'user' ? 'white' : '#1e293b',\n                fontSize: '0.9rem',\n                lineHeight: 1.4,\n                wordWrap: 'break-word'\n              }}>\n                {message.content}\n              </div>\n\n              {message.type === 'user' && (\n                <div style={{\n                  width: '32px',\n                  height: '32px',\n                  background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  borderRadius: '50%',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  flexShrink: 0\n                }}>\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\n                    <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/>\n                  </svg>\n                </div>\n              )}\n            </div>\n          ))}\n\n          {isTyping && (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem'\n            }}>\n              <div style={{\n                width: '32px',\n                height: '32px',\n                background: 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)',\n                borderRadius: '50%',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}>\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"white\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z\"/>\n                </svg>\n              </div>\n              <div style={{\n                padding: '0.75rem 1rem',\n                borderRadius: '18px 18px 18px 4px',\n                background: '#f1f5f9',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.25rem'\n              }}>\n                <div style={{\n                  width: '6px',\n                  height: '6px',\n                  borderRadius: '50%',\n                  background: '#64748b',\n                  animation: 'typing 1.4s infinite ease-in-out'\n                }}></div>\n                <div style={{\n                  width: '6px',\n                  height: '6px',\n                  borderRadius: '50%',\n                  background: '#64748b',\n                  animation: 'typing 1.4s infinite ease-in-out 0.2s'\n                }}></div>\n                <div style={{\n                  width: '6px',\n                  height: '6px',\n                  borderRadius: '50%',\n                  background: '#64748b',\n                  animation: 'typing 1.4s infinite ease-in-out 0.4s'\n                }}></div>\n              </div>\n            </div>\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/*   */}\n        <div style={{\n          padding: '1rem',\n          borderTop: '1px solid #e2e8f0',\n          background: '#f8fafc'\n        }}>\n          <div style={{\n            display: 'flex',\n            gap: '0.5rem',\n            alignItems: 'flex-end'\n          }}>\n            <textarea\n              value={inputMessage}\n              onChange={(e) => setInputMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"  ...\"\n              style={{\n                flex: 1,\n                minHeight: '40px',\n                maxHeight: '120px',\n                padding: '0.75rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '20px',\n                fontSize: '0.9rem',\n                fontFamily: 'inherit',\n                resize: 'none',\n                outline: 'none',\n                transition: 'border-color 0.2s'\n              }}\n              onFocus={(e) => e.target.style.borderColor = '#3b82f6'}\n              onBlur={(e) => e.target.style.borderColor = '#d1d5db'}\n            />\n            <button\n              onClick={handleSendMessage}\n              disabled={!inputMessage.trim()}\n              style={{\n                width: '40px',\n                height: '40px',\n                borderRadius: '50%',\n                background: inputMessage.trim() \n                  ? 'linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)'\n                  : '#d1d5db',\n                border: 'none',\n                color: 'white',\n                cursor: inputMessage.trim() ? 'pointer' : 'not-allowed',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'all 0.2s'\n              }}\n            >\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes typing {\n          0%, 60%, 100% {\n            transform: translateY(0);\n            opacity: 0.4;\n          }\n          30% {\n            transform: translateY(-10px);\n            opacity: 1;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default AIChatbot;\n","import React, { useState } from 'react';\n\nconst TeacherLoginPage = ({ onLogin }) => {\n  const [formData, setFormData] = useState({\n    id: '',\n    password: ''\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (formData.id && formData.password) {\n      onLogin();\n    } else {\n      alert('  .');\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontFamily: 'var(--font-body)'\n    }}>\n      <div style={{\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderRadius: '20px',\n        padding: '3rem',\n        boxShadow: '0 20px 40px rgba(30, 58, 138, 0.3)',\n        border: '1px solid rgba(59, 130, 246, 0.2)',\n        maxWidth: '400px',\n        width: '100%',\n        margin: '1rem'\n      }}>\n        {/*    */}\n        <div style={{\n          textAlign: 'center',\n          marginBottom: '2rem'\n        }}>\n          <div style={{\n            width: '60px',\n            height: '60px',\n            background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n            borderRadius: '16px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            margin: '0 auto 1rem',\n            boxShadow: '0 8px 16px rgba(59, 130, 246, 0.3)'\n          }}>\n            <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"white\">\n              <path d=\"M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z\"/>\n            </svg>\n          </div>\n          <h1 style={{\n            fontSize: '1.75rem',\n            fontWeight: 'bold',\n            color: '#1e3a8a',\n            marginBottom: '0.5rem',\n            fontFamily: 'var(--font-title)'\n          }}>\n             \n          </h1>\n          <p style={{\n            fontSize: '1rem',\n            color: '#64748b',\n            fontFamily: 'var(--font-body)'\n          }}>\n                \n          </p>\n        </div>\n\n        {/*   */}\n        <form onSubmit={handleSubmit} style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1.5rem'\n        }}>\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '0.9rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-ui)'\n            }}>\n               ID\n            </label>\n            <input\n              type=\"text\"\n              name=\"id\"\n              value={formData.id}\n              onChange={handleInputChange}\n              placeholder=\" ID \"\n              style={{\n                width: '100%',\n                padding: '0.75rem 1rem',\n                border: '2px solid #e5e7eb',\n                borderRadius: '12px',\n                fontSize: '1rem',\n                transition: 'all 0.2s ease',\n                fontFamily: 'var(--font-body)',\n                boxSizing: 'border-box'\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#3b82f6';\n                e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = '#e5e7eb';\n                e.target.style.boxShadow = 'none';\n              }}\n            />\n          </div>\n\n          <div>\n            <label style={{\n              display: 'block',\n              fontSize: '0.9rem',\n              fontWeight: '600',\n              color: '#374151',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-ui)'\n            }}>\n              \n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleInputChange}\n              placeholder=\" \"\n              style={{\n                width: '100%',\n                padding: '0.75rem 1rem',\n                border: '2px solid #e5e7eb',\n                borderRadius: '12px',\n                fontSize: '1rem',\n                transition: 'all 0.2s ease',\n                fontFamily: 'var(--font-body)',\n                boxSizing: 'border-box'\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#3b82f6';\n                e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = '#e5e7eb';\n                e.target.style.boxShadow = 'none';\n              }}\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            style={{\n              background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n              color: 'white',\n              border: 'none',\n              borderRadius: '12px',\n              padding: '0.875rem 1.5rem',\n              fontSize: '1rem',\n              fontWeight: '600',\n              cursor: 'pointer',\n              transition: 'all 0.2s ease',\n              fontFamily: 'var(--font-ui)',\n              boxShadow: '0 4px 12px rgba(59, 130, 246, 0.3)'\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.transform = 'translateY(-2px)';\n              e.target.style.boxShadow = '0 8px 20px rgba(59, 130, 246, 0.4)';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.transform = 'translateY(0)';\n              e.target.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.3)';\n            }}\n          >\n             \n          </button>\n        </form>\n\n        {/*   */}\n        <div style={{\n          marginTop: '2rem',\n          padding: '1rem',\n          background: 'rgba(59, 130, 246, 0.1)',\n          borderRadius: '12px',\n          border: '1px solid rgba(59, 130, 246, 0.2)'\n        }}>\n          <p style={{\n            fontSize: '0.875rem',\n            color: '#1e40af',\n            textAlign: 'center',\n            margin: 0,\n            fontFamily: 'var(--font-body)'\n          }}>\n              :  ID/ \n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TeacherLoginPage;\n","import React, { useState, useEffect } from 'react';\n\nconst TeacherSubmissionPage = ({ onBackToBookList, onViewSubmission }) => {\n  const [submissions, setSubmissions] = useState([]);\n  const [selectedSubmission, setSelectedSubmission] = useState(null);\n  const [filterStatus, setFilterStatus] = useState('all'); // 'all', 'pending', 'graded'\n  const [searchTerm, setSearchTerm] = useState('');\n\n  //    (  )\n  useEffect(() => {\n    const sampleSubmissions = [\n      {\n        id: 1,\n        studentId: 'student1',\n        studentName: '',\n        bookTitle: '   1',\n        bookUrl: '/somapremier.pdf',\n        submittedAt: '2024-01-15T14:30:00Z',\n        status: 'pending', // 'pending', 'graded'\n        hasAudio: true,\n        hasDrawing: true,\n        strokeData: [\n          {\n            type: 'stroke',\n            tool: 'pen',\n            color: '#ef4444',\n            brushSize: 3,\n            points: [\n              { x: 100, y: 100 },\n              { x: 150, y: 120 },\n              { x: 200, y: 140 }\n            ]\n          }\n        ],\n        audioUrl: '/sample-audio.wav',\n        feedback: null\n      },\n      {\n        id: 2,\n        studentId: 'student2',\n        studentName: '',\n        bookTitle: '   2()',\n        bookUrl: '/somapremier.pdf',\n        submittedAt: '2024-01-15T10:15:00Z',\n        status: 'graded',\n        hasAudio: true,\n        hasDrawing: true,\n        strokeData: [\n          {\n            type: 'stroke',\n            tool: 'pen',\n            color: '#3b82f6',\n            brushSize: 3,\n            points: [\n              { x: 200, y: 200 },\n              { x: 250, y: 220 },\n              { x: 300, y: 240 }\n            ]\n          }\n        ],\n        audioUrl: '/sample-audio2.wav',\n        feedback: {\n          id: 1,\n          teacherId: 'teacher1',\n          teacherName: '',\n          feedbackStrokeData: [\n            {\n              type: 'stroke',\n              tool: 'pen',\n              color: '#10b981',\n              brushSize: 2,\n              points: [\n                { x: 200, y: 200 },\n                { x: 250, y: 220 },\n                { x: 300, y: 240 }\n              ]\n            }\n          ],\n          gradedAt: '2024-01-15T16:45:00Z'\n        }\n      },\n      {\n        id: 3,\n        studentId: 'student3',\n        studentName: '',\n        bookTitle: '   1',\n        bookUrl: '/somapremier.pdf',\n        submittedAt: '2024-01-14T16:20:00Z',\n        status: 'pending',\n        hasAudio: false,\n        hasDrawing: true,\n        strokeData: [\n          {\n            type: 'stroke',\n            tool: 'pen',\n            color: '#8b5cf6',\n            brushSize: 4,\n            points: [\n              { x: 300, y: 300 },\n              { x: 350, y: 320 },\n              { x: 400, y: 340 }\n            ]\n          }\n        ],\n        audioUrl: null,\n        feedback: null\n      }\n    ];\n    \n    setSubmissions(sampleSubmissions);\n  }, []);\n\n  //   \n  const filteredSubmissions = submissions.filter(submission => {\n    const matchesStatus = filterStatus === 'all' || submission.status === filterStatus;\n    const matchesSearch = submission.studentName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         submission.bookTitle.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesStatus && matchesSearch;\n  });\n\n  //  \n  const formatDateTime = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleString('ko-KR', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  //  \n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending':\n        return { bg: '#fef3c7', text: '#d97706', border: '#f59e0b' };\n      case 'graded':\n        return { bg: '#d1fae5', text: '#059669', border: '#10b981' };\n      default:\n        return { bg: '#f3f4f6', text: '#6b7280', border: '#d1d5db' };\n    }\n  };\n\n  //   \n  const handleViewSubmission = (submission) => {\n    setSelectedSubmission(submission);\n    if (onViewSubmission) {\n      onViewSubmission(submission);\n    }\n  };\n\n  return (\n    <div style={{\n      fontFamily: 'var(--font-body)'\n    }}>\n      {/*   */}\n      <div style={{\n        maxWidth: '1400px',\n        margin: '0 auto',\n        padding: '0'\n      }}>\n        {/*    */}\n        <div style={{\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderRadius: '16px',\n          padding: '1.5rem',\n          marginBottom: '2rem',\n          boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n          border: '1px solid rgba(59, 130, 246, 0.2)'\n        }}>\n          <div style={{\n            display: 'flex',\n            gap: '1rem',\n            alignItems: 'center',\n            flexWrap: 'wrap'\n          }}>\n            {/*  */}\n            <div style={{ flex: 1, minWidth: '300px' }}>\n              <div style={{\n                position: 'relative',\n                display: 'flex',\n                alignItems: 'center'\n              }}>\n                <svg\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  style={{\n                    position: 'absolute',\n                    left: '12px',\n                    color: '#6b7280',\n                    zIndex: 1\n                  }}\n                >\n                  <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n                  <path d=\"m21 21-4.35-4.35\"/>\n                </svg>\n                <input\n                  type=\"text\"\n                  placeholder=\"   ...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  style={{\n                    width: '100%',\n                    padding: '0.75rem 1rem 0.75rem 2.5rem',\n                    border: '2px solid #e5e7eb',\n                    borderRadius: '12px',\n                    fontSize: '1rem',\n                    transition: 'all 0.2s ease',\n                    fontFamily: 'var(--font-body)',\n                    boxSizing: 'border-box'\n                  }}\n                  onFocus={(e) => {\n                    e.target.style.borderColor = '#3b82f6';\n                    e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\n                  }}\n                  onBlur={(e) => {\n                    e.target.style.borderColor = '#e5e7eb';\n                    e.target.style.boxShadow = 'none';\n                  }}\n                />\n              </div>\n            </div>\n            \n            {/*   */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              background: 'rgba(59, 130, 246, 0.1)',\n              borderRadius: '12px',\n              padding: '0.25rem'\n            }}>\n              {[\n                { value: 'all', label: '', count: submissions.length },\n                { value: 'pending', label: '', count: submissions.filter(s => s.status === 'pending').length },\n                { value: 'graded', label: '', count: submissions.filter(s => s.status === 'graded').length }\n              ].map(filter => (\n                <button\n                  key={filter.value}\n                  onClick={() => setFilterStatus(filter.value)}\n                  style={{\n                    background: filterStatus === filter.value ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' : 'transparent',\n                    color: filterStatus === filter.value ? 'white' : '#64748b',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '0.5rem 1rem',\n                    cursor: 'pointer',\n                    fontSize: '0.875rem',\n                    fontFamily: 'var(--font-ui)',\n                    fontWeight: '500',\n                    transition: 'all 0.2s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem'\n                  }}\n                >\n                  {filter.label}\n                  <span style={{\n                    background: filterStatus === filter.value ? 'rgba(255, 255, 255, 0.2)' : 'rgba(59, 130, 246, 0.2)',\n                    color: filterStatus === filter.value ? 'white' : '#3b82f6',\n                    borderRadius: '12px',\n                    padding: '0.125rem 0.5rem',\n                    fontSize: '0.75rem',\n                    fontWeight: '600'\n                  }}>\n                    {filter.count}\n                  </span>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/*   */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(400px, 1fr))',\n          gap: '1.5rem'\n        }}>\n          {filteredSubmissions.map((submission) => {\n            const statusColor = getStatusColor(submission.status);\n            \n            return (\n              <div\n                key={submission.id}\n                style={{\n                  background: 'rgba(255, 255, 255, 0.95)',\n                  backdropFilter: 'blur(10px)',\n                  borderRadius: '16px',\n                  padding: '1.5rem',\n                  cursor: 'pointer',\n                  transition: 'all 0.3s ease',\n                  border: `2px solid ${statusColor.border}`,\n                  boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n                  position: 'relative',\n                  overflow: 'hidden'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.transform = 'translateY(-4px)';\n                  e.target.style.boxShadow = '0 12px 40px rgba(30, 58, 138, 0.3)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = '0 8px 32px rgba(30, 58, 138, 0.2)';\n                }}\n                onClick={() => handleViewSubmission(submission)}\n              >\n                {/*   */}\n                <div style={{\n                  position: 'absolute',\n                  top: '1rem',\n                  right: '1rem',\n                  background: statusColor.bg,\n                  color: statusColor.text,\n                  padding: '0.25rem 0.75rem',\n                  borderRadius: '12px',\n                  fontSize: '0.75rem',\n                  fontWeight: '600',\n                  fontFamily: 'var(--font-ui)',\n                  border: `1px solid ${statusColor.border}`\n                }}>\n                  {submission.status === 'pending' ? '' : ''}\n                </div>\n\n                {/*   */}\n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '1rem',\n                  marginBottom: '1rem'\n                }}>\n                  <div style={{\n                    width: '50px',\n                    height: '50px',\n                    background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                    borderRadius: '50%',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: 'white',\n                    fontSize: '1.2rem',\n                    fontWeight: 'bold',\n                    fontFamily: 'var(--font-title)'\n                  }}>\n                    {submission.studentName.charAt(0)}\n                  </div>\n                  <div>\n                    <h3 style={{\n                      fontSize: '1.1rem',\n                      fontWeight: 'bold',\n                      color: '#1e3a8a',\n                      margin: '0 0 0.25rem 0',\n                      fontFamily: 'var(--font-title)'\n                    }}>\n                      {submission.studentName}\n                    </h3>\n                    <p style={{\n                      fontSize: '0.9rem',\n                      color: '#64748b',\n                      margin: '0',\n                      fontFamily: 'var(--font-body)'\n                    }}>\n                      {submission.bookTitle}\n                    </p>\n                  </div>\n                </div>\n\n                {/*   */}\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '0.75rem',\n                  marginBottom: '1.5rem'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem',\n                    fontSize: '0.875rem',\n                    color: '#64748b',\n                    fontFamily: 'var(--font-ui)'\n                  }}>\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                    </svg>\n                    <span>: {formatDateTime(submission.submittedAt)}</span>\n                  </div>\n                  \n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem'\n                  }}>\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.25rem',\n                      fontSize: '0.8rem',\n                      color: submission.hasDrawing ? '#10b981' : '#6b7280',\n                      fontFamily: 'var(--font-ui)'\n                    }}>\n                      <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                        <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n                      </svg>\n                      <span> {submission.hasDrawing ? '' : ''}</span>\n                    </div>\n                    \n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.25rem',\n                      fontSize: '0.8rem',\n                      color: submission.hasAudio ? '#10b981' : '#6b7280',\n                      fontFamily: 'var(--font-ui)'\n                    }}>\n                      <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                        <path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"/>\n                        <path d=\"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/>\n                      </svg>\n                      <span> {submission.hasAudio ? '' : ''}</span>\n                    </div>\n                  </div>\n                </div>\n\n                {/*   */}\n                <div style={{\n                  display: 'flex',\n                  gap: '0.5rem',\n                  justifyContent: 'flex-end'\n                }}>\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleViewSubmission(submission);\n                    }}\n                    style={{\n                      background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                      color: 'white',\n                      border: 'none',\n                      borderRadius: '8px',\n                      padding: '0.5rem 1rem',\n                      cursor: 'pointer',\n                      fontSize: '0.875rem',\n                      fontWeight: '600',\n                      fontFamily: 'var(--font-ui)',\n                      transition: 'all 0.2s ease',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.target.style.transform = 'translateY(-1px)';\n                      e.target.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.4)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.target.style.transform = 'translateY(0)';\n                      e.target.style.boxShadow = 'none';\n                    }}\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\n                    </svg>\n                    {submission.status === 'pending' ? '' : ''}\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/*   */}\n        {filteredSubmissions.length === 0 && (\n          <div style={{\n            textAlign: 'center',\n            padding: '3rem',\n            color: '#64748b'\n          }}>\n            <svg\n              width=\"64\"\n              height=\"64\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"1\"\n              style={{ margin: '0 auto 1rem', opacity: 0.5 }}\n            >\n              <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n            </svg>\n            <h3 style={{\n              fontSize: '1.25rem',\n              fontWeight: '600',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-title)'\n            }}>\n              {searchTerm || filterStatus !== 'all' ? '  ' : '   '}\n            </h3>\n            <p style={{\n              fontSize: '1rem',\n              margin: '0',\n              fontFamily: 'var(--font-body)'\n            }}>\n              {searchTerm || filterStatus !== 'all' ? '  ' : '    '}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TeacherSubmissionPage;\n","import React, { useState } from 'react';\nimport TeacherSubmissionPage from './TeacherSubmissionPage';\n\nconst TeacherBookListPage = ({ files, onBookSelect, onBackToLogin, onGoToSubmissions, notifications, setNotifications }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [favorites, setFavorites] = useState(new Set());\n  const [activeTab, setActiveTab] = useState('submissions'); // 'books'  'submissions'\n\n  const handleFavoriteToggle = (index) => {\n    const newFavorites = new Set(favorites);\n    if (newFavorites.has(index)) {\n      newFavorites.delete(index);\n    } else {\n      newFavorites.add(index);\n    }\n    setFavorites(newFavorites);\n  };\n\n  const filteredFiles = files.filter(file =>\n    file.title.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const sortedFiles = [...filteredFiles].sort((a, b) => {\n    //   \n    const aIsFavorite = favorites.has(files.indexOf(a));\n    const bIsFavorite = favorites.has(files.indexOf(b));\n    \n    if (aIsFavorite && !bIsFavorite) return -1;\n    if (!aIsFavorite && bIsFavorite) return 1;\n    \n    //   \n    return a.title.localeCompare(b.title);\n  });\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)',\n      fontFamily: 'var(--font-body)'\n    }}>\n      {/*  */}\n      <header style={{\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderBottom: '2px solid rgba(59, 130, 246, 0.3)',\n        padding: '1rem 2rem',\n        boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)'\n      }}>\n        <div style={{\n          maxWidth: '1200px',\n          margin: '0 auto',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          }}>\n            <button\n              onClick={onBackToLogin}\n              style={{\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                transition: 'all 0.2s ease'\n              }}\n              onMouseEnter={(e) => {\n                e.target.style.transform = 'translateY(-1px)';\n                e.target.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.4)';\n              }}\n              onMouseLeave={(e) => {\n                e.target.style.transform = 'translateY(0)';\n                e.target.style.boxShadow = 'none';\n              }}\n            >\n               \n            </button>\n            \n            \n            <h1 style={{\n              color: '#1e3a8a',\n              fontSize: '1.5rem',\n              fontWeight: 'bold',\n              fontFamily: 'var(--font-title)'\n            }}>\n                -  \n            </h1>\n          </div>\n          \n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          }}>\n            {/*   */}\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              background: 'rgba(255, 255, 255, 0.8)',\n              borderRadius: '12px',\n              padding: '0.25rem',\n              border: '1px solid rgba(59, 130, 246, 0.2)'\n            }}>\n              <button\n                onClick={() => setActiveTab('books')}\n                style={{\n                  background: activeTab === 'books' ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' : 'transparent',\n                  color: activeTab === 'books' ? 'white' : '#64748b',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '0.5rem 1rem',\n                  cursor: 'pointer',\n                  fontSize: '0.875rem',\n                  fontFamily: 'var(--font-ui)',\n                  fontWeight: '500',\n                  transition: 'all 0.2s ease'\n                }}\n              >\n                \n              </button>\n              <button\n                onClick={() => setActiveTab('submissions')}\n                style={{\n                  background: activeTab === 'submissions' ? 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)' : 'transparent',\n                  color: activeTab === 'submissions' ? 'white' : '#64748b',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '0.5rem 1rem',\n                  cursor: 'pointer',\n                  fontSize: '0.875rem',\n                  fontFamily: 'var(--font-ui)',\n                  fontWeight: '500',\n                  transition: 'all 0.2s ease',\n                  position: 'relative'\n                }}\n              >\n                 \n                {notifications.length > 0 && (\n                  <span style={{\n                    position: 'absolute',\n                    top: '-4px',\n                    right: '-4px',\n                    background: '#ef4444',\n                    color: 'white',\n                    borderRadius: '50%',\n                    width: '18px',\n                    height: '18px',\n                    fontSize: '0.7rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    fontWeight: 'bold'\n                  }}>\n                    {notifications.length}\n                  </span>\n                )}\n              </button>\n            </div>\n            \n          </div>\n        </div>\n      </header>\n\n      {/*   */}\n      <main style={{\n        maxWidth: '1200px',\n        margin: '0 auto',\n        padding: '2rem'\n      }}>\n        {activeTab === 'books' ? (\n          <>\n            {/*    */}\n            <div style={{\n              background: 'rgba(255, 255, 255, 0.95)',\n              backdropFilter: 'blur(10px)',\n              borderRadius: '16px',\n              padding: '1.5rem',\n              marginBottom: '2rem',\n              boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n              border: '1px solid rgba(59, 130, 246, 0.2)'\n            }}>\n              <div style={{\n                display: 'flex',\n                gap: '1rem',\n                alignItems: 'center',\n                flexWrap: 'wrap'\n              }}>\n                <div style={{ flex: 1, minWidth: '300px' }}>\n                  <div style={{\n                    position: 'relative',\n                    display: 'flex',\n                    alignItems: 'center'\n                  }}>\n                    <svg\n                      width=\"20\"\n                      height=\"20\"\n                      viewBox=\"0 0 24 24\"\n                      fill=\"none\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"2\"\n                      style={{\n                        position: 'absolute',\n                        left: '12px',\n                        color: '#6b7280',\n                        zIndex: 1\n                      }}\n                    >\n                      <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n                      <path d=\"m21 21-4.35-4.35\"/>\n                    </svg>\n                    <input\n                      type=\"text\"\n                      placeholder=\" ...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      style={{\n                        width: '100%',\n                        padding: '0.75rem 1rem 0.75rem 2.5rem',\n                        border: '2px solid #e5e7eb',\n                        borderRadius: '12px',\n                        fontSize: '1rem',\n                        transition: 'all 0.2s ease',\n                        fontFamily: 'var(--font-body)',\n                        boxSizing: 'border-box'\n                      }}\n                      onFocus={(e) => {\n                        e.target.style.borderColor = '#3b82f6';\n                        e.target.style.boxShadow = '0 0 0 3px rgba(59, 130, 246, 0.1)';\n                      }}\n                      onBlur={(e) => {\n                        e.target.style.borderColor = '#e5e7eb';\n                        e.target.style.boxShadow = 'none';\n                      }}\n                    />\n                  </div>\n                </div>\n                \n                <div style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem',\n                  color: '#374151',\n                  fontSize: '0.9rem',\n                  fontFamily: 'var(--font-ui)'\n                }}>\n                  <span> {filteredFiles.length} </span>\n                </div>\n              </div>\n            </div>\n\n            {/*   */}\n            <div style={{\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fill, minmax(300px, 1fr))',\n              gap: '1.5rem'\n            }}>\n              {sortedFiles.map((file, index) => {\n                const originalIndex = files.indexOf(file);\n                const isFavorite = favorites.has(originalIndex);\n                \n                return (\n                  <div\n                    key={originalIndex}\n                    onClick={() => {\n                      console.log('  :', { title: file.title, index: originalIndex });\n                      onBookSelect(file.url, originalIndex);\n                    }}\n                    style={{\n                      background: 'rgba(255, 255, 255, 0.95)',\n                      backdropFilter: 'blur(10px)',\n                      borderRadius: '16px',\n                      padding: '1.5rem',\n                      cursor: 'pointer',\n                      transition: 'all 0.3s ease',\n                      border: '2px solid rgba(59, 130, 246, 0.2)',\n                      boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n                      position: 'relative',\n                      overflow: 'hidden'\n                    }}\n                    onMouseEnter={(e) => {\n                      e.target.style.transform = 'translateY(-4px)';\n                      e.target.style.boxShadow = '0 12px 40px rgba(30, 58, 138, 0.3)';\n                      e.target.style.borderColor = 'rgba(59, 130, 246, 0.4)';\n                    }}\n                    onMouseLeave={(e) => {\n                      e.target.style.transform = 'translateY(0)';\n                      e.target.style.boxShadow = '0 8px 32px rgba(30, 58, 138, 0.2)';\n                      e.target.style.borderColor = 'rgba(59, 130, 246, 0.2)';\n                    }}\n                  >\n                    {/*   */}\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleFavoriteToggle(originalIndex);\n                      }}\n                      style={{\n                        position: 'absolute',\n                        top: '1rem',\n                        right: '1rem',\n                        background: 'rgba(255, 255, 255, 0.9)',\n                        border: 'none',\n                        borderRadius: '50%',\n                        width: '32px',\n                        height: '32px',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        cursor: 'pointer',\n                        transition: 'all 0.2s ease',\n                        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.1)'\n                      }}\n                      onMouseEnter={(e) => {\n                        e.target.style.transform = 'scale(1.1)';\n                        e.target.style.background = 'rgba(255, 255, 255, 1)';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.target.style.transform = 'scale(1)';\n                        e.target.style.background = 'rgba(255, 255, 255, 0.9)';\n                      }}\n                    >\n                      <svg\n                        width=\"16\"\n                        height=\"16\"\n                        viewBox=\"0 0 24 24\"\n                        fill={isFavorite ? '#3b82f6' : 'none'}\n                        stroke={isFavorite ? '#3b82f6' : '#6b7280'}\n                        strokeWidth=\"2\"\n                      >\n                        <polygon points=\"12,2 15.09,8.26 22,9 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9 8.91,8.26\"/>\n                      </svg>\n                    </button>\n\n                    {/*   */}\n                    <div style={{\n                      width: '60px',\n                      height: '60px',\n                      background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                      borderRadius: '12px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      marginBottom: '1rem',\n                      boxShadow: '0 4px 12px rgba(59, 130, 246, 0.3)'\n                    }}>\n                      <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"white\">\n                        <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n                      </svg>\n                    </div>\n\n                    {/*   */}\n                    <h3 style={{\n                      fontSize: '1.1rem',\n                      fontWeight: 'bold',\n                      color: '#1e3a8a',\n                      marginBottom: '0.5rem',\n                      fontFamily: 'var(--font-title)',\n                      lineHeight: 1.3,\n                      whiteSpace: 'nowrap',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis'\n                    }}>\n                      {file.title}\n                    </h3>\n\n                    <p style={{\n                      fontSize: '0.9rem',\n                      color: '#64748b',\n                      marginBottom: '1rem',\n                      fontFamily: 'var(--font-body)',\n                      lineHeight: 1.4\n                    }}>\n                      {file.type === 'image' ? ' ' : 'PDF '}\n                    </p>\n\n                    {/*    */}\n                    <div style={{\n                      display: 'flex',\n                      gap: '0.5rem',\n                      marginTop: '1rem'\n                    }}>\n                      <div style={{\n                        background: 'rgba(59, 130, 246, 0.1)',\n                        color: '#3b82f6',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '8px',\n                        fontSize: '0.8rem',\n                        fontWeight: '600',\n                        fontFamily: 'var(--font-ui)',\n                        border: '1px solid rgba(59, 130, 246, 0.2)'\n                      }}>\n                         \n                      </div>\n                      <div style={{\n                        background: 'rgba(16, 185, 129, 0.1)',\n                        color: '#10b981',\n                        padding: '0.5rem 1rem',\n                        borderRadius: '8px',\n                        fontSize: '0.8rem',\n                        fontWeight: '600',\n                        fontFamily: 'var(--font-ui)',\n                        border: '1px solid rgba(16, 185, 129, 0.2)'\n                      }}>\n                        AI \n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n\n            {/*   */}\n            {filteredFiles.length === 0 && (\n              <div style={{\n                textAlign: 'center',\n                padding: '3rem',\n                color: 'white'\n              }}>\n                <svg\n                  width=\"64\"\n                  height=\"64\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"1\"\n                  style={{ margin: '0 auto 1rem', opacity: 0.5 }}\n                >\n                  <circle cx=\"11\" cy=\"11\" r=\"8\"/>\n                  <path d=\"m21 21-4.35-4.35\"/>\n                </svg>\n                <h3 style={{\n                  fontSize: '1.25rem',\n                  fontWeight: '600',\n                  marginBottom: '0.5rem',\n                  fontFamily: 'var(--font-title)'\n                }}>\n                    \n                </h3>\n                <p style={{\n                  fontSize: '1rem',\n                  opacity: 0.8,\n                  fontFamily: 'var(--font-body)'\n                }}>\n                    \n                </p>\n              </div>\n            )}\n          </>\n        ) : (\n          /*    - TeacherSubmissionPage    */\n          <TeacherSubmissionPage \n            onBackToBookList={() => setActiveTab('books')}\n            onViewSubmission={(submission) => {\n              //      \n              onGoToSubmissions(submission);\n            }}\n          />\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default TeacherBookListPage;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\n\nconst TeacherAnnotationViewer = ({ \n  submission, \n  onBackToSubmissions, \n  onSaveFeedback \n}) => {\n  const canvasRef = useRef(null);\n  const markupCanvasRef = useRef(null);\n  const audioRef = useRef(null);\n  const imageRef = useRef(null);\n  \n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [zoomScale, setZoomScale] = useState(1.0);\n  \n  //   \n  const [selectedTool, setSelectedTool] = useState('pen');\n  const [selectedColor, setSelectedColor] = useState('#ef4444');\n  const [brushSize, setBrushSize] = useState(3);\n  \n  //  \n  const [isDrawing, setIsDrawing] = useState(false);\n  const [lastPos, setLastPos] = useState({ x: 0, y: 0 });\n  const [currentPath, setCurrentPath] = useState([]);\n  \n  //  \n  const [teacherAnnotations, setTeacherAnnotations] = useState([]);\n  const [showStudentWork, setShowStudentWork] = useState(true);\n  const [showTeacherAnnotations, setShowTeacherAnnotations] = useState(true);\n  \n  //   \n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  //     \n  const createStudentWorkImage = useCallback(() => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    //    (A4 )\n    canvas.width = 800;\n    canvas.height = 1000;\n    \n    //  ()\n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    \n    //  \n    ctx.fillStyle = '#1e3a8a';\n    ctx.font = 'bold 24px Arial';\n    ctx.textAlign = 'center';\n    ctx.fillText(submission?.bookTitle || '  ', canvas.width / 2, 50);\n    \n    //  \n    ctx.fillStyle = '#64748b';\n    ctx.font = '16px Arial';\n    ctx.textAlign = 'left';\n    ctx.fillText(`: ${submission?.studentName || ''}`, 50, 100);\n    \n    //  \n    ctx.fillStyle = '#374151';\n    ctx.font = '18px Arial';\n    ctx.fillText(' 1.   .', 50, 150);\n    ctx.fillText('2x + 3y = 12', 50, 180);\n    ctx.fillText('x - y = 1', 50, 210);\n    \n    //    ()\n    ctx.strokeStyle = '#6b7280';\n    ctx.lineWidth = 3;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    \n    //   \n    ctx.beginPath();\n    ctx.moveTo(100, 250);\n    ctx.lineTo(200, 250);\n    ctx.stroke();\n    \n    ctx.beginPath();\n    ctx.moveTo(100, 280);\n    ctx.lineTo(300, 280);\n    ctx.stroke();\n    \n    //   \n    ctx.fillStyle = '#6b7280';\n    ctx.font = '16px Arial';\n    ctx.fillText('x = 3, y = 2', 100, 320);\n    \n    //  \n    ctx.fillStyle = '#374151';\n    ctx.font = '18px Arial';\n    ctx.fillText(' 2.  .', 50, 400);\n    \n    //    ( )\n    ctx.strokeStyle = '#6b7280';\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.moveTo(100, 500);\n    ctx.lineTo(300, 500);\n    ctx.moveTo(200, 400);\n    ctx.lineTo(200, 600);\n    ctx.stroke();\n    \n    //  \n    ctx.fillStyle = '#6b7280';\n    ctx.font = '14px Arial';\n    ctx.fillText('x', 310, 500);\n    ctx.fillText('y', 200, 390);\n    \n    return canvas.toDataURL();\n  }, [submission]);\n\n  //  \n  useEffect(() => {\n    if (submission) {\n      setImageLoaded(false);\n      const imageDataUrl = createStudentWorkImage();\n      const img = new Image();\n      img.onload = () => {\n        setImageLoaded(true);\n        renderImage(img);\n      };\n      img.src = imageDataUrl;\n    }\n  }, [submission, createStudentWorkImage]);\n\n  //  \n  const renderImage = useCallback((img) => {\n    const canvas = canvasRef.current;\n    const markupCanvas = markupCanvasRef.current;\n    \n    if (canvas && markupCanvas && img) {\n      const scale = zoomScale || 1.0;\n      const width = img.width * scale;\n      const height = img.height * scale;\n      \n      //   \n      canvas.width = width;\n      canvas.height = height;\n      \n      //   \n      markupCanvas.width = width;\n      markupCanvas.height = height;\n      \n      //  \n      const context = canvas.getContext('2d');\n      context.imageSmoothingEnabled = true;\n      context.imageSmoothingQuality = 'high';\n      context.drawImage(img, 0, 0, width, height);\n      \n      //   \n      redrawAnnotations();\n    }\n  }, [zoomScale]);\n\n  //      \n  useEffect(() => {\n    if (imageLoaded && submission) {\n      const imageDataUrl = createStudentWorkImage();\n      const img = new Image();\n      img.onload = () => {\n        renderImage(img);\n      };\n      img.src = imageDataUrl;\n    }\n  }, [zoomScale, imageLoaded, submission, createStudentWorkImage, renderImage]);\n\n  // /  \n  const getEventPos = useCallback((e) => {\n    const canvas = markupCanvasRef.current;\n    if (!canvas) return { x: 0, y: 0 };\n    \n    const rect = canvas.getBoundingClientRect();\n    const clientX = e.touches ? e.touches[0].clientX : e.clientX;\n    const clientY = e.touches ? e.touches[0].clientY : e.clientY;\n    \n    const x = Math.max(0, Math.min(canvas.width, clientX - rect.left));\n    const y = Math.max(0, Math.min(canvas.height, clientY - rect.top));\n    \n    return { x, y };\n  }, []);\n\n  //  \n  const startDrawing = useCallback((e) => {\n    if (['pen', 'highlighter', 'eraser'].includes(selectedTool)) {\n      e.preventDefault();\n      setIsDrawing(true);\n      const pos = getEventPos(e);\n      setLastPos(pos);\n      setCurrentPath([pos]);\n    }\n  }, [selectedTool, getEventPos]);\n\n  //  \n  const draw = useCallback((e) => {\n    if (isDrawing && ['pen', 'highlighter'].includes(selectedTool)) {\n      e.preventDefault();\n      const pos = getEventPos(e);\n      const canvas = markupCanvasRef.current;\n      \n      if (canvas) {\n        const context = canvas.getContext('2d');\n        \n        context.save();\n        context.lineWidth = brushSize;\n        context.lineCap = 'round';\n        context.lineJoin = 'round';\n        \n        if (selectedTool === 'highlighter') {\n          context.globalAlpha = 0.3;\n          context.globalCompositeOperation = 'multiply';\n        } else {\n          context.globalAlpha = 1;\n          context.globalCompositeOperation = 'source-over';\n        }\n        \n        context.strokeStyle = selectedColor;\n        \n        context.beginPath();\n        context.moveTo(lastPos.x, lastPos.y);\n        context.lineTo(pos.x, pos.y);\n        context.stroke();\n        \n        setCurrentPath(prev => [...prev, pos]);\n        setLastPos(pos);\n        \n        context.restore();\n      }\n    } else if (isDrawing && selectedTool === 'eraser') {\n      e.preventDefault();\n      const pos = getEventPos(e);\n      const canvas = markupCanvasRef.current;\n      \n      if (canvas) {\n        const context = canvas.getContext('2d');\n        const eraseSize = brushSize * 2;\n        \n        context.save();\n        context.globalCompositeOperation = 'destination-out';\n        context.beginPath();\n        context.arc(pos.x, pos.y, eraseSize/2, 0, 2 * Math.PI);\n        context.fill();\n        context.restore();\n      }\n    }\n  }, [isDrawing, selectedTool, getEventPos, lastPos, brushSize, selectedColor]);\n\n  //  \n  const stopDrawing = useCallback(() => {\n    if (isDrawing && currentPath.length > 1) {\n      const newAnnotation = {\n        type: 'stroke',\n        tool: selectedTool,\n        color: selectedColor,\n        brushSize: brushSize,\n        points: currentPath,\n        timestamp: new Date().toISOString()\n      };\n      \n      setTeacherAnnotations(prev => [...prev, newAnnotation]);\n    }\n    \n    setIsDrawing(false);\n    setCurrentPath([]);\n  }, [isDrawing, currentPath, selectedTool, selectedColor, brushSize]);\n\n  //   \n  const redrawAnnotations = useCallback(() => {\n    const canvas = markupCanvasRef.current;\n    if (!canvas) return;\n    \n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    \n    //    ()\n    if (showStudentWork && submission?.strokeData) {\n      context.save();\n      context.globalAlpha = 0.7;\n      context.strokeStyle = '#6b7280';\n      context.lineWidth = 2;\n      context.lineCap = 'round';\n      context.lineJoin = 'round';\n      \n      submission.strokeData.forEach(stroke => {\n        if (stroke.points.length > 1) {\n          context.beginPath();\n          context.moveTo(stroke.points[0].x, stroke.points[0].y);\n          for (let i = 1; i < stroke.points.length; i++) {\n            context.lineTo(stroke.points[i].x, stroke.points[i].y);\n          }\n          context.stroke();\n        }\n      });\n      context.restore();\n    }\n    \n    //    ( )\n    if (showTeacherAnnotations) {\n      teacherAnnotations.forEach(annotation => {\n        if (annotation.type === 'stroke' && annotation.points.length > 1) {\n          context.save();\n          context.strokeStyle = annotation.color;\n          context.lineWidth = annotation.brushSize;\n          context.lineCap = 'round';\n          context.lineJoin = 'round';\n          \n          if (annotation.tool === 'highlighter') {\n            context.globalAlpha = 0.3;\n            context.globalCompositeOperation = 'multiply';\n          } else {\n            context.globalAlpha = 1;\n            context.globalCompositeOperation = 'source-over';\n          }\n          \n          context.beginPath();\n          context.moveTo(annotation.points[0].x, annotation.points[0].y);\n          for (let i = 1; i < annotation.points.length; i++) {\n            context.lineTo(annotation.points[i].x, annotation.points[i].y);\n          }\n          context.stroke();\n          context.restore();\n        }\n      });\n    }\n  }, [submission?.strokeData, teacherAnnotations, showStudentWork, showTeacherAnnotations]);\n\n  //    (  )\n  useEffect(() => {\n    redrawAnnotations();\n  }, [redrawAnnotations]);\n\n  //   \n  const handleAudioPlay = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      if (isPlaying) {\n        audio.pause();\n        setIsPlaying(false);\n      } else {\n        audio.play();\n        setIsPlaying(true);\n      }\n    }\n  };\n\n  //   \n  const handleTimeUpdate = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      setCurrentTime(audio.currentTime);\n    }\n  };\n\n  //   \n  const handleLoadedMetadata = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      setDuration(audio.duration);\n    }\n  };\n\n  //  \n  const handleAudioEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n\n  //  \n  const formatTime = (seconds) => {\n    if (isNaN(seconds) || !isFinite(seconds) || seconds < 0) {\n      return '0:00';\n    }\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  //  \n  const handleSaveFeedback = () => {\n    if (teacherAnnotations.length === 0) {\n      alert('  .');\n      return;\n    }\n    \n    const feedback = {\n      id: Date.now(),\n      teacherId: 'teacher1',\n      teacherName: '',\n      timestamp: new Date().toISOString(),\n      feedbackStrokeData: teacherAnnotations,\n      studentSubmissionId: submission.id,\n      bookTitle: submission.bookTitle,\n      bookUrl: submission.bookUrl\n    };\n    \n    if (onSaveFeedback) {\n      onSaveFeedback(feedback);\n    }\n    \n    alert(' !');\n  };\n\n  //  \n  const handleZoomIn = () => {\n    setZoomScale(prev => Math.min(prev + 0.2, 3.0));\n  };\n\n  const handleZoomOut = () => {\n    setZoomScale(prev => Math.max(prev - 0.2, 0.5));\n  };\n\n  if (!submission) {\n    return (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}>\n        <div style={{ textAlign: 'center', color: '#64748b' }}>\n          <h2> </h2>\n          <p>     .</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)',\n      fontFamily: 'var(--font-body)'\n    }}>\n      {/*  */}\n      <header style={{\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderBottom: '2px solid rgba(59, 130, 246, 0.3)',\n        padding: '1rem 2rem',\n        boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)'\n      }}>\n        <div style={{\n          maxWidth: '1400px',\n          margin: '0 auto',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          }}>\n            <button\n              onClick={onBackToSubmissions}\n              style={{\n                background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                transition: 'all 0.2s ease'\n              }}\n            >\n                \n            </button>\n            \n            <div>\n              <h1 style={{\n                color: '#1e3a8a',\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                fontFamily: 'var(--font-title)',\n                margin: '0 0 0.25rem 0'\n              }}>\n                 - {submission.studentName}\n              </h1>\n              <p style={{\n                color: '#64748b',\n                fontSize: '0.9rem',\n                margin: '0',\n                fontFamily: 'var(--font-body)'\n              }}>\n                {submission.bookTitle}\n              </p>\n            </div>\n          </div>\n          \n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          }}>\n            <button\n              onClick={handleSaveFeedback}\n              style={{\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                transition: 'all 0.2s ease',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem'\n              }}\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"/>\n              </svg>\n               \n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/*   */}\n      <div style={{\n        display: 'flex',\n        height: 'calc(100vh - 80px)',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}>\n        {/* : PDF  */}\n        <div style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          padding: '1rem'\n        }}>\n          {/*  */}\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '12px',\n            padding: '1rem',\n            marginBottom: '1rem',\n            boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)',\n            border: '1px solid rgba(59, 130, 246, 0.2)'\n          }}>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem',\n              flexWrap: 'wrap'\n            }}>\n              {/*   */}\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                background: 'rgba(59, 130, 246, 0.1)',\n                padding: '0.5rem',\n                borderRadius: '8px'\n              }}>\n                <button\n                  onClick={handleZoomOut}\n                  disabled={zoomScale <= 0.5}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(59, 130, 246, 0.3)',\n                    background: zoomScale <= 0.5 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: zoomScale <= 0.5 ? '#9ca3af' : '#3b82f6',\n                    cursor: zoomScale <= 0.5 ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M19 13H5v-2h14v2z\"/>\n                  </svg>\n                </button>\n                \n                <span style={{\n                  fontSize: '0.875rem',\n                  color: '#1e3a8a',\n                  fontFamily: 'var(--font-ui)',\n                  minWidth: '60px',\n                  textAlign: 'center'\n                }}>\n                  {Math.round(zoomScale * 100)}%\n                </span>\n                \n                <button\n                  onClick={handleZoomIn}\n                  disabled={zoomScale >= 3.0}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(59, 130, 246, 0.3)',\n                    background: zoomScale >= 3.0 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: zoomScale >= 3.0 ? '#9ca3af' : '#3b82f6',\n                    cursor: zoomScale >= 3.0 ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n                  </svg>\n                </button>\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', gap: '0.5rem' }}>\n                {[\n                  { tool: 'pen', label: '' },\n                  { tool: 'highlighter', label: '' },\n                  { tool: 'eraser', label: '' }\n                ].map(({ tool, label }) => (\n                  <button\n                    key={tool}\n                    onClick={() => setSelectedTool(tool)}\n                    style={{\n                      padding: '0.5rem',\n                      borderRadius: '8px',\n                      border: selectedTool === tool ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                      background: selectedTool === tool ? 'rgba(59, 130, 246, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                      color: selectedTool === tool ? '#1e3a8a' : '#64748b',\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem'\n                    }}\n                    title={label}\n                  >\n                    <span style={{ fontSize: '0.875rem' }}>{label}</span>\n                  </button>\n                ))}\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <span style={{ color: '#1e3a8a', fontSize: '0.9rem' }}>:</span>\n                <div style={{ display: 'flex', gap: '0.25rem' }}>\n                  {['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#000000'].map((color) => (\n                    <button\n                      key={color}\n                      onClick={() => setSelectedColor(color)}\n                      style={{\n                        width: '24px',\n                        height: '24px',\n                        borderRadius: '50%',\n                        border: selectedColor === color ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                        background: color,\n                        cursor: 'pointer',\n                        transition: 'all 0.2s ease'\n                      }}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <span style={{ color: '#1e3a8a', fontSize: '0.9rem' }}>:</span>\n                <select\n                  value={brushSize}\n                  onChange={(e) => setBrushSize(Number(e.target.value))}\n                  style={{\n                    background: 'rgba(255, 255, 255, 0.8)',\n                    color: '#1e3a8a',\n                    border: '1px solid rgba(59, 130, 246, 0.3)',\n                    borderRadius: '6px',\n                    padding: '0.25rem 0.5rem',\n                    fontSize: '0.9rem'\n                  }}\n                >\n                  <option value={1}>1px</option>\n                  <option value={3}>3px</option>\n                  <option value={5}>5px</option>\n                  <option value={8}>8px</option>\n                  <option value={12}>12px</option>\n                </select>\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <button\n                  onClick={() => setShowStudentWork(!showStudentWork)}\n                  style={{\n                    padding: '0.5rem',\n                    borderRadius: '8px',\n                    border: showStudentWork ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                    background: showStudentWork ? 'rgba(59, 130, 246, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                    color: showStudentWork ? '#1e3a8a' : '#64748b',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                    fontSize: '0.875rem'\n                  }}\n                >\n                   \n                </button>\n                <button\n                  onClick={() => setShowTeacherAnnotations(!showTeacherAnnotations)}\n                  style={{\n                    padding: '0.5rem',\n                    borderRadius: '8px',\n                    border: showTeacherAnnotations ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                    background: showTeacherAnnotations ? 'rgba(59, 130, 246, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                    color: showTeacherAnnotations ? '#1e3a8a' : '#64748b',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                    fontSize: '0.875rem'\n                  }}\n                >\n                   \n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/*   */}\n          <div style={{\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            background: 'rgba(255, 255, 255, 0.95)',\n            borderRadius: '12px',\n            boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)',\n            border: '1px solid rgba(59, 130, 246, 0.2)',\n            position: 'relative',\n            overflow: 'auto'\n          }}>\n            {!imageLoaded && (\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '400px',\n                flexDirection: 'column',\n                gap: '1rem'\n              }}>\n                <div style={{\n                  width: '40px',\n                  height: '40px',\n                  border: '4px solid #e2e8f0',\n                  borderTop: '4px solid #3b82f6',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }}></div>\n                <span style={{ color: '#6b7280', fontSize: '1rem' }}>   ...</span>\n              </div>\n            )}\n            \n            {imageLoaded && (\n              <div style={{ position: 'relative' }}>\n                <canvas\n                  ref={canvasRef}\n                  style={{\n                    border: '2px solid #e2e8f0',\n                    borderRadius: '8px',\n                    boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',\n                    backgroundColor: 'white',\n                    display: 'block',\n                    position: 'relative',\n                    zIndex: 1\n                  }}\n                />\n                <canvas\n                  ref={markupCanvasRef}\n                  style={{\n                    position: 'absolute',\n                    top: 0,\n                    left: 0,\n                    cursor: selectedTool === 'pen' ? 'crosshair' : selectedTool === 'highlighter' ? 'crosshair' : 'grab',\n                    borderRadius: '8px',\n                    zIndex: 2,\n                    backgroundColor: 'transparent',\n                    pointerEvents: 'auto'\n                  }}\n                  onMouseDown={startDrawing}\n                  onMouseMove={draw}\n                  onMouseUp={stopDrawing}\n                  onMouseLeave={stopDrawing}\n                  onTouchStart={startDrawing}\n                  onTouchMove={draw}\n                  onTouchEnd={stopDrawing}\n                />\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* :     */}\n        <div style={{\n          width: '350px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderRadius: '12px',\n          padding: '1.5rem',\n          margin: '1rem',\n          boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)',\n          border: '1px solid rgba(59, 130, 246, 0.2)',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1.5rem'\n        }}>\n          {/*   */}\n          <div>\n            <h3 style={{\n              color: '#1e3a8a',\n              fontSize: '1.1rem',\n              fontWeight: 'bold',\n              margin: '0 0 0.5rem 0',\n              fontFamily: 'var(--font-title)'\n            }}>\n               \n            </h3>\n            <div style={{\n              background: 'rgba(59, 130, 246, 0.1)',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: '1px solid rgba(59, 130, 246, 0.2)'\n            }}>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {submission.studentName}\n              </p>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {submission.bookTitle}\n              </p>\n              <p style={{ margin: '0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {new Date(submission.submittedAt).toLocaleString('ko-KR')}\n              </p>\n            </div>\n          </div>\n\n          {/*   */}\n          {submission.audioUrl && (\n            <div>\n              <h3 style={{\n                color: '#1e3a8a',\n                fontSize: '1.1rem',\n                fontWeight: 'bold',\n                margin: '0 0 0.5rem 0',\n                fontFamily: 'var(--font-title)'\n              }}>\n                 \n              </h3>\n              <div style={{\n                background: 'rgba(16, 185, 129, 0.1)',\n                padding: '1rem',\n                borderRadius: '8px',\n                border: '1px solid rgba(16, 185, 129, 0.2)'\n              }}>\n                <audio\n                  ref={audioRef}\n                  src={submission.audioUrl}\n                  onTimeUpdate={handleTimeUpdate}\n                  onLoadedMetadata={handleLoadedMetadata}\n                  onEnded={handleAudioEnded}\n                  style={{ display: 'none' }}\n                />\n                \n                <button\n                  onClick={handleAudioPlay}\n                  style={{\n                    background: isPlaying ? 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)' : 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '8px',\n                    padding: '0.75rem 1rem',\n                    cursor: 'pointer',\n                    fontSize: '0.9rem',\n                    fontWeight: '600',\n                    transition: 'all 0.2s ease',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem',\n                    width: '100%',\n                    justifyContent: 'center',\n                    marginBottom: '1rem'\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    {isPlaying ? (\n                      <path d=\"M6 4h4v16H6V4zm8 0h4v16h-4V4z\"/>\n                    ) : (\n                      <path d=\"M8 5v14l11-7z\"/>\n                    )}\n                  </svg>\n                  {isPlaying ? '' : ''}\n                </button>\n                \n                <div style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  fontSize: '0.8rem',\n                  color: '#64748b',\n                  marginBottom: '0.5rem'\n                }}>\n                  <span>{formatTime(currentTime)}</span>\n                  <span>{formatTime(duration)}</span>\n                </div>\n                \n                <div style={{\n                  width: '100%',\n                  height: '4px',\n                  background: '#e5e7eb',\n                  borderRadius: '2px',\n                  overflow: 'hidden'\n                }}>\n                  <div style={{\n                    width: `${duration > 0 ? (currentTime / duration) * 100 : 0}%`,\n                    height: '100%',\n                    background: 'linear-gradient(90deg, #10b981, #059669)',\n                    transition: 'width 0.1s ease'\n                  }}></div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/*   */}\n          <div>\n            <h3 style={{\n              color: '#1e3a8a',\n              fontSize: '1.1rem',\n              fontWeight: 'bold',\n              margin: '0 0 0.5rem 0',\n              fontFamily: 'var(--font-title)'\n            }}>\n               \n            </h3>\n            <div style={{\n              background: 'rgba(139, 92, 246, 0.1)',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: '1px solid rgba(139, 92, 246, 0.2)'\n            }}>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong> :</strong> {teacherAnnotations.length}\n              </p>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong> :</strong> {submission.strokeData?.length || 0}\n              </p>\n              <p style={{ margin: '0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {submission.audioUrl ? '' : ''}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* CSS  */}\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default TeacherAnnotationViewer;\n","import React, { useState, useRef, useEffect, useCallback } from 'react';\n\nconst StudentFeedbackViewer = ({ \n  feedback, \n  onBackToStudentPage \n}) => {\n  const canvasRef = useRef(null);\n  const audioRef = useRef(null);\n  const imageRef = useRef(null);\n  \n  const [imageLoaded, setImageLoaded] = useState(false);\n  const [zoomScale, setZoomScale] = useState(1.0);\n  \n  //   \n  const [showStudentWork, setShowStudentWork] = useState(true);\n  const [showTeacherFeedback, setShowTeacherFeedback] = useState(true);\n  \n  //   \n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n\n  //    +    \n  const createFeedbackImage = useCallback(() => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    //    (A4 )\n    canvas.width = 800;\n    canvas.height = 1000;\n    \n    //  ()\n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    \n    //  \n    ctx.fillStyle = '#1e3a8a';\n    ctx.font = 'bold 24px Arial';\n    ctx.textAlign = 'center';\n    ctx.fillText(feedback?.bookTitle || '  ', canvas.width / 2, 50);\n    \n    //  \n    ctx.fillStyle = '#64748b';\n    ctx.font = '16px Arial';\n    ctx.textAlign = 'left';\n    ctx.fillText(`: ${feedback?.studentName || ''}`, 50, 100);\n    \n    //  \n    ctx.fillStyle = '#374151';\n    ctx.font = '18px Arial';\n    ctx.fillText(' 1.   .', 50, 150);\n    ctx.fillText('2x + 3y = 12', 50, 180);\n    ctx.fillText('x - y = 1', 50, 210);\n    \n    //   ()\n    if (showStudentWork) {\n      ctx.strokeStyle = '#6b7280';\n      ctx.lineWidth = 3;\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n      \n      //   \n      ctx.beginPath();\n      ctx.moveTo(100, 250);\n      ctx.lineTo(200, 250);\n      ctx.stroke();\n      \n      ctx.beginPath();\n      ctx.moveTo(100, 280);\n      ctx.lineTo(300, 280);\n      ctx.stroke();\n      \n      //   \n      ctx.fillStyle = '#6b7280';\n      ctx.font = '16px Arial';\n      ctx.fillText('x = 3, y = 2', 100, 320);\n    }\n    \n    //   ()\n    if (showTeacherFeedback) {\n      ctx.strokeStyle = '#ef4444';\n      ctx.lineWidth = 2;\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n      \n      //    \n      ctx.beginPath();\n      ctx.moveTo(95, 245);\n      ctx.lineTo(205, 245);\n      ctx.stroke();\n      \n      ctx.beginPath();\n      ctx.moveTo(95, 275);\n      ctx.lineTo(305, 275);\n      ctx.stroke();\n      \n      //   \n      ctx.fillStyle = '#ef4444';\n      ctx.font = 'bold 14px Arial';\n      ctx.fillText(' !', 320, 320);\n      \n      //  \n      ctx.fillStyle = '#374151';\n      ctx.font = '18px Arial';\n      ctx.fillText(' 2.  .', 50, 400);\n      \n      //    ()\n      if (showStudentWork) {\n        ctx.strokeStyle = '#6b7280';\n        ctx.lineWidth = 2;\n        ctx.beginPath();\n        ctx.moveTo(100, 500);\n        ctx.lineTo(300, 500);\n        ctx.moveTo(200, 400);\n        ctx.lineTo(200, 600);\n        ctx.stroke();\n        \n        //  \n        ctx.fillStyle = '#6b7280';\n        ctx.font = '14px Arial';\n        ctx.fillText('x', 310, 500);\n        ctx.fillText('y', 200, 390);\n      }\n      \n      //   ()\n      ctx.strokeStyle = '#ef4444';\n      ctx.lineWidth = 3;\n      ctx.beginPath();\n      ctx.moveTo(95, 495);\n      ctx.lineTo(305, 495);\n      ctx.moveTo(195, 395);\n      ctx.lineTo(195, 605);\n      ctx.stroke();\n      \n      //  \n      ctx.fillStyle = '#ef4444';\n      ctx.font = 'bold 14px Arial';\n      ctx.fillText('!   .', 320, 520);\n      \n      //  \n      ctx.fillStyle = '#3b82f6';\n      ctx.font = '16px Arial';\n      ctx.fillText(' :     !', 50, 650);\n      \n      //  \n      ctx.fillStyle = '#10b981';\n      ctx.font = 'bold 18px Arial';\n      ctx.fillText(' !   !', 50, 700);\n    }\n    \n    return canvas.toDataURL();\n  }, [feedback, showStudentWork, showTeacherFeedback]);\n\n  //  \n  useEffect(() => {\n    if (feedback) {\n      setImageLoaded(false);\n      const imageDataUrl = createFeedbackImage();\n      const img = new Image();\n      img.onload = () => {\n        setImageLoaded(true);\n        renderImage(img);\n      };\n      img.src = imageDataUrl;\n    }\n  }, [feedback, createFeedbackImage]);\n\n  //  \n  const renderImage = useCallback((img) => {\n    const canvas = canvasRef.current;\n    \n    if (canvas && img) {\n      const scale = zoomScale || 1.0;\n      const width = img.width * scale;\n      const height = img.height * scale;\n      \n      canvas.width = width;\n      canvas.height = height;\n      \n      const context = canvas.getContext('2d');\n      context.imageSmoothingEnabled = true;\n      context.imageSmoothingQuality = 'high';\n      context.drawImage(img, 0, 0, width, height);\n    }\n  }, [zoomScale]);\n\n  //      \n  useEffect(() => {\n    if (imageLoaded && feedback) {\n      const imageDataUrl = createFeedbackImage();\n      const img = new Image();\n      img.onload = () => {\n        renderImage(img);\n      };\n      img.src = imageDataUrl;\n    }\n  }, [zoomScale, imageLoaded, feedback, createFeedbackImage, renderImage]);\n\n  //  \n  const handleZoomIn = () => {\n    setZoomScale(prev => Math.min(prev + 0.2, 3.0));\n  };\n\n  const handleZoomOut = () => {\n    setZoomScale(prev => Math.max(prev - 0.2, 0.5));\n  };\n\n  //   \n  const handleAudioPlay = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      if (isPlaying) {\n        audio.pause();\n        setIsPlaying(false);\n      } else {\n        audio.play();\n        setIsPlaying(true);\n      }\n    }\n  };\n\n  //   \n  const handleTimeUpdate = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      setCurrentTime(audio.currentTime);\n    }\n  };\n\n  //   \n  const handleLoadedMetadata = () => {\n    const audio = audioRef.current;\n    if (audio) {\n      setDuration(audio.duration);\n    }\n  };\n\n  //  \n  const handleAudioEnded = () => {\n    setIsPlaying(false);\n    setCurrentTime(0);\n  };\n\n  //  \n  const formatTime = (seconds) => {\n    if (isNaN(seconds) || !isFinite(seconds) || seconds < 0) {\n      return '0:00';\n    }\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (!feedback) {\n    return (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100vh',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}>\n        <div style={{ textAlign: 'center', color: '#64748b' }}>\n          <h2> </h2>\n          <p>   .</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)',\n      fontFamily: 'var(--font-body)'\n    }}>\n      {/*  */}\n      <header style={{\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderBottom: '2px solid rgba(16, 185, 129, 0.3)',\n        padding: '1rem 2rem',\n        boxShadow: '0 4px 12px rgba(16, 185, 129, 0.2)'\n      }}>\n        <div style={{\n          maxWidth: '1400px',\n          margin: '0 auto',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          }}>\n            <button\n              onClick={onBackToStudentPage}\n              style={{\n                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.9rem',\n                fontWeight: '600',\n                transition: 'all 0.2s ease'\n              }}\n            >\n                \n            </button>\n            \n            <div>\n              <h1 style={{\n                color: '#1e3a8a',\n                fontSize: '1.5rem',\n                fontWeight: 'bold',\n                fontFamily: 'var(--font-title)',\n                margin: '0 0 0.25rem 0'\n              }}>\n                  \n              </h1>\n              <p style={{\n                color: '#64748b',\n                fontSize: '0.9rem',\n                margin: '0',\n                fontFamily: 'var(--font-body)'\n              }}>\n                {feedback.bookTitle}\n              </p>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/*   */}\n      <div style={{\n        display: 'flex',\n        height: 'calc(100vh - 80px)',\n        background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n      }}>\n        {/* :   */}\n        <div style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          padding: '1rem'\n        }}>\n          {/*  */}\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.95)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '12px',\n            padding: '1rem',\n            marginBottom: '1rem',\n            boxShadow: '0 4px 12px rgba(16, 185, 129, 0.2)',\n            border: '1px solid rgba(16, 185, 129, 0.2)'\n          }}>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem',\n              flexWrap: 'wrap'\n            }}>\n              {/*   */}\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                background: 'rgba(16, 185, 129, 0.1)',\n                padding: '0.5rem',\n                borderRadius: '8px'\n              }}>\n                <button\n                  onClick={handleZoomOut}\n                  disabled={zoomScale <= 0.5}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(16, 185, 129, 0.3)',\n                    background: zoomScale <= 0.5 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: zoomScale <= 0.5 ? '#9ca3af' : '#10b981',\n                    cursor: zoomScale <= 0.5 ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M19 13H5v-2h14v2z\"/>\n                  </svg>\n                </button>\n                \n                <span style={{\n                  fontSize: '0.875rem',\n                  color: '#1e3a8a',\n                  fontFamily: 'var(--font-ui)',\n                  minWidth: '60px',\n                  textAlign: 'center'\n                }}>\n                  {Math.round(zoomScale * 100)}%\n                </span>\n                \n                <button\n                  onClick={handleZoomIn}\n                  disabled={zoomScale >= 3.0}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(16, 185, 129, 0.3)',\n                    background: zoomScale >= 3.0 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: zoomScale >= 3.0 ? '#9ca3af' : '#10b981',\n                    cursor: zoomScale >= 3.0 ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"/>\n                  </svg>\n                </button>\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <button\n                  onClick={() => setShowStudentWork(!showStudentWork)}\n                  style={{\n                    padding: '0.5rem',\n                    borderRadius: '8px',\n                    border: showStudentWork ? '2px solid #10b981' : '2px solid rgba(16, 185, 129, 0.3)',\n                    background: showStudentWork ? 'rgba(16, 185, 129, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                    color: showStudentWork ? '#10b981' : '#64748b',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                    fontSize: '0.875rem'\n                  }}\n                >\n                   \n                </button>\n                <button\n                  onClick={() => setShowTeacherFeedback(!showTeacherFeedback)}\n                  style={{\n                    padding: '0.5rem',\n                    borderRadius: '8px',\n                    border: showTeacherFeedback ? '2px solid #ef4444' : '2px solid rgba(239, 68, 68, 0.3)',\n                    background: showTeacherFeedback ? 'rgba(239, 68, 68, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                    color: showTeacherFeedback ? '#ef4444' : '#64748b',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                    fontSize: '0.875rem'\n                  }}\n                >\n                   \n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/*   */}\n          <div style={{\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            background: 'rgba(255, 255, 255, 0.95)',\n            borderRadius: '12px',\n            boxShadow: '0 4px 12px rgba(16, 185, 129, 0.2)',\n            border: '1px solid rgba(16, 185, 129, 0.2)',\n            position: 'relative',\n            overflow: 'auto'\n          }}>\n            {!imageLoaded && (\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '400px',\n                flexDirection: 'column',\n                gap: '1rem'\n              }}>\n                <div style={{\n                  width: '40px',\n                  height: '40px',\n                  border: '4px solid #e2e8f0',\n                  borderTop: '4px solid #10b981',\n                  borderRadius: '50%',\n                  animation: 'spin 1s linear infinite'\n                }}></div>\n                <span style={{ color: '#6b7280', fontSize: '1rem' }}>  ...</span>\n              </div>\n            )}\n            \n            {imageLoaded && (\n              <canvas\n                ref={canvasRef}\n                style={{\n                  border: '2px solid #e2e8f0',\n                  borderRadius: '8px',\n                  boxShadow: '0 10px 25px rgba(0, 0, 0, 0.1)',\n                  backgroundColor: 'white',\n                  display: 'block',\n                  position: 'relative',\n                  zIndex: 1\n                }}\n              />\n            )}\n          </div>\n        </div>\n\n        {/* :   */}\n        <div style={{\n          width: '350px',\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderRadius: '12px',\n          padding: '1.5rem',\n          margin: '1rem',\n          boxShadow: '0 4px 12px rgba(16, 185, 129, 0.2)',\n          border: '1px solid rgba(16, 185, 129, 0.2)',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1.5rem'\n        }}>\n          {/*   */}\n          <div>\n            <h3 style={{\n              color: '#1e3a8a',\n              fontSize: '1.1rem',\n              fontWeight: 'bold',\n              margin: '0 0 0.5rem 0',\n              fontFamily: 'var(--font-title)'\n            }}>\n               \n            </h3>\n            <div style={{\n              background: 'rgba(16, 185, 129, 0.1)',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: '1px solid rgba(16, 185, 129, 0.2)'\n            }}>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {feedback.bookTitle}\n              </p>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {new Date(feedback.timestamp).toLocaleString('ko-KR')}\n              </p>\n              <p style={{ margin: '0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong> {feedback.teacherName}\n              </p>\n            </div>\n          </div>\n\n          {/*   */}\n          <div>\n            <h3 style={{\n              color: '#1e3a8a',\n              fontSize: '1.1rem',\n              fontWeight: 'bold',\n              margin: '0 0 0.5rem 0',\n              fontFamily: 'var(--font-title)'\n            }}>\n               \n            </h3>\n            <div style={{\n              background: 'rgba(59, 130, 246, 0.1)',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: '1px solid rgba(59, 130, 246, 0.2)'\n            }}>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                marginBottom: '0.5rem'\n              }}>\n                <div style={{\n                  width: '20px',\n                  height: '3px',\n                  background: '#6b7280',\n                  borderRadius: '2px'\n                }}></div>\n                <span style={{ fontSize: '0.9rem', color: '#64748b' }}> </span>\n              </div>\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem'\n              }}>\n                <div style={{\n                  width: '20px',\n                  height: '3px',\n                  background: '#ef4444',\n                  borderRadius: '2px'\n                }}></div>\n                <span style={{ fontSize: '0.9rem', color: '#64748b' }}> </span>\n              </div>\n            </div>\n          </div>\n\n          {/*   */}\n          <div>\n            <h3 style={{\n              color: '#1e3a8a',\n              fontSize: '1.1rem',\n              fontWeight: 'bold',\n              margin: '0 0 0.5rem 0',\n              fontFamily: 'var(--font-title)'\n            }}>\n               \n            </h3>\n            <div style={{\n              background: 'rgba(139, 92, 246, 0.1)',\n              padding: '1rem',\n              borderRadius: '8px',\n              border: '1px solid rgba(139, 92, 246, 0.2)'\n            }}>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong>  !\n              </p>\n              <p style={{ margin: '0 0 0.5rem 0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong>  !\n              </p>\n              <p style={{ margin: '0', fontSize: '0.9rem', color: '#64748b' }}>\n                <strong>:</strong>   !\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* CSS  */}\n      <style jsx>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default StudentFeedbackViewer;\n","import React from 'react';\n\nconst MathProblemImage = ({ problem, width = 400, height = 300 }) => {\n  const problemTypes = {\n    '': {\n      title: ' 1)  ',\n      content: `  .\n      \n      (1) (3x + 2x - 1) + (2x - 3x + 4)\n      (2) (x + 2)(x - 3)\n      (3) (2x + 1)`,\n      answer: '(1) 5x - x + 3  (2) x - x - 6  (3) 4x + 4x + 1'\n    },\n    '': {\n      title: ' 2)  ',\n      content: `  .\n      \n      (1) x - 5x + 6 = 0\n      (2) 2x + 7x + 3 = 0\n      (3) x - 4 = 0`,\n      answer: '(1) x = 2, 3  (2) x = -3, -1/2  (3) x = 2'\n    },\n    '': {\n      title: ' 3)  ',\n      content: `     .\n      \n      (1) f(x) = 2x + 3\n      (2) g(x) = x - 4x + 3\n      (3) h(x) = -x + 2x + 1`,\n      answer: '(1)  2, y 3  (2)  (2, -1)  (3)  (1, 2)'\n    },\n    '': {\n      title: ' 4)  ',\n      content: `   .\n      \n      (1)  5cm  \n      (2)  8cm,  6cm  \n      (3)  10cm,  7cm  `,\n      answer: '(1) 25 cm  (2) 24 cm  (3) 70 cm'\n    },\n    '': {\n      title: ' 5)  ',\n      content: `  .\n      \n      (1)     3  \n      (2)        \n      (3) 1 10   3   `,\n      answer: '(1) 1/6  (2) 1/4  (3) 3/10'\n    }\n  };\n\n  const problemData = problemTypes[problem.type] || problemTypes[''];\n\n  return (\n    <div style={{\n      width: width,\n      height: height,\n      background: 'white',\n      border: '2px solid #e5e7eb',\n      borderRadius: '12px',\n      padding: '20px',\n      fontFamily: 'AppleMyungjo, serif',\n      fontSize: '14px',\n      lineHeight: '1.6',\n      color: '#374151',\n      boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n      position: 'relative',\n      overflow: 'hidden'\n    }}>\n      {/*   */}\n      <div style={{\n        position: 'absolute',\n        top: '8px',\n        right: '12px',\n        fontSize: '10px',\n        color: '#9ca3af',\n        fontWeight: '500'\n      }}>\n          2-1\n      </div>\n\n      {/*    */}\n      <div style={{\n        fontSize: '16px',\n        fontWeight: 'bold',\n        color: '#1f2937',\n        marginBottom: '16px',\n        paddingBottom: '8px',\n        borderBottom: '2px solid #3b82f6'\n      }}>\n        {problemData.title}\n      </div>\n\n      {/*   */}\n      <div style={{\n        fontSize: '12px',\n        color: '#6b7280',\n        marginBottom: '12px',\n        fontWeight: '500'\n      }}>\n        {problem.page} {problem.number}\n      </div>\n\n      {/*   */}\n      <div style={{\n        fontSize: '13px',\n        lineHeight: '1.8',\n        marginBottom: '16px',\n        whiteSpace: 'pre-line'\n      }}>\n        {problemData.content}\n      </div>\n\n      {/*   */}\n      <div style={{\n        background: '#f8fafc',\n        padding: '12px',\n        borderRadius: '8px',\n        border: '1px solid #e2e8f0',\n        fontSize: '12px',\n        fontFamily: 'monospace',\n        marginBottom: '12px'\n      }}>\n        <div style={{ marginBottom: '8px', fontWeight: 'bold', color: '#374151' }}>\n           :\n        </div>\n        <div style={{ color: '#1e40af' }}>\n          x + 2x + 1 = (x + 1)\n        </div>\n        <div style={{ color: '#dc2626', marginTop: '4px' }}>\n          f(x) = ax + bx + c\n        </div>\n      </div>\n\n      {/*   */}\n      <div style={{\n        position: 'absolute',\n        bottom: '8px',\n        right: '12px',\n        fontSize: '10px',\n        color: '#9ca3af',\n        fontStyle: 'italic'\n      }}>\n        : {problemData.answer}\n      </div>\n\n      {/*   */}\n      <div style={{\n        position: 'absolute',\n        bottom: '8px',\n        left: '12px',\n        fontSize: '10px',\n        color: '#9ca3af'\n      }}>\n        {problem.page}\n      </div>\n    </div>\n  );\n};\n\nexport default MathProblemImage;\n","import React, { useState } from \"react\";\nimport MathProblemImage from \"./MathProblemImage\";\n\n// Mock data\nconst MOCK_TEXTBOOKS = [\n  { id: \"bk1\", title: \"1 1 2022   _1_TEST\" },\n  { id: \"bk2\", title: \"1 2 2022   _2_TEST\" },\n  { id: \"bk3\", title: \"2 1 2022   _1_TEST\" },\n  { id: \"bk4\", title: \"    1 (M1)\" },\n];\n\nconst MOCK_PAGES = Array.from({ length: 40 }).map((_, i) =>\n  (i + 1).toString().padStart(4, \"0\")\n);\n\n//    \nconst generateProblems = () => {\n  const problems = [];\n  const problemTypes = [\n    {\n      type: \"\",\n      imageText: \"+1)++%0A%0A(3x+%2B+2x+-+1)+%2B+(2x+-+3x+%2B+4)\",\n      promptText: \" 1)   (3x + 2x - 1) + (2x - 3x + 4)\"\n    },\n    {\n      type: \"\",\n      imageText: \"+2)++%0A%0Ax+-+5x+%2B+6+%3D+0\",\n      promptText: \" 2)   x - 5x + 6 = 0\"\n    },\n    {\n      type: \"\",\n      imageText: \"+3)++%0A%0Af(x)+%3D+2x+%2B+3\",\n      promptText: \" 3)   f(x) = 2x + 3\"\n    },\n    {\n      type: \"\",\n      imageText: \"+4)++%0A%0A+5cm++\",\n      promptText: \" 4)    5cm  \"\n    },\n    {\n      type: \"\",\n      imageText: \"+5)++%0A%0A++++3++\",\n      promptText: \" 5)       3  \"\n    }\n  ];\n\n  for (let i = 1; i <= 100; i++) {\n    const pageNo = (20 + Math.floor(i / 5)).toString().padStart(4, \"0\");\n    const problemNo = i.toString().padStart(4, \"0\");\n    const problemType = problemTypes[i % problemTypes.length];\n    \n    problems.push({\n      id: `p-${pageNo}-${problemNo}`,\n      pageNo: pageNo,\n      problemNo: problemNo,\n      imageUrl: `https://placehold.co/640x260/ffffff/374151?text=${problemType.imageText}`,\n      promptText: problemType.promptText,\n      type: problemType.type\n    });\n  }\n  \n  return problems;\n};\n\nconst sampleProblem = {\n  id: \"p-0023-0001\",\n  pageNo: \"0023\",\n  problemNo: \"0001\",\n  imageUrl: \"https://placehold.co/640x260/ffffff/374151?text=01++++++.%0A%0A2%2C+9%2C+14%2C+23%2C+34%2C+47%2C+81\",\n  promptText: \"     . 2, 9, 14, 23, 34, 47, 81\",\n  type: \"\"\n};\n\nexport default function AdminPage() {\n  const [step, setStep] = useState(1);\n  const [bookId, setBookId] = useState(MOCK_TEXTBOOKS[0].id);\n  const [selectedPages, setSelectedPages] = useState([\"0023\"]);\n  const [problems, setProblems] = useState(generateProblems());\n  const [selectedProblemId, setSelectedProblemId] = useState(\"p-0020-0001\");\n  const [busy, setBusy] = useState(false);\n  const [aiResults, setAiResults] = useState({});\n  const [progress, setProgress] = useState(0);\n  const [showCompletionModal, setShowCompletionModal] = useState(false);\n\n  const selectedProblem = problems.find((p) => p.id === selectedProblemId) || problems[0];\n\n\n  const onTogglePage = (pg) => {\n    setSelectedPages((prev) => {\n      if (prev.includes(pg)) return prev.filter((p) => p !== pg);\n      const next = [...prev, pg];\n      return next.length > 20 ? prev : next;\n    });\n  };\n\n  const runAutoClassify = async () => {\n    setBusy(true);\n    setProgress(0);\n    \n    //  \n    const progressInterval = setInterval(() => {\n      setProgress(prev => {\n        if (prev >= 100) {\n          clearInterval(progressInterval);\n          return 100;\n        }\n        return prev + 10;\n      });\n    }, 300);\n    \n    //    AI   \n    const getMockResults = (problemType) => {\n      const results = {\n        : {\n          : \"3\",\n          : \" , 03, 3\",\n          : \"  \",\n          : \"     .  1    .\",\n          : \"2:  (1 2 )\\n9:  (33)\\n14:  (27)\\n23:  (1 23 )\\n34:  (217)\\n47:  (1 47 )\\n81:  (3333)\\n\\n  2, 23, 47  3.\"\n        },\n        : {\n          : \"4\",\n          : \"x=4\",\n          : \" \",\n          : \"    .         .\",\n          : \"2x + 5 = 13\\n2x = 13 - 5 ( 5 )\\n2x = 8\\nx = 4 ( 2 )\\n\\n x = 4.\"\n        },\n        : {\n          : \"12\",\n          : \"12cm, 12\",\n          : \"  \",\n          : \"  (  )  2  .\",\n          : \"  = (  )  2\\n= (6  4)  2\\n= 24  2\\n= 12\\n\\n   12cm.\"\n        },\n        : {\n          : \"2/3\",\n          : \"\",\n          : \" \",\n          : \"     .\",\n          : \"12/18    6.\\n12  6 = 2\\n18  6 = 3\\n\\n 12/18 = 2/3.\"\n        },\n        : {\n          : \"9\",\n          : \"x=9\",\n          : \" \",\n          : \"       .\",\n          : \"3:4 = x:12\\n  = 4  x = 4x\\n  = 3  12 = 36\\n4x = 36\\nx = 9\\n\\n x = 9.\"\n        }\n      };\n      \n      return results[problemType] || results.;\n    };\n    \n    //    AI  \n    const newResults = {};\n    problems.forEach(problem => {\n      const mockResults = getMockResults(problem.type);\n      newResults[problem.id] = mockResults;\n    });\n    \n    await new Promise((r) => setTimeout(r, 3000));\n    \n    setAiResults(prev => ({\n      ...prev,\n      ...newResults\n    }));\n    \n    setBusy(false);\n    setProgress(0);\n  };\n\n  const addProblem = () => {\n    const idx = problems.length + 1;\n    const pg = (23 + Math.floor(idx / 2)).toString().padStart(4, \"0\");\n    const pid = `p-${pg}-${idx.toString().padStart(4, \"0\")}`;\n    setProblems((prev) => [\n      ...prev,\n      { ...sampleProblem, id: pid, pageNo: pg, problemNo: idx.toString().padStart(4, \"0\") },\n    ]);\n  };\n\n  const containerStyle = {\n    minHeight: '100vh',\n    background: 'linear-gradient(135deg, #ffffff 0%, #f8fafc 50%, #f1f5f9 100%)',\n    fontFamily: 'NanumSquare, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n  };\n\n  const headerStyle = {\n    position: 'sticky',\n    top: 0,\n    background: 'rgba(255, 255, 255, 0.95)',\n    backdropFilter: 'blur(10px)',\n    borderBottom: '1px solid rgba(226, 232, 240, 0.8)',\n    zIndex: 100,\n    padding: '1rem 0'\n  };\n\n  const cardStyle = {\n    background: '#ffffff',\n    borderRadius: '12px',\n    padding: '24px',\n    boxShadow: '0 4px 6px rgba(0, 0, 0, 0.05)',\n    border: '1px solid rgba(226, 232, 240, 0.8)',\n    transition: 'all 0.3s ease'\n  };\n\n  const buttonStyle = {\n    padding: '12px 24px',\n    borderRadius: '12px',\n    border: 'none',\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n    cursor: 'pointer',\n    fontSize: '14px',\n    fontWeight: '600',\n    fontFamily: 'NanumSquare, sans-serif',\n    transition: 'all 0.3s ease',\n    boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)'\n  };\n\n  const primaryButtonStyle = {\n    ...buttonStyle,\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    boxShadow: '0 8px 25px rgba(102, 126, 234, 0.4)'\n  };\n\n  const secondaryButtonStyle = {\n    ...buttonStyle,\n    background: 'rgba(255, 255, 255, 0.9)',\n    color: '#667eea',\n    border: '2px solid rgba(102, 126, 234, 0.3)',\n    boxShadow: '0 4px 15px rgba(0, 0, 0, 0.1)'\n  };\n\n  return (\n    <div style={containerStyle}>\n      {/* Header */}\n      <header style={headerStyle}>\n        <div style={{ maxWidth: '1280px', margin: '0 auto', padding: '0 16px' }}>\n\n          {/* Single row header */}\n          <div style={{ \n            display: 'flex', \n            alignItems: 'center', \n            justifyContent: 'space-between',\n            gap: '20px', \n            padding: '16px 0',\n            flexWrap: 'wrap'\n          }}>\n            {/* Left side - Book info */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n              <button\n                onClick={() => setStep(1)}\n                style={{\n                  width: '32px',\n                  height: '32px',\n                  borderRadius: '8px',\n                  border: '1px solid #e5e7eb',\n                  background: 'white',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  color: '#667eea'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = '#f8fafc';\n                  e.target.style.borderColor = '#667eea';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = 'white';\n                  e.target.style.borderColor = '#e5e7eb';\n                }}\n              >\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                  <path d=\"M19 12H5M12 19l-7-7 7-7\"/>\n                </svg>\n              </button>\n              <div style={{ \n                padding: '8px 0px', \n                color: '#667eea', \n                fontWeight: '800',\n                fontFamily: 'NanumSquare, sans-serif',\n                maxWidth: '400px',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap'\n              }}>\n                {MOCK_TEXTBOOKS.find(b => b.id === bookId)?.title}\n              </div>\n              <div style={{ \n                padding: '8px 16px', \n                background: 'rgba(102, 126, 234, 0.1)', \n                color: '#667eea', \n                borderRadius: '12px',\n                fontWeight: '600',\n                border: '2px solid rgba(102, 126, 234, 0.2)'\n              }}>\n                 {problems.length} \n              </div>\n            </div>\n\n            {/* Right side - Action buttons */}\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '12px' \n            }}>\n              <button \n                onClick={runAutoClassify}\n                disabled={busy}\n                style={{\n                  background: busy ? \n                    'linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)' : \n                    'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  color: 'white',\n                  padding: '10px 20px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  borderRadius: '20px',\n                  border: 'none',\n                  cursor: busy ? 'not-allowed' : 'pointer',\n                  boxShadow: busy ? \n                    '0 4px 15px rgba(156, 163, 175, 0.3)' : \n                    '0 4px 15px rgba(16, 185, 129, 0.3)',\n                  transition: 'all 0.3s ease',\n                  opacity: busy ? 0.7 : 1\n                }}\n              >\n                {busy ? \"AI  ...\" : \"AI  \"}\n              </button>\n              <button style={{\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                color: 'white',\n                padding: '10px 20px',\n                fontSize: '14px',\n                fontWeight: '600',\n                borderRadius: '20px',\n                border: 'none',\n                cursor: 'pointer',\n                boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)',\n                transition: 'all 0.3s ease'\n              }}>\n                \n              </button>\n              <button \n                onClick={() => setShowCompletionModal(true)}\n                style={{\n                  background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n                  color: 'white',\n                  padding: '10px 20px',\n                  fontSize: '14px',\n                  fontWeight: '600',\n                  borderRadius: '20px',\n                  border: 'none',\n                  cursor: 'pointer',\n                  boxShadow: '0 4px 15px rgba(16, 185, 129, 0.3)',\n                  transition: 'all 0.3s ease'\n                }}\n              >\n                \n              </button>\n            </div>\n          </div>\n\n        </div>\n      </header>\n\n      <main style={{ maxWidth: '1280px', margin: '0 auto', padding: '24px 16px' }}>\n        {step === 1 && (\n          <div style={cardStyle}>\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '12px', \n              marginBottom: '24px' \n            }}>\n              <div style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '12px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '24px'\n              }}>A</div>\n              <div>\n                <h2 style={{ fontSize: '24px', fontWeight: '800', margin: 0, color: '#1f2937', fontFamily: 'NanumSquare, sans-serif' }}>\n                   \n                </h2>\n                <p style={{ fontSize: '14px', color: '#6b7280', margin: '4px 0 0 0', fontFamily: 'NanumSquare, sans-serif', fontWeight: '400' }}>\n                  AI    \n                </p>\n              </div>\n            </div>\n            \n            <div style={{ \n              display: 'grid', \n              gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))', \n              gap: '20px',\n              marginBottom: '24px'\n            }}>\n              {MOCK_TEXTBOOKS.map((b) => (\n                <button\n                  key={b.id}\n                  onClick={() => setBookId(b.id)}\n                  style={{\n                    textAlign: 'left',\n                    padding: '24px',\n                    borderRadius: '16px',\n                    border: bookId === b.id ? '3px solid #667eea' : '2px solid rgba(102, 126, 234, 0.2)',\n                    background: bookId === b.id \n                      ? 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)'\n                      : 'rgba(255, 255, 255, 0.9)',\n                    cursor: 'pointer',\n                    boxShadow: bookId === b.id \n                      ? '0 20px 40px rgba(102, 126, 234, 0.2)' \n                      : '0 8px 25px rgba(0, 0, 0, 0.1)',\n                    transition: 'all 0.3s ease',\n                    transform: bookId === b.id ? 'translateY(-4px)' : 'translateY(0)'\n                  }}\n                >\n                  <div style={{ \n                    display: 'flex', \n                    alignItems: 'center', \n                    gap: '12px', \n                    marginBottom: '12px' \n                  }}>\n                    <div style={{\n                      width: '40px',\n                      height: '40px',\n                      borderRadius: '10px',\n                      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: '18px'\n                    }}>B</div>\n                    <div style={{ fontSize: '12px', color: '#6b7280', fontWeight: '400', fontFamily: 'NanumSquare, sans-serif' }}>\n                      ID: {b.id}\n                    </div>\n                  </div>\n                  <div style={{ \n                    fontSize: '16px', \n                    fontWeight: '700', \n                    color: '#1f2937',\n                    lineHeight: '1.4',\n                    marginBottom: '8px',\n                    fontFamily: 'NanumSquare, sans-serif'\n                  }}>\n                    {b.title}\n                  </div>\n                  {bookId === b.id && (\n                    <div style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '8px',\n                      color: '#667eea',\n                      fontSize: '14px',\n                      fontWeight: '700',\n                      fontFamily: 'NanumSquare, sans-serif'\n                    }}>\n                      <span></span>\n                      <span></span>\n                    </div>\n                  )}\n                </button>\n              ))}\n            </div>\n            \n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              justifyContent: 'space-between',\n              padding: '20px',\n              background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',\n              borderRadius: '12px',\n              marginBottom: '24px'\n            }}>\n              <div>\n                <div style={{ fontSize: '14px', color: '#6b7280', marginBottom: '4px', fontFamily: 'NanumSquare, sans-serif', fontWeight: '400' }}>\n                    \n                </div>\n                <div style={{ fontSize: '16px', fontWeight: '700', color: '#1f2937', fontFamily: 'NanumSquare, sans-serif' }}>\n                  {MOCK_TEXTBOOKS.find(b => b.id === bookId)?.title}\n                </div>\n              </div>\n              <button \n                onClick={() => setStep(2)}\n                style={{\n                  ...primaryButtonStyle,\n                  padding: '12px 24px',\n                  fontSize: '16px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                }}\n              >\n                 :   \n              </button>\n            </div>\n          </div>\n        )}\n\n        {step === 2 && (\n          <div style={cardStyle}>\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '12px', \n              marginBottom: '24px' \n            }}>\n              <div style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '12px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '24px'\n              }}></div>\n              <div style={{ flex: 1 }}>\n                <h2 style={{ fontSize: '24px', fontWeight: 'bold', margin: 0, color: '#1f2937' }}>\n                   \n                </h2>\n                <p style={{ fontSize: '14px', color: '#6b7280', margin: '4px 0 0 0' }}>\n                  AI    ( 20)\n                </p>\n              </div>\n              <div style={{ \n                padding: '12px 20px',\n                background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',\n                borderRadius: '12px',\n                fontSize: '16px',\n                fontWeight: '600',\n                color: '#667eea'\n              }}>\n                {selectedPages.length} / 20 \n              </div>\n            </div>\n            \n            <div style={{ \n              display: 'grid', \n              gridTemplateColumns: 'repeat(auto-fill, minmax(80px, 1fr))', \n              gap: '12px',\n              marginBottom: '24px'\n            }}>\n              {MOCK_PAGES.map((pg) => {\n                const checked = selectedPages.includes(pg);\n                return (\n                  <button\n                    key={pg}\n                    onClick={() => onTogglePage(pg)}\n                    style={{\n                      padding: '16px 8px',\n                      borderRadius: '12px',\n                      border: checked ? '3px solid #667eea' : '2px solid rgba(102, 126, 234, 0.2)',\n                      fontSize: '14px',\n                      fontWeight: '600',\n                      cursor: 'pointer',\n                      background: checked \n                        ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' \n                        : 'rgba(255, 255, 255, 0.9)',\n                      color: checked ? 'white' : '#374151',\n                      boxShadow: checked \n                        ? '0 8px 25px rgba(102, 126, 234, 0.3)' \n                        : '0 4px 15px rgba(0, 0, 0, 0.1)',\n                      transition: 'all 0.3s ease',\n                      transform: checked ? 'translateY(-2px)' : 'translateY(0)'\n                    }}\n                  >\n                    {checked && <span style={{ marginRight: '4px' }}></span>}\n                    {pg}\n                  </button>\n                );\n              })}\n            </div>\n            \n            <div style={{ \n              padding: '20px',\n              background: 'linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%)',\n              borderRadius: '12px',\n              marginBottom: '24px'\n            }}>\n              <div style={{ fontSize: '14px', color: '#6b7280', marginBottom: '8px' }}>\n                  \n              </div>\n              <div style={{ \n                fontSize: '16px', \n                fontWeight: '500', \n                color: '#1f2937',\n                wordBreak: 'break-all'\n              }}>\n                {selectedPages.length > 0 ? selectedPages.join(\", \") : \"  \"}\n              </div>\n            </div>\n            \n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'space-between' }}>\n              <button \n                onClick={() => setStep(1)}\n                style={{\n                  ...secondaryButtonStyle,\n                  padding: '12px 24px',\n                  fontSize: '16px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                }}\n              >\n                  \n              </button>\n              <button \n                onClick={() => setStep(3)}\n                style={{\n                  ...primaryButtonStyle,\n                  padding: '12px 24px',\n                  fontSize: '16px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                }}\n              >\n                 :  \n              </button>\n            </div>\n          </div>\n        )}\n\n        {step === 3 && (\n          <div>\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '12px', \n              marginBottom: '24px' \n            }}>\n              <div style={{\n                width: '48px',\n                height: '48px',\n                borderRadius: '12px',\n                background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '24px'\n              }}></div>\n              <div>\n                <h2 style={{ fontSize: '24px', fontWeight: 'bold', margin: 0, color: '#1f2937' }}>\n                   & AI \n                </h2>\n                <p style={{ fontSize: '14px', color: '#6b7280', margin: '4px 0 0 0' }}>\n                    AI  \n                </p>\n              </div>\n            </div>\n            \n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 2fr 1fr', gap: '20px', marginBottom: '24px' }}>\n              {/* Left:   */}\n              <div style={cardStyle}>\n                <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\n                  <span style={{ fontWeight: '600' }}>  -  {problems.length}</span>\n                  <div \n                    onClick={addProblem}\n                    style={{ \n                      fontSize: '12px', \n                      color: '#667eea', \n                      fontWeight: '600',\n                      fontFamily: 'NanumSquare, sans-serif',\n                      padding: '4px 8px',\n                      background: 'rgba(102, 126, 234, 0.1)',\n                      borderRadius: '6px',\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease'\n                    }}\n                  >\n                    +  \n                  </div>\n                </div>\n                <div style={{ maxHeight: '400px', overflow: 'auto' }}>\n                  <table style={{ width: '100%', fontSize: '14px' }}>\n                    <thead style={{ backgroundColor: '#f9fafb' }}>\n                      <tr>\n                        <th style={{ padding: '8px', textAlign: 'left' }}>No.</th>\n                        <th style={{ padding: '8px', textAlign: 'left' }}></th>\n                        <th style={{ padding: '8px', textAlign: 'left' }}></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {problems.map((p, i) => (\n                        <tr\n                          key={p.id}\n                          style={{\n                            cursor: 'pointer',\n                            backgroundColor: selectedProblemId === p.id ? '#f3f4f6' : 'transparent'\n                          }}\n                          onClick={() => setSelectedProblemId(p.id)}\n                        >\n                          <td style={{ padding: '8px' }}>\n                            <input type=\"checkbox\" style={{ marginRight: '8px' }} />\n                            {i + 1}\n                          </td>\n                          <td style={{ padding: '8px', fontFamily: 'monospace' }}>{p.pageNo}</td>\n                          <td style={{ padding: '8px', fontFamily: 'monospace' }}>{p.problemNo}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n              {/* Center:   &  */}\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n                <div style={cardStyle}>\n                  <div style={{ fontSize: '14px', fontWeight: '600', marginBottom: '8px' }}> </div>\n                  {selectedProblem ? (\n                    <MathProblemImage \n                      problem={selectedProblem} \n                      width=\"100%\" \n                      height=\"300px\"\n                    />\n                  ) : (\n                    <div style={{ width: '100%', height: '300px', backgroundColor: '#f3f4f6', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#6b7280' }}>\n                       \n                    </div>\n                  )}\n                </div>\n\n                <div style={cardStyle}>\n                  <div style={{ fontSize: '14px', fontWeight: '600', marginBottom: '8px' }}></div>\n                  <textarea\n                    style={{ width: '100%', height: '120px', border: '1px solid #d1d5db', borderRadius: '8px', padding: '8px', fontSize: '14px' }}\n                    placeholder=\"[]  2, 23, 47 3\"\n                    defaultValue=\"[]  2, 23, 47 3\"\n                  />\n                </div>\n              </div>\n\n              {/* Right:   /AI  */}\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>\n\n                <div style={{...cardStyle, height: '605.38px', display: 'flex', flexDirection: 'column'}}>\n                  <div style={{ \n                    fontSize: '14px', \n                    fontWeight: '600', \n                    marginBottom: '12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  }}>\n                    <span style={{ \n                      fontSize: '12px', \n                      color: '#667eea', \n                      fontWeight: '600',\n                      fontFamily: 'NanumSquare, sans-serif',\n                      padding: '4px 8px',\n                      background: 'rgba(102, 126, 234, 0.1)',\n                      borderRadius: '6px'\n                    }}>\n                      AI\n                    </span>\n                    <span> </span>\n                  </div>\n                  <div style={{ flex: 1, overflow: 'auto' }}>\n                    {busy && (\n                      <div style={{ marginBottom: '16px' }}>\n                        <div style={{ \n                          display: 'flex', \n                          alignItems: 'center', \n                          gap: '8px', \n                          marginBottom: '8px',\n                          fontSize: '14px',\n                          color: '#667eea',\n                          fontWeight: '500'\n                        }}>\n                          <div style={{\n                            width: '16px',\n                            height: '16px',\n                            border: '2px solid #667eea',\n                            borderTop: '2px solid transparent',\n                            borderRadius: '50%',\n                            animation: 'spin 1s linear infinite'\n                          }}></div>\n                          AI  ... {progress}%\n                        </div>\n                        <div style={{\n                          width: '100%',\n                          height: '6px',\n                          backgroundColor: '#e5e7eb',\n                          borderRadius: '3px',\n                          overflow: 'hidden'\n                        }}>\n                          <div style={{\n                            width: `${progress}%`,\n                            height: '100%',\n                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n                            transition: 'width 0.3s ease'\n                          }}></div>\n                        </div>\n                      </div>\n                    )}\n                    \n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <input\n                          type=\"text\"\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <input\n                          type=\"text\"\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <input\n                          type=\"text\"\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <input\n                          type=\"text\"\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <textarea\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif',\n                            height: '60px',\n                            resize: 'vertical'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                      \n                      <div>\n                        <label style={{ fontSize: '12px', fontWeight: '600', color: '#374151', marginBottom: '4px', display: 'block' }}>:</label>\n                        <textarea\n                          value={aiResults[selectedProblem?.id]?. || ''}\n                          onChange={(e) => {\n                            if (selectedProblem?.id) {\n                              setAiResults(prev => ({\n                                ...prev,\n                                [selectedProblem.id]: {\n                                  ...prev[selectedProblem.id],\n                                  : e.target.value\n                                }\n                              }));\n                            }\n                          }}\n                          style={{\n                            width: '100%',\n                            padding: '8px 12px',\n                            border: '1px solid #d1d5db',\n                            borderRadius: '6px',\n                            fontSize: '14px',\n                            fontFamily: 'NanumSquare, sans-serif',\n                            height: '80px',\n                            resize: 'vertical'\n                          }}\n                          placeholder=\" \"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        )}\n\n      </main>\n\n      {/*   */}\n      {showCompletionModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            background: 'white',\n            borderRadius: '16px',\n            padding: '32px',\n            maxWidth: '500px',\n            width: '90%',\n            textAlign: 'center',\n            boxShadow: '0 25px 50px rgba(0, 0, 0, 0.3)',\n            fontFamily: 'NanumSquare, sans-serif'\n          }}>\n            <div style={{\n              width: '64px',\n              height: '64px',\n              background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n              borderRadius: '50%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              margin: '0 auto 24px',\n              fontSize: '32px'\n            }}>\n              \n            </div>\n            <h2 style={{ \n              fontSize: '24px', \n              fontWeight: '800', \n              marginBottom: '16px', \n              color: '#1f2937',\n              fontFamily: 'NanumSquare, sans-serif'\n            }}>\n               \n            </h2>\n            <div style={{ \n              color: '#374151', \n              fontSize: '16px', \n              marginBottom: '32px',\n              lineHeight: '1.6',\n              fontFamily: 'NanumSquare, sans-serif'\n            }}>\n              {MOCK_TEXTBOOKS.find(b => b.id === bookId)?.title}   {selectedPages.slice(0, 3).join(\", \")}  {Math.max(selectedPages.length - 3, 0)} <br/>\n                AI    .\n            </div>\n            <div style={{ display: 'flex', gap: '12px', justifyContent: 'center' }}>\n              <button \n                onClick={() => {\n                  setShowCompletionModal(false);\n                  setStep(1);\n                }}\n                style={{\n                  ...buttonStyle,\n                  background: 'rgba(107, 114, 128, 0.1)',\n                  color: '#374151',\n                  border: '1px solid #d1d5db'\n                }}\n              >\n                \n              </button>\n              <button \n                onClick={() => setShowCompletionModal(false)}\n                style={primaryButtonStyle}\n              >\n                 \n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <footer style={{ maxWidth: '1280px', margin: '0 auto', padding: '40px 16px', fontSize: '12px', color: '#6b7280' }}>\n        Provider-agnostic demo     Replace endpoint via REACT_APP_AI_ENDPOINT and set REACT_APP_USE_REAL_AI=true to call real LLM.\n      </footer>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport LandingPage from './components/LandingPage';\nimport LoginPage from './components/LoginPage';\nimport BookListPage from './components/BookListPage';\nimport ImageViewer from './components/ImageViewer';\nimport StaticPDFViewer from './components/StaticPDFViewer';\nimport AIChatbot from './components/AIChatbot';\nimport TeacherLoginPage from './components/TeacherLoginPage';\nimport TeacherBookListPage from './components/TeacherBookListPage';\nimport TeacherSubmissionPage from './components/TeacherSubmissionPage';\nimport TeacherAnnotationViewer from './components/TeacherAnnotationViewer';\nimport StudentFeedbackViewer from './components/StudentFeedbackViewer';\nimport AdminPage from './components/AdminPage';\n\nfunction App() {\n  console.log('App   ');\n  \n  //   \n  const [currentPage, setCurrentPage] = useState('landing'); // 'landing', 'login', 'bookList', 'detail', 'teacherSubmission', 'teacherAnnotation', 'studentFeedback'\n  // const [userType, setUserType] = useState(null); // 'admin', 'teacher', 'student' -   \n  const [isAIChatbotOpen, setIsAIChatbotOpen] = useState(false);\n  // const [isLoggedIn, setIsLoggedIn] = useState(false); //   \n  \n  //    \n  const [selectedSubmission, setSelectedSubmission] = useState(null);\n  \n  //     \n  const [studentFeedback, setStudentFeedback] = useState(null);\n  \n  //   -   \n  const files = [\n    { \n      id: 1, \n      title: '   1', \n      url: '/somapremier.pdf',\n      type: 'pdf'\n    },\n    { \n      id: 2, \n      title: '   2()', \n      url: '/somapremier.pdf',\n      type: 'pdf'\n    }\n  ];\n\n  //  \n  const [currentPdfUrl, setCurrentPdfUrl] = useState(files[0].url); //    \n  const [activeFileIndex, setActiveFileIndex] = useState(0);\n  \n  //    \n  const currentFile = files[activeFileIndex];\n  const isCurrentFilePDF = currentFile && currentFile.type === 'pdf';\n  const [pageCount, setPageCount] = useState(1);\n  const [currentPageNum, setCurrentPageNum] = useState(1);\n  const [zoomScale, setZoomScale] = useState(2.0);\n  const [selectedTool, setSelectedTool] = useState('hand');\n  const [selectedColor, setSelectedColor] = useState('#ef4444');\n  const [brushSize, setBrushSize] = useState(3);\n  \n  //     \n  const [isRecording, setIsRecording] = useState(false);\n  const [strokeData, setStrokeData] = useState([]);\n  \n  //   \n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isReplaying, setIsReplaying] = useState(false);\n  const [replayProgress, setReplayProgress] = useState(0);\n  // const [audioBlob, setAudioBlob] = useState(null);\n  const [audioUrl, setAudioUrl] = useState(null);\n  \n  // -   \n  const [studentSubmission, setStudentSubmission] = useState(null); //   \n  const [teacherFeedback, setTeacherFeedback] = useState(null); //   \n  const [showTeacherFeedback, setShowTeacherFeedback] = useState(false); //    /\n  const [submissionAlert, setSubmissionAlert] = useState(false); //   \n  const [feedbackAlert, setFeedbackAlert] = useState(false); //   \n  \n  //  \n  const [isFloatingPanelOpen, setIsFloatingPanelOpen] = useState(false); //   /\n  const [notifications, setNotifications] = useState([]); //  \n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  // const [audioChunks, setAudioChunks] = useState([]);\n  const [currentAudio, setCurrentAudio] = useState(null);\n  const [audioDuration, setAudioDuration] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  //    \n  const handleUserTypeSelect = (type) => {\n    if (type === 'student') {\n      setCurrentPage('login');\n    } else if (type === 'teacher') {\n      setCurrentPage('teacherLogin');\n    } else {\n      // Admin  \n      setCurrentPage('admin');\n    }\n  };\n\n  //  \n  const handleLogin = () => {\n    setCurrentPage('bookList');\n  };\n\n  //   \n  const handleTeacherLogin = () => {\n    setCurrentPage('teacherBookList');\n  };\n\n  //    ( ) -  \n  const handleBookSelect = (url, index) => {\n    console.log('  :', { url, index, file: files[index] }); // \n    \n    setCurrentPdfUrl(url);\n    setActiveFileIndex(index);\n    setZoomScale(2.0);\n    setCurrentPage('detail');\n    setCurrentPageNum(1); //  1 \n    \n    //      \n    console.log('  -    ');\n  };\n\n  //    \n  const handleTeacherBookSelect = (url, index) => {\n    setCurrentPdfUrl(url);\n    setActiveFileIndex(index);\n    setZoomScale(2.0);\n    setCurrentPageNum(1);\n    \n    //      \n    setCurrentPage('teacherDetail');\n  };\n\n  //    \n  const handleGoToSubmissions = (submission = null) => {\n    if (submission) {\n      //      \n      setSelectedSubmission(submission);\n      setCurrentPage('teacherAnnotation');\n    } else {\n      //      \n      setCurrentPage('teacherSubmission');\n    }\n  };\n\n\n  //    (    )\n  const handleBackToSubmissions = () => {\n    setCurrentPage('teacherBookList');\n    setSelectedSubmission(null);\n  };\n\n  //  \n  const handleSaveFeedback = (feedback) => {\n    //    (  )\n    localStorage.setItem('teacherFeedback', JSON.stringify(feedback));\n    \n    //    \n    const studentFeedbackData = {\n      ...feedback,\n      studentName: selectedSubmission?.studentName || '',\n      studentId: selectedSubmission?.studentId || 'student1'\n    };\n    localStorage.setItem('studentFeedback', JSON.stringify(studentFeedbackData));\n    \n    //  \n    const newNotification = {\n      id: Date.now(),\n      type: 'feedback',\n      title: ' ',\n      message: `\"${feedback.bookTitle}\"   `,\n      timestamp: new Date().toISOString(),\n      isRead: false\n    };\n    \n    setNotifications(prev => [newNotification, ...prev]);\n    \n    //   \n    handleBackToSubmissions();\n  };\n\n  //   \n  const handleViewStudentFeedback = () => {\n    //     \n    const feedback = localStorage.getItem('studentFeedback');\n    if (feedback) {\n      const feedbackData = JSON.parse(feedback);\n      setStudentFeedback(feedbackData);\n      setCurrentPage('studentFeedback');\n    } else {\n      alert('   .');\n    }\n  };\n\n  //   \n  const handleBackToStudentPage = () => {\n    setCurrentPage('detail');\n    setStudentFeedback(null);\n  };\n\n\n\n\n  const handlePrevPage = () => {\n    if (currentPageNum > 1) {\n      setCurrentPageNum(currentPageNum - 1);\n    }\n  };\n\n  const handleNextPage = () => {\n    if (currentPageNum < pageCount) {\n      setCurrentPageNum(currentPageNum + 1);\n    }\n  };\n\n  //   (    )\n  // const handleZoomIn = () => {\n  //   if (zoomScale < 3.0) {\n  //     setZoomScale(Math.min(3.0, zoomScale + 0.2));\n  //   }\n  // };\n\n  // const handleZoomOut = () => {\n  //   if (zoomScale > 0.5) {\n  //     setZoomScale(Math.max(0.5, zoomScale - 0.2));\n  //   }\n  // };\n\n  //    \n  const handleToolChange = (tool) => setSelectedTool(tool);\n  const handleColorChange = (color) => setSelectedColor(color);\n  const handleBrushSizeChange = (size) => setBrushSize(size);\n\n  //  \n  const handleRecordingToggle = async () => {\n    if (isRecording) {\n      //  \n      if (mediaRecorder && mediaRecorder.state === 'recording') {\n        mediaRecorder.stop();\n        setIsRecording(false);\n        console.log(' ,  :', strokeData);\n      }\n    } else {\n      try {\n        //      \n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        const recorder = new MediaRecorder(stream);\n        const chunks = [];\n\n        recorder.ondataavailable = (event) => {\n          if (event.data.size > 0) {\n            chunks.push(event.data);\n          }\n        };\n\n        recorder.onstop = () => {\n          const audioBlob = new Blob(chunks, { type: 'audio/wav' });\n          const audioUrl = URL.createObjectURL(audioBlob);\n          // setAudioBlob(audioBlob);\n          setAudioUrl(audioUrl);\n          // setAudioChunks([]);\n          \n          //  \n          stream.getTracks().forEach(track => track.stop());\n        };\n\n        recorder.start();\n        setMediaRecorder(recorder);\n        // setAudioChunks(chunks);\n        setIsRecording(true);\n        setStrokeData([]); //       \n        setIsPlaying(false); //     \n        setIsReplaying(false);\n        setReplayProgress(0);\n        console.log(' ');\n      } catch (error) {\n        console.error('    :', error);\n        alert('  .     .');\n      }\n    }\n  };\n\n    //    (  )\n  // const handleAudioPlay = async () => {\n  //   //    \n  // };\n\n  //    \n  //   \n\n\n\n  const handleStudentSubmission = () => {\n    if (strokeData.length === 0 && !audioUrl) {\n      alert('   .');\n      return;\n    }\n    \n    const submission = {\n      id: Date.now(),\n      studentId: 'student1',\n      studentName: '',\n      timestamp: new Date().toISOString(),\n      strokeData: [...strokeData],\n      audioUrl: audioUrl,\n      bookTitle: files[activeFileIndex]?.title || '',\n      bookUrl: currentPdfUrl\n    };\n    \n    //    (  )\n    localStorage.setItem('studentSubmission', JSON.stringify(submission));\n    \n    //  \n    const newNotification = {\n      id: Date.now(),\n      type: 'submission',\n      title: '  ',\n      message: `\"${submission.bookTitle}\"   `,\n      timestamp: new Date().toISOString(),\n      isRead: false\n    };\n    \n    setNotifications(prev => [newNotification, ...prev]);\n    \n    //   \n    setSubmissionAlert(true);\n    \n  };\n\n  //     \n  const handleTeacherFeedback = () => {\n    if (strokeData.length === 0) {\n      alert('  .');\n      return;\n    }\n    \n    const feedback = {\n      id: Date.now(),\n      teacherId: 'teacher1',\n      teacherName: '',\n      timestamp: new Date().toISOString(),\n      feedbackStrokeData: [...strokeData],\n      studentSubmissionId: studentSubmission?.id,\n      bookTitle: studentSubmission?.bookTitle || '',\n      bookUrl: studentSubmission?.bookUrl || currentPdfUrl\n    };\n    \n    //    (  )\n    localStorage.setItem('teacherFeedback', JSON.stringify(feedback));\n    \n    //  \n    const newNotification = {\n      id: Date.now(),\n      type: 'feedback',\n      title: ' ',\n      message: `\"${feedback.bookTitle}\"   `,\n      timestamp: new Date().toISOString(),\n      isRead: false\n    };\n    \n    setNotifications(prev => [newNotification, ...prev]);\n    \n    //   \n    setFeedbackAlert(true);\n    \n    alert('  !');\n  };\n\n  //    ( +   )\n  const handleCombinedStop = () => {\n    //  \n    if (currentAudio) {\n      currentAudio.pause();\n      currentAudio.currentTime = 0;\n      setCurrentTime(0);\n      setIsPlaying(false);\n    }\n    \n    //   \n    setIsReplaying(false);\n    setReplayProgress(0);\n    \n    //  \n    const canvas = document.querySelector('canvas');\n    if (canvas) {\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  };\n\n  //    \n  const handleTimeChange = (newTime) => {\n    if (currentAudio && !isNaN(newTime) && isFinite(newTime) && newTime >= 0) {\n      currentAudio.currentTime = newTime;\n      setCurrentTime(newTime);\n    }\n  };\n\n  //   \n  const formatTime = (seconds) => {\n    if (isNaN(seconds) || !isFinite(seconds) || seconds < 0) {\n      return '0:00';\n    }\n    const mins = Math.floor(seconds / 60);\n    const secs = Math.floor(seconds % 60);\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  //    ( +   )\n  const handleCombinedReplay = async () => {\n    if (strokeData.length === 0 && !audioUrl) {\n      alert('  .');\n      return;\n    }\n\n    setIsReplaying(true);\n    setReplayProgress(0);\n    \n    //  \n    const canvas = document.querySelector('canvas');\n    if (canvas) {\n      const context = canvas.getContext('2d');\n      context.clearRect(0, 0, canvas.width, canvas.height);\n    }\n\n    //   \n    if (audioUrl) {\n      try {\n        const audio = new Audio(audioUrl);\n        setCurrentAudio(audio);\n        \n        audio.onloadedmetadata = () => {\n          setAudioDuration(audio.duration);\n        };\n        \n        audio.ontimeupdate = () => {\n          setCurrentTime(audio.currentTime);\n        };\n        \n        audio.onended = () => {\n          setIsPlaying(false);\n          setCurrentTime(0);\n        };\n        \n        audio.onerror = (error) => {\n          console.error('  :', error);\n          setIsPlaying(false);\n        };\n        \n        setIsPlaying(true);\n        await audio.play();\n      } catch (error) {\n        console.error('  :', error);\n        setIsPlaying(false);\n      }\n    }\n\n    //    ( )\n    if (strokeData.length > 0) {\n      let currentStroke = 0;\n      const replayInterval = setInterval(() => {\n        if (currentStroke >= strokeData.length) {\n          clearInterval(replayInterval);\n          setIsReplaying(false);\n          setReplayProgress(100);\n          return;\n        }\n\n        const stroke = strokeData[currentStroke];\n        if (canvas) {\n          const context = canvas.getContext('2d');\n          \n          //  \n          context.beginPath();\n          context.lineWidth = stroke.brushSize;\n          context.lineCap = 'round';\n          context.lineJoin = 'round';\n          context.strokeStyle = stroke.color;\n          \n          if (stroke.points.length > 1) {\n            context.moveTo(stroke.points[0].x, stroke.points[0].y);\n            for (let i = 1; i < stroke.points.length; i++) {\n              context.lineTo(stroke.points[i].x, stroke.points[i].y);\n            }\n            context.stroke();\n          }\n        }\n\n        currentStroke++;\n        setReplayProgress((currentStroke / strokeData.length) * 100);\n      }, 100); // 100ms  \n    } else {\n      //    \n      setIsReplaying(false);\n      setReplayProgress(100);\n    }\n  };\n\n  //   \n  const handleRerecord = () => {\n    if (window.confirm('  ?     .')) {\n      setStrokeData([]);\n      // setAudioBlob(null);\n      if (audioUrl) {\n        URL.revokeObjectURL(audioUrl);\n        setAudioUrl(null);\n      }\n      setIsPlaying(false);\n      setIsReplaying(false);\n      setReplayProgress(0);\n      // setAudioChunks([]);\n      setCurrentAudio(null);\n      setAudioDuration(0);\n      setCurrentTime(0);\n      \n      //  \n      handleRecordingToggle();\n    }\n  };\n\n  //    \n  const handleStrokeDataChange = (newStrokeData) => {\n    setStrokeData(newStrokeData);\n  };\n\n  \n  // Undo/Redo \n  //  /   (   )\n\n  console.log(' :', currentPage);\n  console.log('  :', files[activeFileIndex]);\n  console.log(' URL:', currentPdfUrl);\n  console.log(' :', files[activeFileIndex]?.type);\n\n  //  \n  const handleLogout = () => {\n    setCurrentPage('landing');\n  };\n\n  //  \n  if (currentPage === 'landing') {\n    return <LandingPage onSelectUserType={handleUserTypeSelect} />;\n  }\n\n  if (currentPage === 'login') {\n    return <LoginPage onLogin={handleLogin} />;\n  }\n\n  if (currentPage === 'bookList') {\n    return <BookListPage \n      files={files} \n      onBookSelect={handleBookSelect} \n      onBackToLogin={handleLogout}\n      feedbackAlert={feedbackAlert}\n      setFeedbackAlert={setFeedbackAlert}\n      setTeacherFeedback={setTeacherFeedback}\n      notifications={notifications}\n      setNotifications={setNotifications}\n    />;\n  }\n\n  if (currentPage === 'teacherLogin') {\n    return <TeacherLoginPage onLogin={handleTeacherLogin} />;\n  }\n\n  if (currentPage === 'teacherBookList') {\n    return <TeacherBookListPage \n      files={files} \n      onBookSelect={handleTeacherBookSelect} \n      onBackToLogin={handleLogout}\n      onGoToSubmissions={handleGoToSubmissions}\n      notifications={notifications}\n      setNotifications={setNotifications}\n    />;\n  }\n\n  if (currentPage === 'teacherSubmission') {\n    return <TeacherSubmissionPage \n      onBackToBookList={() => setCurrentPage('teacherBookList')}\n      onViewSubmission={handleGoToSubmissions}\n    />;\n  }\n\n  if (currentPage === 'teacherAnnotation') {\n    return <TeacherAnnotationViewer \n      submission={selectedSubmission}\n      onBackToSubmissions={handleBackToSubmissions}\n      onSaveFeedback={handleSaveFeedback}\n    />;\n  }\n\n  if (currentPage === 'studentFeedback') {\n    return <StudentFeedbackViewer \n      feedback={studentFeedback}\n      onBackToStudentPage={handleBackToStudentPage}\n    />;\n  }\n\n  if (currentPage === 'admin') {\n    return <AdminPage />;\n  }\n\n  //   \n  if (currentPage === 'teacherDetail') {\n    return (\n      <div className=\"App\" style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)' }}>\n        {/*    */}\n        {submissionAlert && (\n          <div style={{\n            position: 'fixed',\n            top: '20px',\n            right: '20px',\n            background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n            color: 'white',\n            padding: '1rem 1.5rem',\n            borderRadius: '12px',\n            boxShadow: '0 10px 25px rgba(59, 130, 246, 0.3)',\n            zIndex: 1000,\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem',\n            minWidth: '300px',\n            animation: 'slideIn 0.3s ease-out'\n          }}>\n            <div style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              borderRadius: '50%',\n              width: '40px',\n              height: '40px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}>\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n              </svg>\n            </div>\n            <div>\n              <div style={{ fontWeight: 'bold', fontSize: '1rem' }}>  </div>\n              <div style={{ fontSize: '0.875rem', opacity: 0.9 }}>  </div>\n            </div>\n            <button\n              onClick={() => {\n                setSubmissionAlert(false);\n                //    \n                const submission = localStorage.getItem('studentSubmission');\n                if (submission) {\n                  const submissionData = JSON.parse(submission);\n                  setStudentSubmission(submissionData);\n                  //   \n                  setCurrentPage('teacherDetail');\n                } else {\n                  alert('   .');\n                }\n              }}\n              style={{\n                background: 'rgba(255, 255, 255, 0.2)',\n                border: 'none',\n                color: 'white',\n                padding: '0.5rem',\n                borderRadius: '6px',\n                cursor: 'pointer',\n                fontSize: '0.875rem'\n              }}\n            >\n              \n            </button>\n          </div>\n        )}\n\n        {/*    +  */}\n        <div style={{\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderBottom: '2px solid rgba(59, 130, 246, 0.3)',\n          padding: '1rem 2rem',\n          boxShadow: '0 4px 12px rgba(30, 58, 138, 0.2)'\n        }}>\n          <div style={{\n            maxWidth: '1400px',\n            margin: '0 auto',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            gap: '2rem'\n          }}>\n            {/* :  +  */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n              <button \n                onClick={() => { setCurrentPage('landing'); }}\n                style={{\n                  background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '0.5rem 1rem',\n                  cursor: 'pointer',\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  transition: 'all 0.2s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.transform = 'translateY(-1px)';\n                  e.target.style.boxShadow = '0 4px 12px rgba(107, 114, 128, 0.4)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = 'none';\n                }}\n              >\n                 \n              </button>\n              <button \n                onClick={() => { setCurrentPage('teacherBookList'); }}\n                style={{\n                  background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  padding: '0.5rem 1rem',\n                  cursor: 'pointer',\n                  fontSize: '0.9rem',\n                  fontWeight: '600',\n                  transition: 'all 0.2s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.transform = 'translateY(-1px)';\n                  e.target.style.boxShadow = '0 4px 12px rgba(59, 130, 246, 0.4)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.transform = 'translateY(0)';\n                  e.target.style.boxShadow = 'none';\n                }}\n              >\n                 \n              </button>\n              <h1 style={{ \n                color: '#1e3a8a', \n                fontSize: '1.5rem', \n                fontWeight: 'bold',\n                fontFamily: 'var(--font-title)'\n              }}>\n                {files[activeFileIndex]?.title || ' '} -  \n              </h1>\n            </div>\n            \n            {/* :  */}\n            <div style={{ \n              display: 'flex', \n              alignItems: 'center', \n              gap: '1rem',\n              background: 'rgba(59, 130, 246, 0.1)',\n              padding: '0.5rem 1rem',\n              borderRadius: '12px',\n              border: '1px solid rgba(59, 130, 246, 0.3)'\n            }}>\n              {/* PDF   (PDF   ) */}\n              {isCurrentFilePDF && (\n                <div style={{ \n                  display: 'flex', \n                  alignItems: 'center', \n                  gap: '0.5rem',\n                  marginBottom: '0.5rem',\n                  padding: '0.5rem',\n                  backgroundColor: 'rgba(59, 130, 246, 0.1)',\n                  borderRadius: '8px'\n                }}>\n                  <button\n                    onClick={handlePrevPage}\n                    disabled={currentPageNum <= 1}\n                    style={{\n                      padding: '0.25rem',\n                      borderRadius: '6px',\n                      border: '1px solid rgba(59, 130, 246, 0.3)',\n                      background: currentPageNum <= 1 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                      color: currentPageNum <= 1 ? '#9ca3af' : '#3b82f6',\n                      cursor: currentPageNum <= 1 ? 'not-allowed' : 'pointer',\n                      transition: 'all 0.2s ease'\n                    }}\n                    title=\" \"\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n                    </svg>\n                  </button>\n                  \n                  <span style={{ \n                    fontSize: '0.875rem', \n                    color: '#1e3a8a',\n                    fontFamily: 'var(--font-ui)',\n                    minWidth: '60px',\n                    textAlign: 'center'\n                  }}>\n                    {currentPageNum} / {pageCount}\n                  </span>\n                  \n                  <button\n                    onClick={handleNextPage}\n                    disabled={currentPageNum >= pageCount}\n                    style={{\n                      padding: '0.25rem',\n                      borderRadius: '6px',\n                      border: '1px solid rgba(59, 130, 246, 0.3)',\n                      background: currentPageNum >= pageCount ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                      color: currentPageNum >= pageCount ? '#9ca3af' : '#3b82f6',\n                      cursor: currentPageNum >= pageCount ? 'not-allowed' : 'pointer',\n                      transition: 'all 0.2s ease'\n                    }}\n                    title=\" \"\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\n                    </svg>\n                  </button>\n                </div>\n              )}\n\n              {/*   */}\n              <div style={{ display: 'flex', gap: '0.5rem' }}>\n                {['hand', 'pen', 'eraser'].map((tool) => (\n                  <button\n                    key={tool}\n                    onClick={() => handleToolChange(tool)}\n                    style={{\n                      padding: '0.5rem',\n                      borderRadius: '8px',\n                      border: selectedTool === tool ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                      background: selectedTool === tool ? 'rgba(59, 130, 246, 0.2)' : 'rgba(255, 255, 255, 0.8)',\n                      color: selectedTool === tool ? '#1e3a8a' : '#64748b',\n                      cursor: 'pointer',\n                      transition: 'all 0.2s ease'\n                    }}\n                    title={tool === 'hand' ? '' : tool === 'pen' ? '' : ''}\n                  >\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      {tool === 'hand' && <path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4z\"/>}\n                      {tool === 'pen' && <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>}\n                      {tool === 'eraser' && <path d=\"M16.24 3.56l4.95 4.94c.78.79.78 2.05 0 2.84L12 20.53a4.008 4.008 0 0 1-5.66 0L2.81 17c-.78-.79-.78-2.05 0-2.84l10.6-10.6c.79-.78 2.05-.78 2.83 0M4.22 15.58l3.54 3.53c.78.79 2.04.79 2.83 0l3.53-3.53-6.36-6.36-3.54 3.36z\"/>}\n                    </svg>\n                  </button>\n                ))}\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <span style={{ color: '#1e3a8a', fontSize: '0.9rem' }}>:</span>\n                <div style={{ display: 'flex', gap: '0.25rem' }}>\n                  {['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#000000'].map((color) => (\n                    <button\n                      key={color}\n                      onClick={() => handleColorChange(color)}\n                      style={{\n                        width: '24px',\n                        height: '24px',\n                        borderRadius: '50%',\n                        border: selectedColor === color ? '2px solid #3b82f6' : '2px solid rgba(59, 130, 246, 0.3)',\n                        background: color,\n                        cursor: 'pointer',\n                        transition: 'all 0.2s ease'\n                      }}\n                    />\n                  ))}\n                </div>\n              </div>\n\n              {/*   */}\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                <span style={{ color: '#1e3a8a', fontSize: '0.9rem' }}>:</span>\n                <select\n                  value={brushSize}\n                  onChange={(e) => handleBrushSizeChange(Number(e.target.value))}\n                  style={{\n                    background: 'rgba(255, 255, 255, 0.8)',\n                    color: '#1e3a8a',\n                    border: '1px solid rgba(59, 130, 246, 0.3)',\n                    borderRadius: '6px',\n                    padding: '0.25rem 0.5rem',\n                    fontSize: '0.9rem'\n                  }}\n                >\n                  <option value={1}>1px</option>\n                  <option value={3}>3px</option>\n                  <option value={5}>5px</option>\n                  <option value={8}>8px</option>\n                  <option value={12}>12px</option>\n                </select>\n              </div>\n            </div>\n\n            {/* :    + PDF  */}\n          </div>\n        </div>\n\n        {/*    */}\n        <div style={{\n          display: 'flex',\n          height: 'calc(100vh - 80px)',\n          background: 'linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)'\n        }}>\n          <main className=\"pdf-viewer-container\" style={{\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            padding: '2rem',\n            overflow: 'auto'\n          }}>\n            {isCurrentFilePDF ? (\n              <StaticPDFViewer\n                pdfFileName={currentFile.url.replace('/', '')}\n                pageNum={currentPageNum}\n                zoomScale={zoomScale}\n                selectedTool={selectedTool}\n                selectedColor={selectedColor}\n                brushSize={brushSize}\n                onStrokeDataChange={handleStrokeDataChange}\n                isRecording={isRecording}\n                studentStrokeData={studentSubmission ? studentSubmission.strokeData : null}\n                teacherFeedbackData={teacherFeedback ? teacherFeedback.feedbackStrokeData : null}\n                showTeacherFeedback={showTeacherFeedback}\n                isTeacherMode={true}\n                isStudentMode={false}\n                onPageCountChange={setPageCount}\n              />\n            ) : (\n              <ImageViewer\n                imageUrl={currentPdfUrl}\n                zoomScale={zoomScale}\n                selectedTool={selectedTool}\n                selectedColor={selectedColor}\n                brushSize={brushSize}\n                onStrokeDataChange={handleStrokeDataChange}\n                isRecording={isRecording}\n                studentStrokeData={studentSubmission ? studentSubmission.strokeData : null}\n                studentAudioUrl={studentSubmission ? studentSubmission.audioUrl : null}\n                teacherFeedbackData={teacherFeedback ? teacherFeedback.feedbackStrokeData : null}\n                showTeacherFeedback={showTeacherFeedback}\n                isTeacherMode={true}\n                isStudentMode={false}\n              />\n            )}\n          </main>\n        </div>\n\n        {/*     */}\n        <div className=\"floating-panel\" style={{\n          position: 'fixed',\n          bottom: '20px',\n          right: '20px',\n          zIndex: 1000\n        }}>\n          {/*   /  */}\n          {!isFloatingPanelOpen && (\n            <button\n              onClick={() => setIsFloatingPanelOpen(true)}\n              style={{\n                background: 'rgba(59, 130, 246, 0.95)',\n                backdropFilter: 'blur(10px)',\n                borderRadius: '50%',\n                width: '60px',\n                height: '60px',\n                border: 'none',\n                color: 'white',\n                cursor: 'pointer',\n                boxShadow: '0 8px 32px rgba(59, 130, 246, 0.3)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                marginBottom: '1rem',\n                transition: 'all 0.2s ease'\n              }}\n              onMouseEnter={(e) => {\n                e.target.style.transform = 'scale(1.1)';\n                e.target.style.backgroundColor = 'rgba(59, 130, 246, 1)';\n              }}\n              onMouseLeave={(e) => {\n                e.target.style.transform = 'scale(1)';\n                e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.95)';\n              }}\n            >\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n              </svg>\n            </button>\n          )}\n\n          {isFloatingPanelOpen && (\n            <div style={{\n              background: 'rgba(255, 255, 255, 0.95)',\n              backdropFilter: 'blur(10px)',\n              borderRadius: '16px',\n              padding: '1rem',\n              boxShadow: '0 8px 32px rgba(30, 58, 138, 0.2)',\n              border: '2px solid rgba(59, 130, 246, 0.3)',\n              minWidth: '220px'\n            }}>\n              {/*   */}\n              <button\n                onClick={() => setIsFloatingPanelOpen(false)}\n                style={{\n                  position: 'absolute',\n                  top: '10px',\n                  right: '10px',\n                  background: 'rgba(59, 130, 246, 0.5)',\n                  border: 'none',\n                  borderRadius: '50%',\n                  width: '30px',\n                  height: '30px',\n                  color: 'white',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '16px'\n                }}\n              >\n                \n              </button>\n            {/*     */}\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.75rem',\n              marginBottom: '1rem'\n            }}>\n              <div style={{\n                fontSize: '0.875rem',\n                fontWeight: '600',\n                color: '#1e3a8a',\n                marginBottom: '0.5rem',\n                fontFamily: 'var(--font-ui)'\n              }}>\n                  \n              </div>\n              \n              <button\n                onClick={() => {\n                  //    \n                  const submission = localStorage.getItem('studentSubmission');\n                  if (submission) {\n                    const submissionData = JSON.parse(submission);\n                    setStudentSubmission(submissionData);\n                    //   \n                    setCurrentPage('teacherDetail');\n                  } else {\n                    alert('   .');\n                  }\n                }}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: 'rgba(59, 130, 246, 0.2)',\n                  border: '2px solid #3b82f6',\n                  color: '#60a5fa',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.3)';\n                  e.target.style.borderColor = '#60a5fa';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = 'rgba(59, 130, 246, 0.2)';\n                  e.target.style.borderColor = '#3b82f6';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                   \n                </span>\n              </button>\n            </div>\n\n            {/* AI   */}\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.75rem',\n              marginBottom: '1rem'\n            }}>\n              <div style={{\n                fontSize: '0.875rem',\n                fontWeight: '600',\n                color: '#1e3a8a',\n                marginBottom: '0.5rem',\n                fontFamily: 'var(--font-ui)'\n              }}>\n                 AI \n              </div>\n\n              <button\n                onClick={() => setIsAIChatbotOpen(true)}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: 'rgba(139, 92, 246, 0.2)',\n                  border: '2px solid #8b5cf6',\n                  color: '#a78bfa',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = 'rgba(139, 92, 246, 0.3)';\n                  e.target.style.borderColor = '#a78bfa';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = 'rgba(139, 92, 246, 0.2)';\n                  e.target.style.borderColor = '#8b5cf6';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <g opacity=\"0.9\">\n                    <rect x=\"6\" y=\"12\" width=\"1.5\" height=\"3\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"8\" y=\"10\" width=\"1.5\" height=\"7\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"10\" y=\"8\" width=\"1.5\" height=\"11\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"12\" y=\"6\" width=\"1.5\" height=\"15\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"14\" y=\"8\" width=\"1.5\" height=\"11\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"16\" y=\"10\" width=\"1.5\" height=\"7\" rx=\"0.75\" fill=\"currentColor\"/>\n                    <rect x=\"18\" y=\"12\" width=\"1.5\" height=\"3\" rx=\"0.75\" fill=\"currentColor\"/>\n                  </g>\n                  <g opacity=\"0.8\">\n                    <path d=\"M12 2l1.5 4.5L18 8l-4.5 1.5L12 14l-1.5-4.5L6 8l4.5-1.5L12 2z\" fill=\"currentColor\"/>\n                  </g>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                  AI \n                </span>\n              </button>\n            </div>\n\n            {/*    */}\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.75rem'\n            }}>\n              <div style={{\n                fontSize: '0.875rem',\n                fontWeight: '600',\n                color: '#1e3a8a',\n                marginBottom: '0.5rem',\n                fontFamily: 'var(--font-ui)'\n              }}>\n                  \n              </div>\n\n              <button\n                onClick={() => alert('  .')}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: 'rgba(16, 185, 129, 0.2)',\n                  border: '2px solid #10b981',\n                  color: '#34d399',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = 'rgba(16, 185, 129, 0.3)';\n                  e.target.style.borderColor = '#34d399';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = 'rgba(16, 185, 129, 0.2)';\n                  e.target.style.borderColor = '#10b981';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M9 12L11 14L15 10\"/>\n                  <path d=\"M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                   \n                </span>\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n        {/* AI   */}\n        <AIChatbot\n          isOpen={isAIChatbotOpen}\n          onClose={() => setIsAIChatbotOpen(false)}\n          bookTitle={files[activeFileIndex]?.title || ''}\n        />\n      </div>\n    );\n  }\n\n  //   ( )\n  return (\n    <div className=\"App\">\n      {/*    */}\n      {feedbackAlert && (\n        <div style={{\n          position: 'fixed',\n          top: '20px',\n          right: '20px',\n          background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n          color: 'white',\n          padding: '1rem 1.5rem',\n          borderRadius: '12px',\n          boxShadow: '0 10px 25px rgba(16, 185, 129, 0.3)',\n          zIndex: 1000,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '1rem',\n          minWidth: '300px',\n          animation: 'slideIn 0.3s ease-out'\n        }}>\n          <div style={{\n            background: 'rgba(255, 255, 255, 0.2)',\n            borderRadius: '50%',\n            width: '40px',\n            height: '40px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}>\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n            </svg>\n          </div>\n          <div>\n            <div style={{ fontWeight: 'bold', fontSize: '1rem' }}>  </div>\n            <div style={{ fontSize: '0.875rem', opacity: 0.9 }}>  </div>\n          </div>\n          <button\n            onClick={() => {\n              setFeedbackAlert(false);\n              //   \n              setCurrentPage('detail');\n            }}\n            style={{\n              background: 'rgba(255, 255, 255, 0.2)',\n              border: 'none',\n              color: 'white',\n              padding: '0.5rem',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '0.875rem'\n            }}\n          >\n            \n          </button>\n        </div>\n      )}\n\n      {/*   +  */}\n      <div style={{\n        background: 'linear-gradient(135deg, #fff7ed 0%, #ffedd5 50%, #fed7aa 100%)',\n        padding: '1rem 2rem',\n        borderBottom: '3px solid #f97316',\n        boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n      }}>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          maxWidth: '1400px',\n          margin: '0 auto',\n          gap: '2rem'\n        }}>\n          {/* :  +  */}\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <button\n              onClick={() => {\n                setCurrentPage('landing');\n              }}\n              style={{\n                background: 'linear-gradient(135deg, #6b7280 0%, #4b5563 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.875rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                fontWeight: '500',\n                transition: 'all 0.2s ease'\n              }}\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-1px)'}\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\n            >\n               \n            </button>\n            <button\n              onClick={() => {\n                setCurrentPage('bookList');\n              }}\n              style={{\n                background: 'linear-gradient(135deg, #f97316 0%, #ea580c 100%)',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                padding: '0.5rem 1rem',\n                cursor: 'pointer',\n                fontSize: '0.875rem',\n                fontFamily: \"'SEBANG Gothic', sans-serif\",\n                fontWeight: '500',\n                transition: 'all 0.2s ease'\n              }}\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-1px)'}\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\n            >\n               \n            </button>\n            <h1 style={{\n              fontFamily: \"'SEBANG Gothic', sans-serif\",\n              fontWeight: '700',\n              fontSize: '1.5rem',\n              color: '#1e293b',\n              margin: '0',\n              background: 'linear-gradient(135deg, #f97316, #ea580c)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              backgroundClip: 'text'\n            }}>\n              {files[activeFileIndex]?.title || ' '}\n            </h1>\n          </div>\n          \n          {/* :  */}\n          <div className=\"toolbar\" style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem',\n            background: 'rgba(255, 255, 255, 0.8)',\n            padding: '0.5rem 1rem',\n            borderRadius: '12px',\n            border: '1px solid rgba(249, 115, 22, 0.2)'\n          }}>\n            {/* PDF   (PDF   ) */}\n            {isCurrentFilePDF && (\n              <div style={{ \n                display: 'flex', \n                alignItems: 'center', \n                gap: '0.5rem',\n                marginRight: '1rem',\n                padding: '0.5rem',\n                backgroundColor: 'rgba(249, 115, 22, 0.1)',\n                borderRadius: '8px'\n              }}>\n                <button\n                  onClick={handlePrevPage}\n                  disabled={currentPageNum <= 1}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(249, 115, 22, 0.3)',\n                    background: currentPageNum <= 1 ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: currentPageNum <= 1 ? '#9ca3af' : '#f97316',\n                    cursor: currentPageNum <= 1 ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                  title=\" \"\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\n                  </svg>\n                </button>\n                \n                <span style={{ \n                  fontSize: '0.875rem', \n                  color: '#ea580c',\n                  fontFamily: 'var(--font-ui)',\n                  minWidth: '60px',\n                  textAlign: 'center'\n                }}>\n                  {currentPageNum} / {pageCount}\n                </span>\n                \n                <button\n                  onClick={handleNextPage}\n                  disabled={currentPageNum >= pageCount}\n                  style={{\n                    padding: '0.25rem',\n                    borderRadius: '6px',\n                    border: '1px solid rgba(249, 115, 22, 0.3)',\n                    background: currentPageNum >= pageCount ? 'rgba(156, 163, 175, 0.3)' : 'rgba(255, 255, 255, 0.8)',\n                    color: currentPageNum >= pageCount ? '#9ca3af' : '#f97316',\n                    cursor: currentPageNum >= pageCount ? 'not-allowed' : 'pointer',\n                    transition: 'all 0.2s ease'\n                  }}\n                  title=\" \"\n                >\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\n                  </svg>\n                </button>\n              </div>\n            )}\n\n            {/*   */}\n            <div style={{ display: 'flex', gap: '0.5rem' }}>\n              {['hand', 'pen', 'eraser'].map((tool) => (\n                <button\n                  key={tool}\n                  onClick={() => handleToolChange(tool)}\n                  style={{\n                    width: '40px',\n                    height: '40px',\n                    borderRadius: '8px',\n                    border: selectedTool === tool ? '2px solid #f97316' : '1px solid #e2e8f0',\n                    background: selectedTool === tool ? '#fff7ed' : 'white',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    transition: 'all 0.2s ease'\n                  }}\n                  title={tool === 'hand' ? '' : tool === 'pen' ? '' : ''}\n                >\n                  {tool === 'hand' && (\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ color: '#64748b' }}>\n                      <path d=\"M13 1.07V9h7c0-4.08-3.05-7.44-7-7.93zM4 15c0 4.42 3.58 8 8 8s8-3.58 8-8v-4H4v4z\"/>\n                    </svg>\n                  )}\n                  {tool === 'pen' && (\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ color: '#64748b' }}>\n                      <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n                    </svg>\n                  )}\n                  {tool === 'eraser' && (\n                    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style={{ color: '#64748b' }}>\n                      <path d=\"M16.24 3.56l4.95 4.94c.78.79.78 2.05 0 2.84L12 20.53a4.008 4.008 0 0 1-5.66 0L2.81 17c-.78-.79-.78-2.05 0-2.84l10.6-10.6c.79-.78 2.05-.78 2.83 0M4.22 15.58l3.54 3.53c.78.79 2.04.79 2.83 0l3.53-3.53-6.36-6.36-3.54 3.36z\"/>\n                    </svg>\n                  )}\n                </button>\n              ))}\n            </div>\n            \n            {/*   */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <span style={{ fontSize: '0.8rem', color: '#64748b', fontFamily: 'var(--font-ui)' }}>:</span>\n              <input\n                type=\"color\"\n                value={selectedColor}\n                onChange={(e) => handleColorChange(e.target.value)}\n                style={{\n                  width: '30px',\n                  height: '30px',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                }}\n              />\n            </div>\n            \n            {/*   */}\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n              <span style={{ fontSize: '0.8rem', color: '#64748b', fontFamily: 'var(--font-ui)' }}>:</span>\n              <select\n                value={brushSize}\n                onChange={(e) => handleBrushSizeChange(Number(e.target.value))}\n                style={{\n                  padding: '0.25rem 0.5rem',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '6px',\n                  fontSize: '0.8rem',\n                  fontFamily: 'var(--font-ui)',\n                  background: 'white'\n                }}\n              >\n                <option value={1}>1px</option>\n                <option value={3}>3px</option>\n                <option value={5}>5px</option>\n                <option value={8}>8px</option>\n                <option value={12}>12px</option>\n              </select>\n            </div>\n          </div>\n          \n          {/* :    */}\n          <div style={{\n            display: 'flex',\n            gap: '0.5rem',\n            alignItems: 'center'\n          }}>\n            <span style={{\n              fontFamily: \"'SEBANG Gothic', sans-serif\",\n              fontSize: '0.875rem',\n              color: '#64748b',\n              background: 'rgba(255, 255, 255, 0.7)',\n              padding: '0.25rem 0.75rem',\n              borderRadius: '12px'\n            }}>\n               \n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div style={{\n        display: 'flex',\n        height: 'calc(100vh - 80px)',\n        overflow: 'hidden',\n        background: 'linear-gradient(135deg, #fefefe 0%, #f8fafc 50%, #f1f5f9 100%)'\n      }}>\n        <main style={{\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          padding: '1.5rem',\n          overflow: 'hidden'\n        }}>\n          {isCurrentFilePDF ? (\n            <StaticPDFViewer\n              pdfFileName={currentFile.url.replace('/', '')}\n              pageNum={currentPageNum}\n              zoomScale={zoomScale}\n              selectedTool={selectedTool}\n              selectedColor={selectedColor}\n              brushSize={brushSize}\n              onStrokeDataChange={handleStrokeDataChange}\n              isRecording={isRecording}\n              teacherFeedbackData={teacherFeedback ? teacherFeedback.feedbackStrokeData : null}\n              showTeacherFeedback={showTeacherFeedback}\n              isTeacherMode={false}\n              isStudentMode={true}\n              onPageCountChange={setPageCount}\n            />\n          ) : (\n            <ImageViewer \n              imageUrl={currentPdfUrl}\n              zoomScale={zoomScale}\n              selectedTool={selectedTool}\n              selectedColor={selectedColor}\n              brushSize={brushSize}\n              onStrokeDataChange={handleStrokeDataChange}\n              isRecording={isRecording}\n              studentStrokeData={null}\n              studentAudioUrl={null}\n              teacherFeedbackData={teacherFeedback ? teacherFeedback.feedbackStrokeData : null}\n              showTeacherFeedback={showTeacherFeedback}\n              isTeacherMode={false}\n              isStudentMode={true}\n            />\n          )}\n        </main>\n      </div>\n      \n      {/*    */}\n      <div style={{\n        position: 'fixed',\n        bottom: '20px',\n        right: '20px',\n        zIndex: 1000\n      }}>\n        {/*   /  */}\n        {!isFloatingPanelOpen && (\n          <button\n            onClick={() => setIsFloatingPanelOpen(true)}\n            style={{\n              background: 'rgba(31, 41, 55, 0.95)',\n              backdropFilter: 'blur(10px)',\n              borderRadius: '50%',\n              width: '60px',\n              height: '60px',\n              border: 'none',\n              color: 'white',\n              cursor: 'pointer',\n              boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              marginBottom: '1rem',\n              transition: 'all 0.2s ease'\n            }}\n            onMouseEnter={(e) => {\n              e.target.style.transform = 'scale(1.1)';\n              e.target.style.backgroundColor = 'rgba(31, 41, 55, 1)';\n            }}\n            onMouseLeave={(e) => {\n              e.target.style.transform = 'scale(1)';\n              e.target.style.backgroundColor = 'rgba(31, 41, 55, 0.95)';\n            }}\n          >\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n            </svg>\n          </button>\n        )}\n\n        {isFloatingPanelOpen && (\n          <div style={{\n            background: 'rgba(31, 41, 55, 0.95)',\n            backdropFilter: 'blur(10px)',\n            borderRadius: '16px',\n            padding: '1rem',\n            boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\n            border: '1px solid rgba(75, 85, 99, 0.3)',\n            minWidth: '220px'\n          }}>\n            {/*   */}\n            <button\n              onClick={() => setIsFloatingPanelOpen(false)}\n              style={{\n                position: 'absolute',\n                top: '10px',\n                right: '10px',\n                background: 'rgba(75, 85, 99, 0.5)',\n                border: 'none',\n                borderRadius: '50%',\n                width: '30px',\n                height: '30px',\n                color: 'white',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '16px'\n              }}\n            >\n              \n            </button>\n          {/*    */}\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '0.75rem',\n            marginBottom: '1rem'\n          }}>\n            <div style={{\n              fontSize: '0.875rem',\n              fontWeight: '600',\n              color: '#f3f4f6',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-ui)'\n            }}>\n                & \n            </div>\n            \n            {/*   */}\n            <button\n              onClick={handleRecordingToggle}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.75rem',\n                padding: '0.75rem 1rem',\n                borderRadius: '12px',\n                backgroundColor: isRecording ? '#1f2937' : '#374151',\n                border: isRecording ? '2px solid #fbbf24' : '2px solid #6b7280',\n                color: isRecording ? '#fbbf24' : '#f3f4f6',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                animation: isRecording ? 'pulse 2s infinite' : 'none',\n                width: '100%'\n              }}\n              onMouseEnter={(e) => {\n                if (!isRecording) {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#9ca3af';\n                }\n              }}\n              onMouseLeave={(e) => {\n                if (!isRecording) {\n                  e.target.style.backgroundColor = '#374151';\n                  e.target.style.borderColor = '#6b7280';\n                }\n              }}\n            >\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z\"/>\n                <path d=\"M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/>\n              </svg>\n              <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                {isRecording ? ' ' : ' '}\n              </span>\n            </button>\n\n            {/*   */}\n            {audioUrl && !isRecording && (\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.5rem',\n                width: '100%'\n              }}>\n                {/* /  */}\n                <div style={{\n                  display: 'flex',\n                  gap: '0.5rem'\n                }}>\n                  <button\n                    onClick={handleCombinedReplay}\n                    disabled={isPlaying || isReplaying}\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem',\n                      padding: '0.5rem 0.75rem',\n                      borderRadius: '8px',\n                      backgroundColor: '#1f2937',\n                      border: '2px solid #8b5cf6',\n                      color: (isPlaying || isReplaying) ? '#6b7280' : '#8b5cf6',\n                      cursor: (isPlaying || isReplaying) ? 'not-allowed' : 'pointer',\n                      transition: 'all 0.2s ease',\n                      opacity: (isPlaying || isReplaying) ? 0.6 : 1,\n                      flex: 1\n                    }}\n                    onMouseEnter={(e) => {\n                      if (!isPlaying && !isReplaying) {\n                        e.target.style.backgroundColor = '#111827';\n                        e.target.style.borderColor = '#a78bfa';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (!isPlaying && !isReplaying) {\n                        e.target.style.backgroundColor = '#1f2937';\n                        e.target.style.borderColor = '#8b5cf6';\n                      }\n                    }}\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <path d=\"M8 5v14l11-7z\"/>\n                    </svg>\n                    <span style={{ fontSize: '0.75rem', fontFamily: 'var(--font-ui)' }}>\n                      \n                    </span>\n                  </button>\n                  \n                  <button\n                    onClick={handleCombinedStop}\n                    disabled={!isPlaying && !isReplaying}\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem',\n                      padding: '0.5rem 0.75rem',\n                      borderRadius: '8px',\n                      backgroundColor: '#1f2937',\n                      border: '2px solid #ef4444',\n                      color: (!isPlaying && !isReplaying) ? '#6b7280' : '#ef4444',\n                      cursor: (!isPlaying && !isReplaying) ? 'not-allowed' : 'pointer',\n                      transition: 'all 0.2s ease',\n                      opacity: (!isPlaying && !isReplaying) ? 0.6 : 1,\n                      flex: 1\n                    }}\n                    onMouseEnter={(e) => {\n                      if (isPlaying || isReplaying) {\n                        e.target.style.backgroundColor = '#111827';\n                        e.target.style.borderColor = '#f87171';\n                      }\n                    }}\n                    onMouseLeave={(e) => {\n                      if (isPlaying || isReplaying) {\n                        e.target.style.backgroundColor = '#1f2937';\n                        e.target.style.borderColor = '#ef4444';\n                      }\n                    }}\n                  >\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                      <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\"/>\n                      <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\"/>\n                    </svg>\n                    <span style={{ fontSize: '0.75rem', fontFamily: 'var(--font-ui)' }}>\n                      \n                    </span>\n                  </button>\n                </div>\n\n                {/*    */}\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '0.25rem'\n                }}>\n                  <div style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    fontSize: '0.7rem',\n                    color: '#9ca3af',\n                    fontFamily: 'var(--font-ui)'\n                  }}>\n                    <span>{formatTime(currentTime)}</span>\n                    <span>{formatTime(audioDuration)}</span>\n                  </div>\n                  \n                  <div style={{\n                    width: '100%',\n                    height: '6px',\n                    background: '#374151',\n                    borderRadius: '3px',\n                    overflow: 'hidden',\n                    cursor: 'pointer',\n                    position: 'relative'\n                  }}\n                  onClick={(e) => {\n                    if (audioDuration > 0) {\n                      const rect = e.currentTarget.getBoundingClientRect();\n                      const clickX = e.clientX - rect.left;\n                      const percentage = Math.max(0, Math.min(1, clickX / rect.width));\n                      const newTime = percentage * audioDuration;\n                      handleTimeChange(newTime);\n                    }\n                  }}\n                  >\n                    <div style={{\n                      width: `${audioDuration > 0 ? (currentTime / audioDuration) * 100 : 0}%`,\n                      height: '100%',\n                      background: 'linear-gradient(90deg, #8b5cf6, #a78bfa)',\n                      transition: 'width 0.1s ease',\n                      position: 'relative'\n                    }}>\n                      <div style={{\n                        position: 'absolute',\n                        right: '-6px',\n                        top: '50%',\n                        transform: 'translateY(-50%)',\n                        width: '12px',\n                        height: '12px',\n                        background: '#8b5cf6',\n                        borderRadius: '50%',\n                        border: '2px solid white',\n                        boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n                      }}></div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/*    ( + ) */}\n            {(audioUrl || strokeData.length > 0) && !isRecording && (\n              <button\n                onClick={handleCombinedReplay}\n                disabled={isReplaying || isPlaying}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #f59e0b',\n                  color: (isReplaying || isPlaying) ? '#6b7280' : '#f59e0b',\n                  cursor: (isReplaying || isPlaying) ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.2s ease',\n                  opacity: (isReplaying || isPlaying) ? 0.6 : 1,\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  if (!isReplaying && !isPlaying) {\n                    e.target.style.backgroundColor = '#111827';\n                    e.target.style.borderColor = '#fbbf24';\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (!isReplaying && !isPlaying) {\n                    e.target.style.backgroundColor = '#1f2937';\n                    e.target.style.borderColor = '#f59e0b';\n                  }\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M8 5v14l11-7z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                  {(isReplaying || isPlaying) ? ' ...' : ' '}\n                </span>\n              </button>\n            )}\n          </div>\n\n          {/*   */}\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '0.75rem',\n            marginBottom: '1rem'\n          }}>\n            <div style={{\n              fontSize: '0.875rem',\n              fontWeight: '600',\n              color: '#f3f4f6',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-ui)'\n            }}>\n               \n            </div>\n\n            {/*    */}\n            {(audioUrl || strokeData.length > 0) && !isRecording && (\n              <button\n                onClick={handleRerecord}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #ef4444',\n                  color: '#ef4444',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = '#111827';\n                  e.target.style.borderColor = '#f87171';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#ef4444';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                   \n                </span>\n              </button>\n            )}\n\n            {/*    ( ) */}\n            {(strokeData.length > 0 || audioUrl) && !isRecording && !studentSubmission && (\n              <button\n                onClick={handleStudentSubmission}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #10b981',\n                  color: '#34d399',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = '#111827';\n                  e.target.style.borderColor = '#34d399';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#10b981';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                   \n                </span>\n              </button>\n            )}\n\n            {/*    ( ) */}\n            {currentPage === 'teacherDetail' && (\n              <button\n                onClick={() => {\n                  //   \n                  setCurrentPage('teacherDetail');\n                }}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #ef4444',\n                  color: '#fca5a5',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = '#111827';\n                  e.target.style.borderColor = '#fca5a5';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#ef4444';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                     \n                </span>\n              </button>\n            )}\n\n            {/*    ( ) */}\n            {strokeData.length > 0 && !isRecording && studentSubmission && (\n              <button\n                onClick={handleTeacherFeedback}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #3b82f6',\n                  color: '#60a5fa',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = '#111827';\n                  e.target.style.borderColor = '#60a5fa';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#3b82f6';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                    \n                </span>\n              </button>\n            )}\n          </div>\n\n                      {/*   on/off  */}\n            {teacherFeedback && (\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.75rem',\n                marginBottom: '1rem'\n              }}>\n                <div style={{\n                  fontSize: '0.875rem',\n                  fontWeight: '600',\n                  color: '#f3f4f6',\n                  marginBottom: '0.5rem',\n                  fontFamily: 'var(--font-ui)'\n                }}>\n                   \n                </div>\n\n                <button\n                  onClick={() => setShowTeacherFeedback(!showTeacherFeedback)}\n                  style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.75rem',\n                    padding: '0.75rem 1rem',\n                    borderRadius: '12px',\n                    backgroundColor: '#1f2937',\n                    border: showTeacherFeedback ? '2px solid #10b981' : '2px solid #6b7280',\n                    color: showTeacherFeedback ? '#10b981' : '#f3f4f6',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                    width: '100%'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.target.style.backgroundColor = '#111827';\n                    e.target.style.borderColor = showTeacherFeedback ? '#10b981' : '#9ca3af';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.target.style.backgroundColor = '#1f2937';\n                    e.target.style.borderColor = showTeacherFeedback ? '#10b981' : '#6b7280';\n                  }}\n                >\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"/>\n                  </svg>\n                  <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                    {showTeacherFeedback ? ' ' : ' '}\n                  </span>\n                </button>\n              </div>\n            )}\n\n            {/*    */}\n            <div style={{\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '0.75rem',\n              marginBottom: '1rem'\n            }}>\n              <div style={{\n                fontSize: '0.875rem',\n                fontWeight: '600',\n                color: '#f3f4f6',\n                marginBottom: '0.5rem',\n                fontFamily: 'var(--font-ui)'\n              }}>\n                 \n              </div>\n\n              <button\n                onClick={handleViewStudentFeedback}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.75rem',\n                  padding: '0.75rem 1rem',\n                  borderRadius: '12px',\n                  backgroundColor: '#1f2937',\n                  border: '2px solid #8b5cf6',\n                  color: '#8b5cf6',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s ease',\n                  width: '100%'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.backgroundColor = '#111827';\n                  e.target.style.borderColor = '#a78bfa';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.backgroundColor = '#1f2937';\n                  e.target.style.borderColor = '#8b5cf6';\n                }}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </svg>\n                <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                   \n                </span>\n              </button>\n            </div>\n\n          {/* AI  */}\n          <div style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '0.75rem'\n          }}>\n            <div style={{\n              fontSize: '0.875rem',\n              fontWeight: '600',\n              color: '#f3f4f6',\n              marginBottom: '0.5rem',\n              fontFamily: 'var(--font-ui)'\n            }}>\n               AI \n            </div>\n\n            <button\n              onClick={() => {\n                console.log('AI  ');\n                setIsAIChatbotOpen(true);\n              }}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.75rem',\n                padding: '0.75rem 1rem',\n                borderRadius: '12px',\n                backgroundColor: '#1f2937',\n                border: '2px solid #4b5563',\n                color: '#f3f4f6',\n                cursor: 'pointer',\n                transition: 'all 0.2s ease',\n                width: '100%'\n              }}\n              onMouseEnter={(e) => {\n                e.target.style.backgroundColor = '#111827';\n                e.target.style.borderColor = '#6b7280';\n              }}\n              onMouseLeave={(e) => {\n                e.target.style.backgroundColor = '#1f2937';\n                e.target.style.borderColor = '#4b5563';\n              }}\n            >\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                <g opacity=\"0.9\">\n                  <rect x=\"6\" y=\"12\" width=\"1.5\" height=\"3\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"8\" y=\"10\" width=\"1.5\" height=\"7\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"10\" y=\"8\" width=\"1.5\" height=\"11\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"12\" y=\"6\" width=\"1.5\" height=\"15\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"14\" y=\"8\" width=\"1.5\" height=\"11\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"16\" y=\"10\" width=\"1.5\" height=\"7\" rx=\"0.75\" fill=\"currentColor\"/>\n                  <rect x=\"18\" y=\"12\" width=\"1.5\" height=\"3\" rx=\"0.75\" fill=\"currentColor\"/>\n                </g>\n                <g opacity=\"0.8\">\n                  <path d=\"M12 2l1.5 4.5L18 8l-4.5 1.5L12 14l-1.5-4.5L6 8l4.5-1.5L12 2z\" fill=\"currentColor\"/>\n                </g>\n              </svg>\n              <span style={{ fontSize: '0.875rem', fontFamily: 'var(--font-ui)' }}>\n                AI \n              </span>\n            </button>\n          </div>\n          </div>\n        )}\n      </div>\n\n      {/*    */}\n      {isReplaying && (\n        <div style={{\n          position: 'fixed',\n          bottom: '100px',\n          right: '20px',\n          background: 'rgba(31, 41, 55, 0.9)',\n          color: 'white',\n          padding: '1rem',\n          borderRadius: '12px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n          zIndex: 1001,\n          minWidth: '200px'\n        }}>\n          <div style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            marginBottom: '0.5rem'\n          }}>\n            <div style={{\n              width: '12px',\n              height: '12px',\n              borderRadius: '50%',\n              background: '#f59e0b',\n              animation: 'pulse 1s infinite'\n            }}></div>\n            <span style={{ fontSize: '0.9rem', fontFamily: 'var(--font-ui)' }}>\n                ...\n            </span>\n          </div>\n          <div style={{\n            width: '100%',\n            height: '4px',\n            background: '#374151',\n            borderRadius: '2px',\n            overflow: 'hidden'\n          }}>\n            <div style={{\n              width: `${replayProgress}%`,\n              height: '100%',\n              background: 'linear-gradient(90deg, #f59e0b, #fbbf24)',\n              transition: 'width 0.1s ease'\n            }}></div>\n          </div>\n          <div style={{\n            fontSize: '0.8rem',\n            color: '#9ca3af',\n            marginTop: '0.25rem',\n            textAlign: 'center',\n            fontFamily: 'var(--font-ui)'\n          }}>\n            {Math.round(replayProgress)}% \n          </div>\n        </div>\n      )}\n\n      {/* AI   */}\n      <AIChatbot\n        isOpen={isAIChatbotOpen}\n        onClose={() => setIsAIChatbotOpen(false)}\n        bookTitle={files[activeFileIndex]?.title || ''}\n      />\n\n\n      {/* CSS     */}\n      <style jsx>{`\n        @keyframes pulse {\n          0% {\n            box-shadow: 0 4px 12px rgba(31, 41, 55, 0.4), 0 0 0 4px rgba(251, 191, 36, 0.2);\n          }\n          50% {\n            box-shadow: 0 4px 12px rgba(31, 41, 55, 0.6), 0 0 0 8px rgba(251, 191, 36, 0.1);\n          }\n          100% {\n            box-shadow: 0 4px 12px rgba(31, 41, 55, 0.4), 0 0 0 4px rgba(251, 191, 36, 0.2);\n          }\n        }\n\n        /*    */\n        @media (max-width: 1024px) and (min-width: 768px) {\n          .pdf-viewer-container {\n            padding: 0.5rem !important;\n          }\n          \n          .pdf-canvas {\n            max-width: 100% !important;\n            height: auto !important;\n          }\n          \n          .floating-panel {\n            position: fixed !important;\n            bottom: 1rem !important;\n            right: 1rem !important;\n            left: 1rem !important;\n            width: auto !important;\n            max-width: none !important;\n            padding: 1rem !important;\n          }\n          \n          .toolbar {\n            flex-wrap: wrap !important;\n            gap: 0.5rem !important;\n            padding: 0.75rem !important;\n          }\n          \n          .toolbar-button {\n            min-width: 44px !important;\n            min-height: 44px !important;\n            padding: 0.5rem !important;\n            font-size: 0.875rem !important;\n          }\n          \n          .modal-content {\n            max-width: 95% !important;\n            max-height: 90% !important;\n            padding: 1.5rem !important;\n            margin: 1rem !important;\n          }\n          \n          .modal-title {\n            font-size: 1.5rem !important;\n          }\n          \n          .modal-button {\n            padding: 0.75rem 1.5rem !important;\n            font-size: 1rem !important;\n            min-height: 44px !important;\n          }\n        }\n\n        /*    */\n        @media (max-width: 767px) {\n          .pdf-viewer-container {\n            padding: 0.25rem !important;\n          }\n          \n          .floating-panel {\n            position: fixed !important;\n            bottom: 0.5rem !important;\n            right: 0.5rem !important;\n            left: 0.5rem !important;\n            width: auto !important;\n            max-width: none !important;\n            padding: 0.75rem !important;\n          }\n          \n          .toolbar {\n            flex-wrap: wrap !important;\n            gap: 0.25rem !important;\n            padding: 0.5rem !important;\n          }\n          \n          .toolbar-button {\n            min-width: 40px !important;\n            min-height: 40px !important;\n            padding: 0.375rem !important;\n            font-size: 0.75rem !important;\n          }\n          \n          .modal-content {\n            max-width: 98% !important;\n            max-height: 95% !important;\n            padding: 1rem !important;\n            margin: 0.5rem !important;\n          }\n          \n          .modal-title {\n            font-size: 1.25rem !important;\n          }\n          \n          .modal-button {\n            padding: 0.625rem 1rem !important;\n            font-size: 0.875rem !important;\n            min-height: 40px !important;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\nreportWebVitals();\n"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","r","t","u","v","w","x","y","z","iterator","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","assign","D","E","this","context","refs","updater","F","G","isReactComponent","setState","Error","forceUpdate","H","constructor","isPureReactComponent","I","Array","isArray","J","K","L","M","arguments","length","children","O","P","Q","replace","escape","toString","R","N","push","A","next","done","value","String","keys","join","S","T","_status","_result","then","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","X","Children","map","forEach","apply","count","toArray","only","Component","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createElement","createFactory","bind","createRef","forwardRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDebugValue","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","version","pop","sortIndex","id","performance","now","unstable_now","Date","setTimeout","clearTimeout","setImmediate","callback","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_IdlePriority","unstable_ImmediatePriority","unstable_LowPriority","unstable_NormalPriority","unstable_Profiling","unstable_UserBlockingPriority","unstable_cancelCallback","unstable_continueExecution","unstable_forceFrameRate","console","error","Math","floor","unstable_getCurrentPriorityLevel","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_requestPaint","unstable_runWithPriority","unstable_scheduleCallback","delay","unstable_shouldYield","unstable_wrapCallback","createRoot","hydrateRoot","aa","ca","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","ja","ka","la","ma","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","split","toLowerCase","ra","sa","toUpperCase","ta","slice","pa","isNaN","qa","test","oa","removeAttribute","setAttribute","setAttributeNS","xlinkHref","ua","va","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","stack","trim","match","Na","Oa","prepareStackTrace","defineProperty","set","Reflect","construct","displayName","includes","name","Pa","tag","Qa","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","get","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","Yb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","oc","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","dd","ed","fd","gd","hd","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","concat","nf","Ub","instance","listener","of","has","pf","qf","rf","random","sf","capture","passive","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","Gf","Hf","Promise","Jf","queueMicrotask","resolve","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","Vf","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","_stringRef","Mg","Ng","Og","index","Pg","Qg","Rg","implementation","Sg","Tg","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","nh","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","di","lastEffect","stores","ei","fi","gi","hi","ii","create","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","Bi","readContext","useMutableSource","unstable_isNewReconciler","identifierPrefix","Ci","Di","Ei","_reactInternals","Fi","shouldComponentUpdate","Gi","contextType","state","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","Xi","Yi","Zi","$i","aj","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","Gj","Hj","Ij","Jj","Kj","WeakSet","Lj","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","createPortal","cl","unstable_strictMode","findDOMNode","flushSync","hydrate","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","chunkId","all","reduce","promises","miniCssF","obj","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","i","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","fn","head","toStringTag","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","_typeof","toPropertyKey","toPrimitive","TypeError","Number","_defineProperty","writable","ownKeys","getOwnPropertySymbols","filter","_objectSpread2","getOwnPropertyDescriptors","defineProperties","_ref","onSelectUserType","VideoCard","_ref2","isSmall","_jsx","_objectSpread","margin","position","borderRadius","boxShadow","loop","muted","autoPlay","playsInline","objectFit","bottom","transform","userTypes","title","subtitle","description","icon","_jsxs","viewBox","fill","xmlns","stroke","strokeLinecap","strokeLinejoin","badge","minHeight","background","fontFamily","padding","backdropFilter","borderBottom","maxWidth","justifyContent","alignItems","gap","fontSize","textDecoration","textAlign","marginBottom","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","gridTemplateColumns","userType","border","cursor","onMouseEnter","onMouseLeave","right","marginTop","process","borderTop","onLogin","username","setUsername","setPassword","onSubmit","placeholder","onChange","backgroundColor","outline","onFocus","borderColor","onBlur","files","onBookSelect","onBackToLogin","feedbackAlert","setFeedbackAlert","setTeacherFeedback","notifications","setNotifications","searchTerm","setSearchTerm","favorites","setFavorites","activeTab","setActiveTab","filteredFiles","file","sortedFiles","sort","aIsFavorite","bIsFavorite","minWidth","feedback","localStorage","getItem","parse","_Fragment","toggleFavorite","fileId","newFavorites","flexWrap","flexDirection","alert","imageUrl","zoomScale","selectedTool","selectedColor","brushSize","onStrokeDataChange","isRecording","studentStrokeData","studentAudioUrl","teacherFeedbackData","showTeacherFeedback","isTeacherMode","isStudentMode","imageRef","markupCanvasRef","containerRef","imageLoaded","setImageLoaded","imageError","setImageError","savedDrawings","setSavedDrawings","isDrawing","setIsDrawing","lastPos","setLastPos","currentPath","setCurrentPath","drawStroke","drawing","points","beginPath","lineWidth","lineCap","lineJoin","tool","globalAlpha","globalCompositeOperation","strokeStyle","moveTo","lineTo","redrawMarkups","canvas","getContext","clearRect","handleImageLoad","image","naturalWidth","naturalHeight","getEventPos","canvasRect","getBoundingClientRect","canvasX","canvasY","max","startDrawing","pos","draw","eraseSize","stopDrawing","newDrawing","timestamp","toISOString","updatedDrawings","transformOrigin","alt","onLoad","onMouseDown","onDragStart","userSelect","pointerEvents","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","_toSetter","_checkPrivateRedeclaration","_classPrivateMethodInitSpec","_classPrivateFieldInitSpec","_assertClassBrand","_classPrivateGetter","_classPrivateFieldSet2","AsyncFromSyncIterator","AsyncFromSyncIteratorContinuation","isNodeJS","versions","nw","electron","FONT_IDENTITY_MATRIX","LINE_FACTOR","RenderingIntentFlag","AnnotationMode","DISABLE","ENABLE","ENABLE_FORMS","ENABLE_STORAGE","AnnotationEditorPrefix","AnnotationEditorType","NONE","FREETEXT","HIGHLIGHT","STAMP","INK","POPUP","SIGNATURE","COMMENT","AnnotationEditorParamsType","RESIZE","CREATE","FREETEXT_SIZE","FREETEXT_COLOR","FREETEXT_OPACITY","INK_COLOR","INK_THICKNESS","INK_OPACITY","HIGHLIGHT_COLOR","HIGHLIGHT_THICKNESS","HIGHLIGHT_FREE","HIGHLIGHT_SHOW_ALL","DRAW_STEP","TextRenderingMode","util_ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","UNDERLINE","SQUIGGLY","STRIKEOUT","CARET","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationBorderStyleType","VerbosityLevel","ERRORS","WARNINGS","INFOS","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","curveTo","curveTo2","curveTo3","closePath","rectangle","closeStroke","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotation","endAnnotation","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","setStrokeTransparent","setFillTransparent","rawFillPath","DrawOPS","verbosity","setVerbosityLevel","level","isInteger","getVerbosityLevel","info","msg","warn","unreachable","assert","cond","createValidAbsoluteUrl","baseUrl","addDefaultProtocol","startsWith","dots","tryConvertEncoding","decodeURIComponent","_unused","absoluteUrl","URL","protocol","_isValidProtocol","updateUrlHash","hash","allowRel","res","shadow","nonSerializable","BaseException","PasswordException","super","UnknownErrorException","details","InvalidPDFException","ResponseException","status","missing","FormatError","AbortException","bytesToString","bytes","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","chunk","subarray","stringToBytes","str","Uint8Array","charCodeAt","util_FeatureTest","isLittleEndian","buffer8","Uint32Array","buffer","isEvalSupported","Function","_unused2","isOffscreenCanvasSupported","OffscreenCanvas","isImageDecoderSupported","ImageDecoder","platform","userAgent","isAndroid","isLinux","isMac","isWindows","isFirefox","isCSSRoundSupported","_globalThis$CSS","_globalThis$CSS$suppo","globalThis","CSS","supports","hexNumbers","from","padStart","Util","makeHexColor","domMatrixToTransform","dm","scaleMinMax","minMax","temp","m1","m2","multiplyByDOMMatrix","applyTransform","p0","p1","applyTransformToBezier","m0","m3","m4","m5","pI","pI1","applyInverseTransform","axialAlignedBoundingBox","rect","output","r0","r1","r2","r3","a0","a2","a1","a3","b0","b2","b1","b3","m1r0","m1r2","m2r1","m2r3","inverseTransform","singularValueDecompose2dScale","matrix","first","second","sqrt","normalizeRect","intersect","rect1","rect2","xLow","xHigh","yLow","yHigh","pointBoundingBox","rectBoundingBox","x0","y0","x1","y1","bezierBoundingBox","x2","y2","x3","y3","_getExtremum","_getExtremumOnCurve","mt","tt","ttt","abs","delta","sqrtDelta","_Util","NormalizeRegex","NormalizationMap","getUuid","crypto","randomUUID","buf","getRandomValues","AnnotationPrefix","MathClamp","toBase64Util","arr","toBase64","btoa","try","_len","args","_key","sumPrecise","numbers","SVG_NS","PixelsPerInch","async","fetchData","isValidFetchUrl","baseURI","response","fetch","statusText","arrayBuffer","blob","json","XMLHttpRequest","open","responseType","onreadystatechange","readyState","DONE","responseText","send","_PixelsPerInch","PDF","PageViewport","userUnit","scale","rotation","offsetX","offsetY","dontFlip","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","rawDims","dims","pageWidth","pageHeight","clone","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","RenderingCancelledException","extraDelay","isDataScheme","isPdfFile","filename","StatTimer","started","timeEnd","times","outBuf","longest","padEnd","noContextMenu","stopEvent","PDFDateString","toDateObject","_regex","_","RegExp","matches","exec","year","parseInt","day","hour","minute","universalTimeRelation","offsetHour","offsetMinute","UTC","getRGB","colorRGB","getCurrentTransform","ctx","getTransform","getCurrentTransformInverse","invertSelf","setLayerDimensions","div","viewport","mustFlip","mustRotate","useRound","widthStr","heightStr","OutputScale","pixelRatio","sx","sy","scaled","symmetric","limitCanvas","maxPixels","maxDim","capAreaFactor","maxAreaScale","maxWidthScale","maxHeightScale","capPixels","maxScale","devicePixelRatio","winPixels","screen","availWidth","availHeight","SupportedImageMimeTypes","EditorToolbar","editor","_EditorToolbar_brand","_toolbar","_colorPicker","_editor","_buttons","_altText","_comment","_signatureDescriptionButton","_classPrivateFieldSet","_l10nRemove","freeze","freetext","highlight","ink","stamp","signature","editToolbar","classList","signal","_classPrivateFieldGet","_uiManager","_signal","AbortSignal","aborted","_pointerDown","className","append","toolbarPosition","direction","insetInlineEnd","hide","_classPrivateFieldGet2","hideDropdown","show","_classPrivateFieldGet3","_classPrivateFieldGet4","remove","shown","addDeleteButton","editorType","tabIndex","_addListenersToElement","addAltText","altText","_get_divider","addComment","comment","toolbar","addColorPicker","colorPicker","renderButton","addEditSignatureButton","signatureManager","renderEditButton","addButton","updateEditSignatureButton","_classPrivateFieldGet5","_focusIn","_focusEventsAllowed","_focusOut","_this","divider","_buttons2","_toolbar2","_uiManager2","_FloatingToolbar_brand","FloatingToolbar","uiManager","parent","boxes","isLTR","_getLastPoint","_render","hasCommentManager","_makeButton","commentSelection","highlightSelection","lastY","lastX","box","buttonClass","l10nId","labelL10nId","clickHandler","span","bindEvents","names","_id","IdManager","_this$id","_this$id2","_baseId","_id2","_cache","_ImageManager_brand","ImageManager","_isSVGFittingCanvas","willReadFrequently","Image","decode","drawImage","getImageData","getFromFile","lastModified","_get","getFromUrl","getFromBlob","blobPromise","getFromId","bitmap","refCounter","getFromCanvas","_this$id5","_this$id6","_data2","offscreen","transferToImageBitmap","isSvg","getSvgUrl","svgUrl","deleteId","_bitmap$close","transferFromImageBitmap","convertToBlob","close","isValidId","rawData","_data4","_this$id3","_this$id4","File","Blob","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","result","readAsDataURL","createImageBitmap","_ImageManager","_commands","_locked","_maxSize","_position","CommandManager","maxSize","_ref3","cmd","undo","post","mustExec","NaN","overwriteIfSameType","keepUndo","redo","hasSomethingToUndo","hasSomethingToRedo","cleanType","_KeyboardManager_brand","KeyboardManager","callbacks","allKeys","isMacKey","at","_serialize","checker","ColorManager","_colors","colors","visibility","colorScheme","computedColor","getComputedStyle","getColorValues","convert","rgb","matchMedia","RGB","every","_colorsMapping","getHexCode","_abortController","_activeEditor","_allEditableAnnotations","_allEditors","_allLayers","_altTextManager","_annotationStorage","_changedExistingAnnotations","_commandManager","_commentManager","_copyPasteAC","_currentDrawingSession","_currentPageIndex","_deletedAnnotationsElementIds","_draggingEditors","_editorTypes","_editorsToRescale","_enableHighlightFloatingButton","_enableUpdatedAddImage","_enableNewAltTextWhenAddingImage","_filterFactory","_focusMainContainerTimeoutId","_focusManagerAC","_highlightColors2","_highlightWhenShiftUp","_floatingToolbar","_idManager","_isEnabled","_isPointerDown","_isWaiting","_keyboardManagerAC","_lastActiveElement","_mainHighlightColorPicker","_missingCanvases","_mlManager","_mode","_selectedEditors","_selectedTextNode","_signatureManager","_pageColors","_showAllStates","_pdfDocument","_previousStates","_translation","_translationTimeoutId","_container","_viewer","_viewerAlert","_updateModeCapability","_AnnotationEditorUIManager_brand","AnnotationEditorUIManager","_keyboardManager","proto","arrowChecker","hasSomethingToControl","textInputChecker","_self","_ref4","HTMLInputElement","small","TRANSLATE_SMALL","big","TRANSLATE_BIG","selectAll","addNewEditorFromKeyboard","_ref5","HTMLButtonElement","isEnterHandled","_ref6","unselectAll","translateSelectedEditors","container","viewer","viewerAlert","altTextManager","commentManager","eventBus","pdfDocument","pageColors","highlightColors","enableHighlightFloatingButton","enableUpdatedAddImage","enableNewAltTextWhenAddingImage","mlManager","editorUndoBar","supportsPinchToZoom","AbortController","isEditing","isEmpty","hasSelectedEditor","hasSelectedText","_eventBus","_on","onEditingAction","onPageChanging","onScaleChanging","onRotationChanging","onSetPreference","evt","updateParams","_addSelectionListener","_addDragAndDropListeners","_addKeyboardManager","annotationStorage","filterFactory","viewParameters","realScale","PDF_TO_CSS_UNITS","isShiftKeyDown","_editorUndoBar","_supportsPinchToZoom","_classPrivateFieldGet6","_classPrivateFieldGet7","_classPrivateFieldGet8","_classPrivateFieldGet9","_classPrivateFieldGet0","_classPrivateFieldGet1","_classPrivateFieldGet10","_classPrivateFieldGet11","_this$_editorUndoBar","abort","layer","values","clear","combinedSignal","any","useNewAltTextFlow","useNewAltTextWhenAddingImage","hcmFilter","addHCMFilter","foreground","_highlightColors","pair","hasHCM","isNameForHCM","endsWith","highlightColorNames","reverse","getNonHCMColor","colorName","getNonHCMColorName","setCurrentDrawingSession","disableUserSelect","setMainHighlightColorPicker","editAltText","_classPrivateFieldGet12","firstTime","editComment","_classPrivateFieldGet13","getSignature","_classPrivateFieldGet14","switchToMode","on","once","setPreference","_ref7","_ref8","pageNumber","focusMainContainer","findParent","layerX","layerY","toggle","addShouldRescale","removeShouldRescale","_ref9","_classPrivateFieldGet15","commitOrRemove","_ref0","pagesRotation","methodOfCreation","selection","isCollapsed","textLayer","_getAnchorElementForSelection","closest","getSelectionBoxes","empty","_getLayerForTextLayer","isNoneMode","createAndAddNewEditor","showAllEditors","addToAnnotationStorage","a11yAlert","messageId","blur","_onSelectEnd","hasSelection","lastEditor","lastActiveElement","addEditListeners","_addCopyPasteListeners","removeEditListeners","_removeKeyboardManager","_removeCopyPasteListeners","dragOver","items","isHandlingMimeForPasting","dropEffect","drop","item","paste","currentLayer","copy","_classPrivateFieldGet16","editors","serialized","serialize","setData","cut","getData","ex","newEditors","deserializedEditor","deserialize","_addEditorToLayer","_selectEditors","addCommands","keydown","isEditorHandlingKeyboard","keyup","_ref1","setEditingState","_addFocusManager","_dispatchUpdateStates","_isEmpty","_removeFocusManager","registerEditorTypes","types","_dispatchUpdateUI","defaultPropertiesToUpdate","getId","getLayer","pageIndex","currentPageIndex","addLayer","enable","disable","removeLayer","updateMode","_classPrivateFieldGet17","editId","isFromKeyboard","mustEnterInEditMode","_classPrivateFieldGet18","_this$_editorUndoBar2","_classPrivateFieldGet19","_classPrivateFieldGet20","withResolvers","hideSidebar","_disableAll","loadSignatures","getAnnotationsByType","editorClass","_editorType","showSidebar","_enableAll","annotationElementId","setSelected","enterInEditMode","unselect","canCreateNewEmptyEditor","addNewEditor","updateToolbar","updateDefaultParams","visible","_classPrivateFieldGet21","_classPrivateFieldGet22","enableWaiting","mustWait","disableClick","enableClick","getEditors","getEditor","addEditor","removeEditor","_classPrivateFieldGet23","_classPrivateFieldGet24","addDeletedAnnotationElement","addChangedExistingAnnotation","deleted","isDeletedAnnotationElement","removeDeletedAnnotationElement","removeChangedExistingAnnotation","setActiveEditor","propertiesToUpdate","updateUI","_get_lastSelectedEditor","updateUIForDefaultProperties","toggleSelected","select","_classPrivateFieldGet25","isSelected","firstSelectedEditor","_this$_editorUndoBar3","params","cleanUndoStack","_this$currentLayer","drawingEditor","endDrawingSession","_this$_editorUndoBar4","_classPrivateFieldGet26","commit","_classPrivateFieldGet27","totalX","totalY","translateInPage","translationDone","setUpDragSession","savedX","savedY","savedPageIndex","newX","newY","newPageIndex","endDragSession","mustBeAddedInUndoStack","move","_setParentAndPosition","dragSelectedEditors","tx","ty","drag","rebuild","changeParent","addOrRebuild","_this$getActive","getActive","shouldGetKeyboardEvents","isActive","getMode","imageManager","getRangeAt","commonAncestorContainer","parentWidth","parentHeight","rotator","collapsed","getClientRects","_ref10","_ref11","_classPrivateFieldGet28","renderAnnotationElement","annotation","_classPrivateFieldGet29","editorId","getRawValue","hasBeenModified","setMissingCanvas","annotationId","_classPrivateFieldGet30","setCanvas","addMissingCanvas","_ref91","Node","TEXT_NODE","parentElement","hasTextLayer","_displayFloatingToolbar","_selectionChange","_classPrivateFieldGet101","_classPrivateFieldGet99","_classPrivateFieldGet100","activeLayer","toggleDrawing","pointerup","_classPrivateFieldGet102","_classPrivateFieldGet103","_classPrivateFieldGet104","entries","_ref92","_this2","AltText","_AltText_brand","_altText2","_altTextDecorative","_altTextButton","_altTextButtonLabel","_altTextTooltip","_altTextTooltipTimeout","_altTextWasFromKeyBoard","_badge","_editor2","_guessedText","_textWithDisclaimer","_useNewAltTextFlow","_l10nNewButton","added","review","initialize","l10n","_AltText$_l10n","_l10n","label","_reportTelemetry","_get_label","_setState","finish","focusVisible","hasData","guessedText","setGuessedText","generatedAltText","toggleAltTextBadge","_classPrivateFieldGet31","isForCopying","decorative","textWithDisclaimer","_ref12","cancel","enabled","_classPrivateFieldGet32","_classPrivateFieldGet33","_this3","_classPrivateFieldGet105","_classPrivateFieldGet106","_classPrivateFieldGet107","tooltip","DELAY_TO_SHOW_TOOLTIP","_classPrivateFieldGet108","getElementForAltText","Comment","_commentButton","_commentWasFromKeyBoard","_editor3","_initialText","_text","_date","_deleted","edit","getClientDimensions","isDeleted","hasBeenEdited","setInitialText","_classPrivateFieldGet34","TouchManager","_ref13","isPinchingDisabled","isPinchingStopped","onPinchStart","onPinching","onPinchEnd","_TouchManager_brand","_container2","_isPinching","_isPinchingStopped","_isPinchingDisabled","_onPinchStart","_onPinching","_onPinchEnd","_pointerDownAC","_signal2","_touchInfo","_touchManagerAC","_touchMoveAC","_onTouchStart","MIN_TOUCH_DISTANCE_TO_PINCH","_classPrivateFieldGet35","_classPrivateFieldGet36","_classPrivateFieldGet109","_classPrivateFieldGet112","pointerDownAC","opts","cancelPointerDown","_classPrivateFieldGet110","_classPrivateFieldGet111","opt","_onTouchMove","_onTouchEnd","touch0","touch1","identifier","touch0X","touch0Y","touch1X","touch1Y","_classPrivateFieldGet113","screen0X","screen0Y","screen1X","screen1Y","touchInfo","pTouch0X","pTouch0Y","pTouch1X","pTouch1Y","prevGapX","prevGapY","currGapX","currGapY","distance","hypot","pDistance","origin","_classPrivateFieldGet114","_TouchManager","AnnotationEditor","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","parameters","_AnnotationEditor_brand","_accessibilityData","_allResizerDivs","_altText3","_comment2","_disabled","_dragPointerId","_dragPointerType","_keepAspectRatio","_resizersDiv","_lastPointerCoords","_savedDimensions","_focusAC","_focusedResizerName","_hasBeenClicked","_initialRect","_isEditing","_isInEditMode","_isResizerEnabledForKeyboard","_moveInDOMTimeout","_prevDragX","_prevDragY","_telemetryTimeouts","_touchManager","_isDraggable","_zIndex","_willKeepAspectRatio","_initialOptions","isCentered","_structTreeParentId","pageRotation","pageDimensions","pageTranslation","parentDimensions","isAttachedToDOM","getPrototypeOf","_type","isDrawer","_defaultLineColor","_colorManager","deleteAnnotationElement","fakeEditor","FakeEditor","getNextId","_AnnotationEditor$_l","_l10nResizer","topMiddle","topRight","middleRight","bottomMiddle","bottomLeft","middleLeft","_borderLineWidth","parseFloat","getPropertyValue","_value","mime","_this$div","center","parentRotation","fixAndSetPosition","setInBackground","setInForeground","setParent","_stopResizing","focusin","focusout","_this$parent","isMultipleSelection","isInEditMode","setAt","screenToPageTranslation","_moveAfterPaste","baseX","baseY","_onTranslated","translate","_translate","scrollIntoView","block","findNewParent","bx","by","getBaseTranslation","toFixed","_onTranslating","_hasBeenMoved","_hasBeenResized","_mustFixPosition","moveInDOM","_rotatePoint","pageTranslationToScreen","parentScale","setDims","fixDims","widthPercent","heightPercent","getInitialTranslation","_onResized","_round","round","_onResizing","altTextFinish","_classPrivateFieldGet37","toolbarButtons","addEditToolbar","_editToolbar","addCommentButton","removeEditToolbar","_classPrivateFieldGet38","addContainer","_this$_editToolbar","editToolbarDiv","before","createAltText","altTextData","_classPrivateFieldGet39","guessedAltText","_classPrivateFieldGet40","setGuessedAltText","_classPrivateFieldGet41","serializeAltText","_classPrivateFieldGet42","hasAltText","hasAltTextData","_classPrivateFieldGet43","_classPrivateFieldGet44","commentColor","setCommentData","hasEditedComment","_classPrivateFieldGet45","DEFAULT_POPUP_WIDTH","DEFAULT_POPUP_HEIGHT","trY","blX","blY","trX","popup","contents","_this$_uiManager$_edi","defaultL10nId","_isVisible","_addFocusListeners","maxHeight","isResizable","_touchPinchStartCallback","_touchPinchCallback","_touchPinchEndCallback","pointerdown","_setUpDragSession","_selectOnPointerEvent","_onStartDragging","_onStopDragging","_this$parent2","moveEditorInDOM","getRect","shiftX","shiftY","getRectInCurrentCoords","getPDFRect","onceAdded","enableEditMode","disableEditMode","needsToBeRebuilt","isOnScreen","innerHeight","innerWidth","rotate","_angle","serializeDeleted","_this$_initialData","popupRef","_initialData","accessibilityData","_isCopy","isCopy","_classPrivateFieldGet46","_classPrivateFieldGet47","makeResizable","_createResizers","savedWidth","savedHeight","boundResizerKeydown","_resizerKeydown","boundResizerBlur","_resizerBlur","_resizerFocus","firstPosition","nextFirstPosition","_setResizerTabIndex","stopImmediatePropagation","_resizerPointermove","fromKeyboard","_this$div2","_this$_editToolbar3","_classPrivateFieldGet48","_this$div3","_this$_editToolbar2","_classPrivateFieldGet49","_this$div4","_this$div5","_this$_editToolbar4","_classPrivateFieldGet50","preventScroll","disableEditing","enableEditing","canChangeContent","dblclick","contentDiv","setAspectRatio","MIN_SIZE","telemetryInitialData","telemetryFinalData","_telemetryTimeout","content","querySelector","prepend","resetAnnotationElement","_ref93","angle","_getRotationMatrix","classes","_resizerPointerdown","_classPrivateFieldGet115","savedDraggable","togglePointerEvents","savedParentCursor","savedCursor","pointerUpCallback","_classPrivateFieldGet116","_addResizeToUndoStack","_resize","newWidth","newHeight","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","lastScreenX","lastScreenY","invTransf","oldDiag","_classPrivateFieldGet117","_origin","prevDistance","factor","transfCenterPoint","newTransfCenterPoint","_classPrivateFieldGet118","hasDraggingStarted","cancelDrag","_event$relatedTarget","_AnnotationEditor","SEED","MASK_HIGH","MASK_LOW","MurmurHash3_64","seed","h1","h2","update","ArrayBuffer","isView","byteLength","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","hexdigest","SerializableEmpty","transfer","_modified","_modifiedIds","_storage","_AnnotationStorage_brand","AnnotationStorage","onSetModified","onResetModified","onAnnotationEditor","resetModified","modified","entry","val","_setModified","print","PrintAnnotationStorage","serializable","hasBitmap","editorStats","stats","typeToEditor","_stats","_counters$get","counters","computeTelemetryFinalData","resetModifiedIds","modifiedIds","ids","_serializable","structuredClone","FontLoader","_ref14","styleElement","_systemFonts","_document","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","rule","styleSheet","sheet","cssRules","loadSystemFont","_ref15","systemFontInfo","disableFontFace","_inspectFont","loadedName","isFontLoadingAPISupported","fontFace","FontFace","load","_unused8","baseFontName","font","attached","missingFile","createNativeFontFace","loaded","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","_this$_document","complete","otherRequest","_loadTestFont","atob","int32","spliceString","insert","called","XXXX_VALUE","checksum","isFontReady","fillText","FontFaceObject","translatedData","inspectFont","compiledGlyphs","_this$_inspectFont","cssFontInfo","css","weight","italicAngle","_this$_inspectFont2","mimetype","getPathGenerator","objs","character","objId","cmds","path","Path2D","fontExtraProperties","getFactoryUrlProp","isRefProxy","num","gen","isValidExplicitDest","validRef","validName","dest","page","argsLen","allowNull","arg","_listeners","_deferred","LoopbackPort","rmAbort","onAbort","terminate","CallbackKind","StreamKind","onFn","wrapReason","_messageAC","_MessageHandler_brand","MessageHandler","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onMessage","actionName","handler","transfers","sendWithPromise","capability","sendWithStream","queueingStrategy","ReadableStream","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","stream","reason","cancelCapability","_classPrivateFieldGet51","_ref94","_processStreamMessage","_createStreamSink","streamSink","enqueue","isCancelled","lastDesiredSize","sinkCapability","ready","onPull","onCancel","success","streamController","_deleteStreamController","dataReason","_streamController$sta","_streamController$pul","_streamController$can","allSettled","BaseCanvasFactory","_ref16","enableHWA","_enableHWA","_createCanvas","reset","canvasAndContext","DOMCanvasFactory","_ref17","BaseCMapReaderFactory","_ref18","isCompressed","_ref19","_fetch","cMapData","DOMCMapReaderFactory","BaseFilterFactory","addFilter","maps","fgColor","bgColor","addAlphaFilter","addLuminosityFilter","addHighlightHCMFilter","filterName","newFgColor","newBgColor","_baseUrl","_cache2","_defs","_docId","_hcmCache","_id3","_DOMFilterFactory_brand","DOMFilterFactory","_ref20","docId","_this$id7","_this$id8","_get_cache","tableR","tableG","tableB","_createTables","_createUrl","_createFilter","_addTransferMapConversion","_info","_get_hcmCache","_info$filter","fgRGB","_getRGB","bgRGB","_get_defs","table","_addGrayConversion","getSteps","_this$id9","_this$id0","tableA","_addTransferMapAlphaConversion","_this$id1","_this$id10","_addLuminosityConversion","_info2","_info$filter2","fgGray","bgGray","newFgRGB","newBgRGB","step","newStart","newStep","_classPrivateFieldGet52","_classPrivateFieldGet53","_classPrivateFieldGet54","_classPrivateFieldGet55","_this4","_this5","_this6","contain","svg","mapR","mapG","mapB","bufferR","bufferG","bufferB","feColorMatrix","_appendFeFunc","feComponentTransfer","func","feFunc","rTable","gTable","bTable","aTable","BaseStandardFontDataFactory","_ref21","_ref22","DOMStandardFontDataFactory","BaseWasmFactory","_ref23","_ref24","DOMWasmFactory","node_utils_fetchData","fs","getBuiltinModule","readFile","NodeFilterFactory","NodeCanvasFactory","createRequire","import","createCanvas","NodeCMapReaderFactory","NodeStandardFontDataFactory","NodeWasmFactory","FORCED_DEPENDENCY_LABEL","_simple","_incremental","_namedDependencies","_savesStack","_markedContentStack","_baseTransformStack","_clipBox","_pendingBBox","_pendingBBoxIdx","_pendingDependencies","_operations","_fontBBoxTrustworthy","_canvasWidth","_canvasHeight","CanvasDependencyTracker","__proto__","sameLineText","Float64Array","opIdx","previous","lastPair","recordOpenMarker","idx","getOpenMarker","recordCloseMarker","pushBaseTransform","popBaseTransform","recordSimpleData","recordIncrementalData","resetIncrementalData","recordNamedData","recordFutureForcedDependency","inheritSimpleDataAsFutureForcedDependencies","inheritPendingDependenciesAsFutureForcedDependencies","dep","resetBBox","hasPendingBBox","recordClipBox","minX","maxX","minY","maxY","clipBox","intersection","recordBBox","bbox","recordCharacterBBox","getMeasure","fontBBox","isBBoxTrustworthy","computedBBox","fontMatrix","recordFullPageBBox","measure","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","getSimpleIndex","dependencyName","recordDependencies","dependencyNames","pendingDependencies","simple","incremental","copyDependenciesFromIncrementalOperation","operations","depIdx","recordNamedDependency","recordOperation","preserveBbox","pairs","bboxToClipBoxDropOperation","_takePendingDependencies","_extractOperation","operation","_pushPendingDependencies","take","_ref25","_bbox$minX","_bbox$maxX","_bbox$minY","_bbox$maxY","_dependencyTracker","_opIdx","_nestingLevel","_outerDependencies","_savesLevel","CanvasNestedDependencyTracker","dependencyTracker","_this$savesLevel","_this$savesLevel3","_this$nestingLevel","_this$nestingLevel3","recordNestedDependencies","Dependencies","PathType","applyBoundingBox","region","BaseShadingPattern","isModifyingCurrentTransform","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","ownerBBox","getClippedPathBoundingBox","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","baseTransform","fillStyle","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","p2","p3","c1","c2","c3","coords","rowSize","tmp","scaleX","scaleY","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","car","cag","cab","cbr","cbg","cbb","x1_","x2_","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","MeshShadingPattern","_coords","_figures","_bounds","_background","_createMeshCanvas","combinedScale","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","Float32Array","matrixScaleX","matrixScaleY","temporaryPatternCanvas","DummyShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","operatorList","xstep","ystep","paintType","tilingType","createPatternCanvas","_graphics$dependencyT","_graphics$dependencyT2","_graphics$dependencyT3","_graphics$dependencyT4","combinedScaleX","combinedScaleY","canvasWidth","canvasHeight","redrawHorizontally","redrawVertically","xScaledStep","yScaledStep","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","clipBbox","executeOperatorList","endDrawing","dimx2","dimy2","xSize","ySize","tmpCanvas2","tmpCtx2","realOutputSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","fillColor","strokeColor","convertBlackAndWhiteToRGBA","_ref26","srcPos","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","elem","FULL_CHUNK_HEIGHT","SCALE_MATRIX","XY","MIN_MAX_INIT","CachedCanvases","canvasFactory","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","CanvasExtraState","preInit","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","startNewPathAndClipBox","isEmptyClip","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","kind","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","mask","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","miterLimit","getImageSmoothingEnabled","interpolate","actualScale","fround","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","_CanvasGraphics_brand","CanvasGraphics","canvasCtx","commonObjs","_ref28","annotationCanvasMap","optionalContentConfig","markedContentStack","stateStack","pendingClip","pendingEOFill","xobjs","groupStack","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","_this$dependencyTrack","beginDrawing","_ref29","transparency","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","stepper","filteredOperationIndexes","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","steps","fnId","fnArgs","nextBreakPoint","breakIt","_argsArray$i","depObjId","_this$dependencyTrack2","objsPool","_restoreInitialState","HTMLCanvasElement","_drawFilter","_scaleImage","_img$width","_img$height","displayWidth","displayHeight","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","_createMaskCanvas","_this$dependencyTrack4","isPatternFill","patternFill","currentTransform","cacheKey","maskCanvas","mainKey","cachedImage","_this$dependencyTrack3","maskToCanvas","drawnWidth","drawnHeight","fillCanvas","fillCtx","imageSmoothingEnabled","_this$dependencyTrack5","_this$dependencyTrack6","_this$dependencyTrack7","limit","_this$dependencyTrack8","dashArray","dashPhase","_this$dependencyTrack9","intent","flatness","states","_this$dependencyTrack0","_this$dependencyTrack1","_this$dependencyTrack10","_this$dependencyTrack11","_this$dependencyTrack12","strokeAlpha","fillAlpha","activeSMask","checkSMaskState","transferMaps","inSMaskMode","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","__originalLineTo","__originalBezierCurveTo","bezierCurveTo","__originalRect","__originalClosePath","__originalBeginPath","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","smask","composeSMask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","genericComposeSMask","subtype","backdrop","transferMap","maskCtx","maskOffsetX","maskOffsetY","maskX","maskY","_this$dependencyTrack13","old","_this$dependencyTrack14","_this$dependencyTrack15","op","outerExtraSize","path2d","_pathStartIdx","_this$dependencyTrack16","consumePath","newPath","addPath","multiplySelf","rescaleAndStroke","_this$dependencyTrack18","needRestore","_this$dependencyTrack17","_this$dependencyTrack19","_this$dependencyTrack20","_this$dependencyTrack21","_this$dependencyTrack22","_this$dependencyTrack23","textMatrix","textMatrixScale","lineX","lineY","paths","pendingTextPaths","preMultiplySelf","spacing","_this$dependencyTrack24","charSpacing","_this$dependencyTrack25","wordSpacing","_this$dependencyTrack26","textHScale","leading","_this$dependencyTrack27","fontRefName","_this$dependencyTrack28","_fontObj$systemFontIn","fontObj","fontDirection","isType3Font","typeface","fallbackName","bold","italic","browserFontSize","fontSizeScale","_this$dependencyTrack29","textRenderingMode","rise","_this$dependencyTrack30","textRise","_this$dependencyTrack31","_this$dependencyTrack32","_this$dependencyTrack33","_this$dependencyTrack34","paintChar","patternFillTransform","patternStrokeTransform","fillStrokeMode","isAddToPathSet","patternStroke","_this$dependencyTrack35","scaledPath","_getScaledPath","invPatternTransform","_this$dependencyTrack36","measureText","_this$dependencyTrack37","strokeText","_this$dependencyTrack38","isFontSubpixelAAEnabled","glyphs","_this$dependencyTrack42","_this$dependencyTrack39","showType3Text","_this$dependencyTrack40","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","getSinglePixelWidth","isInvalidPDFjsFont","chars","glyph","unicode","joinedChars","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","characterScaleX","_this$dependencyTrack41","isInFont","scaledAccentX","scaledAccentY","spacingLength","charProcOperatorList","operatorListId","xWidth","yWidth","llx","lly","urx","ury","_this$dependencyTrack43","getColorN_Pattern","_getPattern","_this$dependencyTrack44","_len2","_key2","_this$dependencyTrack45","_len3","_key3","_this$dependencyTrack46","_this$dependencyTrack47","_this$dependencyTrack48","_this$dependencyTrack49","getShadingPattern","_this$dependencyTrack50","inv","_this$dependencyTrack51","group","_this$dependencyTrack52","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","_this$dependencyTrack53","currentMtx","hasOwnCanvas","annotationCanvas","savedCtx","_this$dependencyTrack54","_this$dependencyTrack55","_this$dependencyTrack57","skewX","skewY","positions","_this$dependencyTrack56","trans","images","_this$dependencyTrack58","_this$dependencyTrack60","_this$dependencyTrack59","applyTransferMapsToCanvas","applyTransferMapsToBitmap","_this$dependencyTrack61","imgToPaint","HTMLElement","_this$dependencyTrack62","_this$dependencyTrack64","_this$dependencyTrack63","_this$dependencyTrack65","_this$dependencyTrack66","_this$dependencyTrack67","isVisible","isContentVisible","_this$dependencyTrack68","_this$dependencyTrack69","_this$dependencyTrack70","absDet","normX","normY","getScaleForStroking","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","hcmFilterId","savedFilter","GlobalWorkerOptions","workerPort","_port","Worker","workerSrc","_src","Metadata","_ref30","parsedData","_map","_data3","getRaw","_classPrivateFieldGet56","INTERNAL","_isDisplay","_isPrint","_userSet","_visible","OptionalContentGroup","renderingIntent","_ref31","usage","rbGroups","viewState","printState","_setVisible","internal","userSet","_cachedGetHash","_groups","_initialHash","_order","_OptionalContentConfig_brand","OptionalContentConfig","creator","groups","off","getHash","expression","_evaluateVisibilityExpression","policy","setVisibility","preserveRB","rbGroup","otherId","_classPrivateFieldGet57","setOCGState","_ref32","operator","hasInitialVisibility","getOrder","getGroup","array","PDFDataTransportStream","pdfDataRangeTransport","_ref33","disableRange","disableStream","initialData","progressiveDone","contentDispositionFilename","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_isStreamingSupported","_isRangeSupported","_contentLength","_fullRequestReader","_rangeReaders","addRangeListener","begin","_onReceiveData","addProgressListener","total","_onProgress","addProgressiveReadListener","addProgressiveDoneListener","_onProgressiveDone","transportReady","_ref34","_enqueue","rangeReader","_begin","_progressiveDataLength","_this$_fullRequestRea","_this$_fullRequestRea2","_loaded","_this$_rangeReaders$","_this$_rangeReaders$$","_this$_fullRequestRea3","_this$_fullRequestRea4","onProgress","_this$_fullRequestRea5","_removeRangeReader","reader","getFullReader","queuedChunks","PDFDataTransportStreamReader","getRangeReader","PDFDataTransportStreamRangeReader","requestDataRange","cancelAllRequests","_this$_fullRequestRea6","_stream","_done","_filename","_requests","_headersReady","headersReady","isRangeSupported","isStreamingSupported","contentLength","read","requestCapability","_end","_queuedChunk","createHeaders","isHttp","httpHeaders","headers","Headers","getResponseOrigin","_URL$parse$origin","_URL$parse","validateRangeRequestCapabilities","_ref35","responseHeaders","rangeChunkSize","returnValues","allowRangeRequests","suggestedLength","extractFilenameFromHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","iter","quot","part","parts","rfc2231getparam","attributePattern","textdecode","encoding","decoder","TextDecoder","fatal","_unused9","quotindex","replaceAll","extvalue","encodingend","hex","_unused0","getFilenameFromContentDispositionHeader","_unused1","createResponseError","validateResponseStatus","createFetchOptions","withCredentials","abortController","method","credentials","redirect","getArrayBuffer","PDFFetchStream","_rangeRequestReaders","_this$_fullRequestRea7","_this$_fullRequestRea8","PDFFetchStreamReader","PDFFetchStreamRangeReader","_this$_fullRequestRea9","_reader","_withCredentials","_headersCapability","_disableRange","_rangeChunkSize","_responseOrigin","getReader","_this$onProgress","_this$_reader","_readCapability","responseOrigin","_this$onProgress2","_this$_reader2","NetworkManager","_ref36","currXhrId","pendingRequests","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onStateChange","onprogress","onHeadersReceived","onDone","_pendingRequest$onPro","xhrStatus","network_getArrayBuffer","rangeHeader","getResponseHeader","getRequestXhr","isPendingRequest","abortRequest","PDFNetworkStream","_manager","_onRangeRequestReaderClosed","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","_this$_fullRequestRea0","manager","_url","_fullRequestId","_onHeadersReceived","_onDone","_onError","_cachedChunks","_storedError","fullRequestXhrId","fullRequestXhr","responseURL","rawResponseHeaders","getAllResponseHeaders","trimStart","_this$onProgress3","lengthComputable","_requestId","_this$_manager$getReq","_close","_this$onClosed","_this$_storedError","_this$onProgress4","urlRegex","PDFNodeStream","sourceUrl","pathToFileURL","parseUrlOrPath","_this$_fullRequestRea1","_this$_fullRequestRea10","PDFNodeStreamFsFullReader","PDFNodeStreamFsRangeReader","_this$_fullRequestRea11","_readableStream","lstat","stat","_setReadableStream","createReadStream","_this$onProgress5","_error","readableStream","_this$onProgress6","INITIAL_DATA","_objs","_PDFObjects_brand","PDFObjects","_ensureObj","_data$bitmap","_classPrivateFieldGet119","_capability","_container4","_disableProcessItems","_fontInspectorEnabled","_lang","_layoutTextParams","_pageHeight3","_pageWidth3","_rootContainer","_rotation3","_scale","_styleCache","_textContentItemsStr","_textContentSource","_textDivs","_textDivProperties","_transform","_TextLayer_brand","TextLayer","_ref37","_globalThis$FontInspe","textContentSource","FontInspector","_ensureMinFontSizeComputed","finally","_pendingTextLayers","fontFamilyMap","pump","_ref38","_classPrivateFieldGet58","lang","styles","_processItems","_ref39","onBefore","_getCtx","_layout","_classPrivateFieldGet59","abortEx","textDivs","textContentItemsStr","cleanup","_ascentCache","_canvasContexts","_classPrivateFieldGet120","_classPrivateFieldGet121","_appendText","geom","textDiv","textDivProperties","hasText","hasEOL","atan2","fontName","PI","fontSubstitution","fontHeight","fontAscent","_getAscent","sin","cos","scaleFactorStr","divStyle","_minFontSize","dir","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","_ensureCtxFont","alpha","_canvasCtxFonts","cached","cachedAscent","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","_TextLayer","XfaText","xfa","walk","_node$attributes","shouldBuildText","attributes","getDocument","_src$password","_src$length","task","PDFDocumentLoadingTask","getUrlProp","Buffer","getDataProp","rangeTransport","PDFDataRangeTransport","worker","PDFWorker","docBaseUrl","cMapUrl","cMapPacked","CMapReaderFactory","iccUrl","standardFontDataUrl","StandardFontDataFactory","wasmUrl","WasmFactory","ignoreErrors","stopAtErrors","maxImageSize","chrome","canvasMaxAreaInBytes","enableXfa","disableAutoFetch","pdfBug","CanvasFactory","FilterFactory","useWasm","useSystemFonts","useWorkerFetch","transportFactory","cMapReaderFactory","standardFontDataFactory","wasmFactory","port","_worker","docParams","apiVersion","evaluatorOptions","transportParams","loadingParams","destroyed","workerIdPromise","messageHandler","networkStream","NetworkStream","workerId","transport","WorkerTransport","_transport","_docId2","_PDFDocumentLoadingTa","_PDFDocumentLoadingTa2","_this$_worker3","_this$_worker","_this$_transport","_pendingDestroy","_this$_worker2","_capability2","_progressiveDoneListeners","_progressiveReadListeners","_progressListeners","_rangeListeners","onDataRange","onDataProgress","onDataProgressiveRead","onDataProgressiveDone","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","getPageIndex","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","pageIndexesToSkip","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getRenderingIntent","getPermissions","getMetadata","getMarkInfo","saveDocument","getDownloadInfo","downloadInfoCapability","keepLoadedFonts","startCleanup","loadingTask","cachedPageNumber","getFieldObjects","hasJSActions","getCalculationOrderIds","_pendingCleanup","_PDFPageProxy_brand","PDFPageProxy","pageInfo","_pageIndex","_pageInfo","_pdfBug","_intentStates","recordedGroups","getViewport","getAnnotations","getPageJSActions","getXfa","_this$_transport$_htm","_ref40","_this$_stats","_globalThis$StepperMa","_intentState","canvasContext","annotationMode","optionalContentConfigPromise","printAnnotationStorage","recordOperations","intentArgs","intentState","streamReaderCancelTimeout","intentPrint","_this$_stats2","displayReadyCapability","lastChunk","separateAnnots","_pumpOperatorList","shouldRecordOperations","StepperManager","renderTasks","internalRenderTask","_internalRenderTask$g","gfx","_internalRenderTask$s","setOperatorGroups","_globalThis$Stats","_tryCleanup","_abortOperatorList","Stats","InternalRenderTask","useRequestAnimationFrame","renderTask","_ref41","_this$_stats3","initializeGraphics","operatorListChanged","getOperatorList","opListTask","_intentState2","_this$_stats4","opListReadCapability","streamTextContent","includeMarkedContent","disableNormalization","highWaterMark","getTextContent","_ref42","_textContent$lang","getStructTree","_destroy","waitOn","force","completed","resetStats","_startRenderPage","_this$_stats5","_intentState$displayR","_renderPageChunk","operatorListChunk","_ref43","annotationStorageSerializable","streamReader","_ref44","_ref45","curCacheKey","curIntentState","_capability3","_messageHandler","_port2","_webWorker","_PDFWorker_brand","_workerPorts","_initializeFromPort","_initialize","_classPrivateFieldGet60","_classPrivateFieldGet61","cachedPort","_setupFakeWorkerGlobal","_get_mainThreadWorkerMessageHandler","WorkerMessageHandler","loader","_resolve","_isWorkerDisabled","_setupFakeWorker","_isSameOrigin","_createCDNWrapper","terminateEarly","sendTest","_unused10","testObj","_unused11","_PDFWorker$fakeWorker","_PDFWorker$fakeWorker2","_fakeWorkerId","workerHandler","setup","_this7","_globalThis$pdfjsWork","pdfjsWorker","_unused12","_PDFWorker","otherUrl","other","wrapper","createObjectURL","fromPort","_methodPromises","_pageCache","_pagePromises","_pageRefCache","_passwordCapability","_WorkerTransport_brand","factory","fontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","isOpList","modifiedIdsHash","_classPrivateFieldGet62","terminated","_this$_networkStream","_this$messageHandler","sink","_ref46","readyReason","_loadingTask$onProgre","_loadingTask$onProgre2","_ref47","_ref48","_numPages","htmlForXfa","onPassword","updatePassword","_loadingTask$onProgre3","_ref49","_globalThis$FontInspe2","exportedData","exportedError","fontAdded","pageProxy","dataLen","_ref50","imageData","_imageData$bitmap","_loadingTask$onProgre4","_this$_fullReader$fil","_this$_fullReader","cachedPromise","refStr","_cacheSimpleMethod","results","_this$_fullReader$fil2","_this$_fullReader2","_this$_fullReader$con","_this$_fullReader3","metadata","_classPrivateFieldGet63","_internalRenderTask","RenderTask","_rAF","_ref51","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","_canvasContext","_filteredOperationIndexes","_ref52","_globalThis$StepperMa2","_this$graphicsReadyCa","_canvasInUse","init","getNextBreakPoint","_this$gfx","_this$task$onError","_this$task","cancelAnimationFrame","_this$stepper","updateOperatorList","onContinue","requestAnimationFrame","ColorPicker","_hideDropdownFromKeyboard","_colorSelectFromKeyboard","_moveToNext","_moveToPrevious","_moveToBeginning","_moveToEnd","_ref53","_editor$color","_classPrivateFieldGet64","_ColorPicker_brand","_button","_buttonSwatch","_defaultColor","_dropdown","_dropdownWasFromKeyboard","_isMainColorPicker","_editor4","_openDropdownAC","_uiManager3","_l10nColor","blue","green","pink","red","yellow","ariaHasPopup","ariaControls","_openDropdown","_keyDown","swatch","ariaHidden","renderMainDropdown","dropdown","_getDropdownRoot","ariaOrientation","ariaLabelledBy","_colorSelect","_event$target$nextSib","_classPrivateFieldGet65","_get_isDropdownVisible","_classPrivateFieldGet66","_event$target$previou","_classPrivateFieldGet67","_classPrivateFieldGet68","_classPrivateFieldGet69","_classPrivateFieldGet70","ariaExpanded","_classPrivateFieldGet71","updateColor","ariaSelected","_classPrivateFieldGet72","_classPrivateFieldGet73","role","ariaMultiSelectable","_pointerDown3","root","_classPrivateFieldGet122","_this8","_ColorPicker","_input","_editor5","_uiManager4","BasicColorPicker","_l10nColor2","colorType","colorValue","_classPrivateFieldGet74","makeColorComp","scaleAndClamp","ColorConverters","CMYK_G","_ref54","G_CMYK","_ref55","G_RGB","_ref56","G_rgb","_ref57","G_HTML","_ref58","RGB_G","_ref59","RGB_rgb","RGB_HTML","T_HTML","T_rgb","CMYK_RGB","_ref60","CMYK_rgb","_ref61","CMYK_HTML","components","RGB_CMYK","_ref62","BaseSVGFactory","skipDimensions","_createSVG","DOMSVGFactory","XfaLayer","setupStorage","html","storage","storedData","xfaOn","xfaOff","option","selectedIndex","setAttributes","_ref63","linkService","isHTMLAnchorElement","HTMLAnchorElement","addLinkAttributes","newWindow","dataId","xfaHtml","rootHtml","isNotForRichText","rootDiv","_child$attributes","_child$children","childHtml","hidden","GetElementsByNameSet","TIMEZONE_OFFSET","getTimezoneOffset","AnnotationElementFactory","annotationType","LinkAnnotationElement","TextAnnotationElement","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","FreeTextAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","InkAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","StampAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","_updates","_hasBorder","_popupElement","_AnnotationElement_brand","isRenderable","ignoreBorder","createQuadrilaterals","downloadManager","imageResourcesPath","renderForms","svgFactory","enableComment","enableScripting","_fieldObjects","fieldObjects","_createContainer","_createQuadrilaterals","_hasPopupData","_ref64","contentsObj","richText","_isEditable","isEditable","hasPopupData","hasCommentButton","hasPopupElement","commentButtonPosition","quadPoints","commentButtonColor","_this$data$opacity","oppositeOpacity","_changeLightness","_normalizePoint","updateEdited","_classPrivateFieldGet75","newPopup","_setRectEdited","_createPopup","resetEdited","_classPrivateFieldGet76","alternativeText","noRotate","setRotation","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderBottomStyle","_commonActions","setColor","jsName","styleName","colorArray","noView","noPrint","userName","readonly","required","_setRequired","textColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","_setDefaultPropertiesFromJS","rectBlX","rectBlY","rectTrX","rectTrY","svgBuffer","defs","clipPath","_svgBuffer","rectWidth","rectHeight","backgroundImage","popupData","modificationDate","titleObj","parentRect","elements","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","getElementsByName","_this$popup","maybeShow","_this$popup2","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","_editOnDoubleClick","annotationEditorType","_this$linkService$eve","newL","currentRect","_LinkAnnotationElement_brand","isTooltipOnly","isBound","_bindNamedAction","overlaidText","attachment","_bindAttachment","attachmentDest","_bindSetOCGState","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","getDestinationHash","goToDestination","_setInternalLink","getAnchorUrl","executeNamedAction","_this$linkService$eve2","otherClickAction","resetFormFields","resetFormRefs","include","allFields","fieldIds","fieldName","field","allIds","Event","_this$linkService$eve3","_this$downloadManager","openOrDownloadData","executeSetOCGState","showElementAndHideCanvas","_element$previousSibl","_getKeyModifier","_setEventListener","elementData","baseName","eventName","valueGetter","_this$linkService$eve4","modifier","_this$linkService$eve5","focused","_setEventListeners","getter","_this$data$actions","_this$data$actions2","_this$data$actions3","Blur","Focus","_setBackgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","computedFontSize","roundToOneDecimal","multiLine","textAlignment","isRequired","hasAppearance","fieldValue","setPropertyOnSiblings","keyInStorage","_this$data$textConten","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","datetimeFormat","datetimeType","timeStep","hasDateOrTime","maxLength","_this$data$defaultFie","defaultFieldValue","blurListener","_this$data$actions6","_this$data$actions4","getHours","getMinutes","getSeconds","_event$detail$value","selRange","setSelectionRange","_this$linkService$eve6","willCommit","selStart","selEnd","_this$linkService$eve7","_blurListener","_this$data$actions5","_this$linkService$eve8","Keystroke","_this$linkService$eve9","inputType","change","combWidth","letterSpacing","verticalAlign","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","combo","multiSelect","optionElement","displayValue","removeEmptyEntry","noneOptionElement","isExport","selectedValues","getItems","_removeEmptyEntry","multipleSelection","findIndex","selectChild","indices","editable","_this$linkService$eve0","changeEx","keyDown","PopupElement","creationDate","elementIds","_boundKeyDown","_boundHide","_boundShow","_boundToggle","_color","_container5","_contentsObj","_dateObj","_elements","_eventBus2","_parent","_parentRect","_pinned","_popup","_popupAbortController","_position2","_commentButton2","_commentButtonPosition","_commentButtonColor","_rect","_richText","_titleObj","_updates2","_wasVisible","_PopupElement_brand","_ref65","_keyDown2","_hide","_show","_toggle","trigger","flatMap","_addEventListeners","_classPrivateFieldGet77","baseColor","outlineColor","header","dateObj","dateTime","_get_html","_formatContents","_ref66","lines","line","_ref67","_classPrivateFieldGet78","_makePopupContent","_classPrivateFieldGet79","_classPrivateFieldGet80","_classPrivateFieldGet81","_element$container","_renderCommentButton","_setCommentButtonPosition","find","parentContainer","_classPrivateFieldGet123","after","_this9","_get_fontSize","_this0","_classPrivateGetter5","_get_fontColor","_this1","_classPrivateGetter6","popupLines","popupContent","lineAttributes","_setPosition","useParentRect","normalizedRect","popupLeft","popupTop","textPosition","lineSpan","_line","lineCoordinates","_square","square","_circle","circle","_polyline","containerClassName","svgElementName","vertices","polyline","_polylinesGroupElement","_polylines","_InkAnnotationElement_brand","it","inkLists","_getTransform","thickness","inkList","mark","underline","strikeout","_trigger","_FileAttachmentAnnotationElement_brand","_this$linkService$eve1","_download","_this$downloadManager2","_accessibilityManager","_annotationCanvasMap","_editableAnnotations","_structTreeLayer","_AnnotationLayer_brand","AnnotationLayer","_ref68","accessibilityManager","annotationEditorUIManager","structTreeLayer","_annotationEditorUIManager","hasEditableAnnotations","annotations","popupToElements","elementParams","noHTML","isPopupAnnotation","rendered","_this$_annotationEdit","_appendElement","_setAnnotationCanvasMap","addLinkAnnotations","_defaultBorderStyle","_ref69","getEditableAnnotations","getEditableAnnotation","rawWidth","popupElements","_classPrivateFieldGet124","contentElement","ariaAttributes","getAriaAttributes","_classPrivateFieldGet125","moveElementInDOM","replaceWith","editableAnnotation","_this$_annotationEdit2","_hasNoCanvas","EOL_PATTERN","_color2","_content","_editorDivId","_editModeAC","_fontSize","_FreeTextEditor_brand","FreeTextEditor","_translateEmpty","_defaultFontSize","_internalPadding","_updateFontSize","_updateColor","overlayDiv","editorDiv","editorDivKeydown","editorDivFocus","editorDivBlur","editorDivInput","editorDivPaste","_classPrivateFieldGet82","_this$_initialOptions","innerText","savedText","newText","_extractText","trimEnd","setText","_setContent","_setEditorDimensions","posX","posY","_deserializeContent","normalize","deleteFromDocument","insertNode","collapseToStart","startContainer","startOffset","bufferBefore","bufferAfter","childNodes","_getNodeContent","newRange","Range","beforeLength","_serializeContent","structTreeParentId","_hasElementChanged","replaceChildren","setFontsize","savedFontsize","_this$_colorPicker2","savedColor","prevChild","_prevChild","savedDisplay","savedVisibility","_FreeTextEditor","Outline","toSVGPath","_rotation","_rescale","_rescaleAndSwap","svgRound","_normalizePagePoint","createBezierPoints","FreeDrawOutliner","_ref70","scaleFactor","innerMargin","_FreeDrawOutliner_brand","_box","_bottom","_innerMargin","_isLTR2","_top","_last","_lastX","_lastY","_min","_min_dist","_scaleFactor","_thickness","_points","_MIN_DIST","_MIN","_ref71","_classPrivateFieldGet83","diffX","diffY","diffD","nY","thX","thY","_toSVGPathTwoPoints","_toSVGPathEnd","_toSVGPathStart","newFreeDrawOutline","FreeDrawOutline","getOutlines","_classPrivateFieldGet84","_classPrivateFieldGet85","_getOutlineTwoPoints","_getOutlineEnd","_getOutlineStart","_getLastCoords","lastTop","lastBottom","lastTopX","lastTopY","lastBottomX","lastBottomY","_box2","_bbox2","_innerMargin2","_isLTR3","_points2","_scaleFactor2","_outline","_FreeDrawOutline_brand","lastPoint","_computeMinMax","_ref72","newOutliner","getNewOutline","outliner","lastPointX","lastPointY","ltrCallback","HighlightOutliner","_HighlightOutliner_brand","_box3","_lastPoint","_verticalEdges","_intervals","EPSILON","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","_breakEdge","_insert","_remove","_getOutlines","edges","allEdges","edge1","edge2","outlines","HighlightOutline","_binarySearch","middle","_ref95","_ref96","y4","_box4","_outlines","polygon","prevX","prevY","_ref73","classNamesForOutlining","FreeHighlightOutliner","FreeHighlightOutline","HighlightEditor","_moveCaret","_HighlightEditor_brand","_anchorNode","_anchorOffset","_boxes","_clipPathId","_colorPicker2","_focusOutlines","_focusNode","_focusOffset","_highlightDiv","_highlightOutlines","_id4","_isFreeHighlight","_lastPoint2","_opacity","_outlineId","_text2","_thickness2","_methodOfCreation","_defaultThickness","_defaultOpacity","highlightId","_createFreeOutlines","_addToDrawLayer","_createOutlines","numberOfColors","_uiManager$highlightC","_updateColor2","_updateThickness","_getRotation","addUndoableEditor","_cleanDrawLayer","mustBeSelected","_this$div6","drawLayer","_rotateBbox","updateProperties","_keydown","highlightDiv","pointerover","_this$parent3","rootClass","hovered","pointerleave","_this$parent4","_setCaret","_this$parent5","_this$parent6","startHighlighting","_ref74","_endHighlight","_highlightMove","_freeHighlight","_freeHighlightId","clipPathId","_freeHighlightClipId","free","highlightOutlines","_serializeBoxes","_serializeOutlines","_hasElementChanged2","outlinerForOutline","_ref97","finalizeDraw","drawOutline","highlightOutline","setColorAndOpacity","opa","_this$parent12","_classPrivateFieldGet126","savedOpacity","savedThickness","setThickness","_changeThickness","_ref98","setPosition","_HighlightEditor","DrawingOptions","_svgProperties","updateProperty","updateSVGProperty","toSVGProperties","updateAll","_drawOutlines","_mustBeCommitted","_DrawingEditor_brand","DrawingEditor","mustBeCommitted","_addOutlines","drawOutlines","_createDrawOutlines","_addToDrawLayer2","_mergeSVGProperties","p1Keys","getDefaultDrawingOptions","_options","typesMap","supportMultipleDrawings","_defaultDrawingOptions","_currentParent","_currentDraw","_currentDrawId","_updateProperty","_drawingOptions","savedValue","setter","_this$parent7","_this$_colorPicker","_updateBbox","_drawId","_this$parent8","getPathResizingSVGProperties","_convertToDrawSpace","_rotateBox","_this$parent9","getPathResizedSVGProperties","_x","_y","_this$parent0","_this$parent1","getPathTranslatedSVGProperties","_this$parent10","moving","_this$parent11","_cleanDrawLayer2","_this$div7","updateRotation","updateParentDimensions","onScaleChangingWhenDrawing","drawDiv","createDrawerInstance","_parentWidth","_parentHeight","_isLTR","_currentPointerType$_","_uiManager$_editorUnd","_currentPointerType","_currentDrawingAC","_currentPointerId","_currentPointerIds$_","_endDraw","_currentPointerIds","_currentPointerIds$_2","isCancellable","removeLastElement","_drawMove","_currentMoveTimestamp","startNew","_currentDrawingOptions","defaultSVGProperties","_currentPointerIds$_3","_cleanup","drawId","lastElement","getLastElement","setLastElement","isAborted","_INNER_MARGIN","drawingOptions","createDrawingOptions","_data","deserializeDraw","_pageX","_pageY","_pageWidth","_pageHeight","_innerWidth","serializeDraw","_ref99","defaultProperties","_createDrawing","updateParent","_convertToParentSpace","_ref100","pW","pH","_DrawingEditor","InkDrawOutliner","_InkDrawOutliner_brand","_last2","_line2","_lines","_rotation4","_thickness3","_points3","_lastSVGPath","_lastIndex","_outlines2","InkDrawOutline","_parentWidth2","_parentHeight2","firstX","firstY","lastIndexOf","secondX","secondY","c1x","c1y","c2x","c2y","build","_bbox3","_currentRotation","_innerMargin3","_lines2","_parentWidth3","_parentHeight3","_parentScale","_rotation5","_thickness4","_InkDrawOutline_brand","_computeBbox","_ref75","serializedLines","serializedPoints","_getBBoxWithNoMargin","rescaleFn","_ref76","newLines","len","_updateThickness2","_ref77","oldMarginX","oldMarginY","_getMarginComponents","newMarginX","newMarginY","diffMarginX","diffMarginY","rotationTransform","_ref78","marginX","marginY","PRECISION","s1x","s1y","s2x","s2y","_ref79","_ref80","newParentWidth","newParentHeight","InkDrawingOptions","viewerParameters","_viewParameters","_InkEditor_brand","InkEditor","_ref81","_hasElementChanged3","ContourDrawOutline","SignatureExtractor","extractContoursFromText","_ref82","fontStyle","SCALE","uint8Buf","_toUint","histogram","_getHistogram","threshold","_guessThreshold","contourList","_findContours","processDrawnLines","curves","mustSmooth","areContours","_getGrayPixels","_bilateralFilter","_PARAMETERS","sigmaSFactor","sigmaR","kernelSize","_ref83","_lines$thickness","linesAndPoints","xScale","yScale","newCurves","reducedPoints","_douglasPeucker","newPoints","compressSignature","_ref84","bufferType","minDiff","maxDiff","outlinesLength","dx","Int8Array","Int16Array","Int32Array","headerLength","BYTES_PER_ELEMENT","CompressionStream","writer","getWriter","write","BufferCtor","diffs","Response","readable","decompressSignature","signatureData","fromBase64","DecompressionStream","_iteratorError","_iteratorAbruptCompletion","_didIteratorError","_step","_iterator","asyncIterator","_asyncIterator","numberOfDrawings","diffsOffset","POINTS_PROPERTIES_NUMBER","_neighborIndexToId","i0","j0","_clockwiseNonZero","_neighborIdToIndex","_counterClockwiseNonZero","lnbd","nbd","contours","pix","i2","j2","isHole","contour","contour0","shiftI","shiftJ","i1","j1","i3","j3","i4","j4","ij3","_douglasPeuckerHelper","ax","ay","abx","aby","dist","nabx","naby","invS","phi","atan","cosPhi","sinPhi","tmax","poly","partialPhi","dmax","sigmaS","kernel","sigmaS2","halfSize","exp","rangeValues","sigmaR2","out","sum","norm","neighbour","Uint8ClampedArray","spos","originalBitmap","prevWidth","prevHeight","log2","isteps","grayImage","_SignatureExtractor","SignatureOptions","DrawnSignatureOptions","_isExtracted","_description","_signatureData","_signatureUUID","SignatureEditor","_defaultDrawnSignatureOptions","hasDescription","_hasDescriptionStats$","_hasDescriptionStats$2","hasDescriptionStats","hasNoAltText","uuid","heightInPage","addSignature","setUuid","getSignaturePreview","hasBeenSaved","getFromImage","getFromText","fontInfo","getDrawnSignature","_ref85","isSignature","_data$accessibilityDa","StampEditor","_StampEditor_brand","_bitmap","_bitmapId","_bitmapPromise","_bitmapUrl","_bitmapFile","_bitmapFileName","_missingCanvas","_resizeTimeoutId","_isSvg","_hasBeenAddedInUndoStack","bitmapUrl","bitmapFile","pasteEditor","getAsFile","_this$altTextData","_hasAltTextStats$get","_hasAltTextStats$get2","hasAltTextStats","mlGuessAltText","updateAltTextData","isEnabledFor","copyCanvas","guess","channels","_classPrivateFieldGet86","_getBitmap","bitmapId","_drawBitmap","maxDataDimension","maxPreviewDimension","bitmapWidth","bitmapHeight","outputScale","_window$matchMedia","_window","scaledWidth","scaledHeight","_scaleBitmap","boxDim","boxDimWidth","boxDimHeight","patternCtx","dataWidth","dataHeight","offscreenCtx","missingCanvas","_await$parent$_struct","structParent","_structTree","_serializeBitmap","changes","_hasElementChanged4","isSame","_this$_initialData$st","isSameAltText","stamps","prevData","_getBitmapFetched","fromId","_getBitmapDone","alt_text_modal","alt_text_type","_unused13","accept","click","_this$_initialOptions2","MAX_RATIO","toUrl","toDataURL","_serialized$accessibi","isSamePageIndex","AnnotationEditorLayer","_ref86","annotationLayer","_AnnotationEditorLayer_brand","_accessibilityManager2","_allowClick","_annotationLayer","_clickAC","_editorFocusTimeoutId","_editors","_hadPointerDown","_isDisabling","_isEnabling","_drawingAC","_focusedElement","_textLayer","_textSelectionAC","_textLayerDblClickAC","_lastPointerDownTimestamp","_uiManager5","editorTypes","_editorTypes2","_initialized","isInvisible","disableTextSelection","toggleAnnotationLayerPointerEvents","enableTextSelection","_classPrivateFieldGet87","_classPrivateFieldGet88","_classPrivateFieldGet89","annotationElementIds","editables","elementsFromPoint","regex","changedAnnotations","resetAnnotations","_this$getEditableAnno","_classPrivateFieldGet90","_classPrivateFieldGet91","_textLayerPointerDown","_classPrivateFieldGet92","_classPrivateFieldGet93","attach","detach","_classPrivateFieldGet94","removePointerInTextLayer","_editor$parent","_classPrivateFieldGet95","_classPrivateGetter2","_get_currentEditorType","_getCenterPoint","_createNewEditor","_editorTypes2$_$get","_data$annotationType","_classPrivateGetter3","currentMode","_classPrivateGetter4","startDrawingSession","_ref87","pause","_classPrivateFieldGet96","_classPrivateFieldGet97","_classPrivateFieldGet98","_ref88","_ref89","oldRotation","_this10","DrawLayer","_ref90","_DrawLayer_brand","_parent2","_mapping","_toUpdate","_svgFactory","_DrawLayer$id","_DrawLayer$id2","isPathUpdatable","hasClip","_id5","pathId","_createClipPath","use","mustRemoveSelfIntersections","_DrawLayer$id3","_DrawLayer$id4","maskId","use1","use2","cloneNode","elementOrId","_updateProperties","_setBox","pathElement","_ref101","clipPathUse","_DrawLayer","_pdfjsTestingUtils","pdfjsLib","FeatureTest","getFilenameFromUrl","getPdfFilenameFromUrl","defaultFilename","newURL","urlString","_unused3","_unused4","_unused5","_unused6","getURL","decoded","_unused7","pdfRegex","pathname","searchParams","hashFilename","getXfaPageViewport","xfaPage","ImageKind","normalizeUnicode","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","pdfFileName","pageNum","onPageCountChange","onPageChange","canvasRef","pdfDoc","setPdfDoc","pageRendering","setPageRendering","totalPages","setTotalPages","setRenderTask","thumbnails","setThumbnails","showThumbnails","setShowThumbnails","THUMBNAIL_ENABLED","pdfUrl","firstBytes","firstString","pdf","displayPages","loadPDF","markupCanvas","renderPage","currentRenderTask","renderContext","renderCurrentPage","generateThumbnail","scaledViewport","dataUrl","generateThumbnailIfNeeded","newThumbnails","sortedKeys","distA","willChange","backfaceVisibility","isOpen","onClose","bookTitle","messages","setMessages","inputMessage","setInputMessage","isTyping","setIsTyping","messagesEndRef","scrollToBottom","_messagesEndRef$curre","behavior","handleSendMessage","userMessage","aiResponse","generateAIResponse","aiMessage","userInput","responses","wordWrap","onKeyPress","formData","setFormData","handleInputChange","boxSizing","onBackToBookList","onViewSubmission","submissions","setSubmissions","selectedSubmission","setSelectedSubmission","filterStatus","setFilterStatus","studentId","studentName","bookUrl","submittedAt","hasAudio","hasDrawing","strokeData","audioUrl","teacherId","teacherName","feedbackStrokeData","gradedAt","filteredSubmissions","submission","matchesStatus","matchesSearch","handleViewSubmission","cx","cy","statusColor","getStatusColor","dateString","toLocaleString","onGoToSubmissions","localeCompare","originalIndex","isFavorite","handleFavoriteToggle","whiteSpace","textOverflow","TeacherSubmissionPage","_submission$strokeDat","onBackToSubmissions","onSaveFeedback","audioRef","setZoomScale","setSelectedTool","setSelectedColor","setBrushSize","teacherAnnotations","setTeacherAnnotations","showStudentWork","setShowStudentWork","showTeacherAnnotations","setShowTeacherAnnotations","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","createStudentWorkImage","imageDataUrl","renderImage","imageSmoothingQuality","redrawAnnotations","arc","newAnnotation","formatTime","seconds","isFinite","mins","secs","handleSaveFeedback","studentSubmissionId","handleZoomOut","handleZoomIn","onTimeUpdate","handleTimeUpdate","audio","onLoadedMetadata","handleLoadedMetadata","onEnded","handleAudioEnded","handleAudioPlay","play","onBackToStudentPage","setShowTeacherFeedback","createFeedbackImage","problem","problemTypes","answer","problemData","paddingBottom","MOCK_TEXTBOOKS","MOCK_PAGES","sampleProblem","pageNo","problemNo","promptText","AdminPage","_MOCK_TEXTBOOKS$find","_MOCK_TEXTBOOKS$find2","_aiResults$selectedPr","_aiResults$selectedPr2","_aiResults$selectedPr3","_aiResults$selectedPr4","_aiResults$selectedPr5","_aiResults$selectedPr6","_MOCK_TEXTBOOKS$find3","setStep","bookId","setBookId","selectedPages","setSelectedPages","problems","setProblems","generateProblems","imageText","problemType","selectedProblemId","setSelectedProblemId","busy","setBusy","aiResults","setAiResults","progress","setProgress","showCompletionModal","setShowCompletionModal","selectedProblem","cardStyle","buttonStyle","primaryButtonStyle","secondaryButtonStyle","progressInterval","setInterval","clearInterval","newResults","mockResults","","","","","","","","","","","getMockResults","onTogglePage","marginRight","wordBreak","addProblem","pid","MathProblemImage","","_files$activeFileInde2","_files$activeFileInde5","_files$activeFileInde6","currentPage","setCurrentPage","isAIChatbotOpen","setIsAIChatbotOpen","studentFeedback","setStudentFeedback","currentPdfUrl","setCurrentPdfUrl","activeFileIndex","setActiveFileIndex","currentFile","isCurrentFilePDF","pageCount","setPageCount","currentPageNum","setCurrentPageNum","setIsRecording","setStrokeData","isReplaying","setIsReplaying","replayProgress","setReplayProgress","setAudioUrl","studentSubmission","setStudentSubmission","teacherFeedback","submissionAlert","setSubmissionAlert","isFloatingPanelOpen","setIsFloatingPanelOpen","mediaRecorder","setMediaRecorder","currentAudio","setCurrentAudio","audioDuration","setAudioDuration","handleUserTypeSelect","handleLogin","handleTeacherLogin","handleBookSelect","handleTeacherBookSelect","handleGoToSubmissions","handleBackToSubmissions","setItem","studentFeedbackData","newNotification","isRead","handleBackToStudentPage","handlePrevPage","handleNextPage","handleToolChange","handleColorChange","handleBrushSizeChange","handleRecordingToggle","stop","mediaDevices","getUserMedia","recorder","MediaRecorder","chunks","ondataavailable","onstop","audioBlob","getTracks","handleCombinedReplay","Audio","onloadedmetadata","ontimeupdate","onended","currentStroke","replayInterval","handleStrokeDataChange","newStrokeData","handleLogout","LandingPage","LoginPage","BookListPage","TeacherLoginPage","TeacherBookListPage","TeacherAnnotationViewer","StudentFeedbackViewer","submissionData","_files$activeFileInde3","StaticPDFViewer","ImageViewer","rx","AIChatbot","_files$activeFileInde4","handleCombinedStop","clickX","newTime","handleTimeChange","handleRerecord","confirm","revokeObjectURL","handleStudentSubmission","_files$activeFileInde","handleTeacherFeedback","handleViewStudentFeedback","feedbackData","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","React","App","reportWebVitals"],"sourceRoot":""}